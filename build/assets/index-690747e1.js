import{f as B,T as N,j as e,F as a,D as C,B as x,r as o,a5 as L,h as b,b1 as v,E as F}from"./index-4c0a1bb6.js";import{B as D}from"./index-608e37ff.js";import{c as k,F as z,B as I,C as M}from"./react-toastify.esm-4488f51d.js";import{u as R}from"./index-b8b8460c.js";import{T as _}from"./index-3d75b19c.js";import{S as A}from"./Skeleton-4a586355.js";import"./index.esm-0c1f390f.js";import"./InfoIcon-0a1adb78.js";const P=()=>e.jsxs(a,{children:[e.jsx(a,{align:"center",direction:"row",justify:"space-between",mb:18,children:e.jsx(a,{align:"center",direction:"row",children:e.jsx(V,{children:"Edit node name"})})}),e.jsx(a,{mb:12,children:e.jsx(_,{id:"cy-topic",maxLength:50,name:"topic",placeholder:"Node name",rules:{...C}})})]}),V=B(N)`
  font-size: 22px;
  font-weight: 600;
  font-family: 'Barlow';
`,q=()=>{const{close:r}=x("editNodeName"),[h]=R(n=>[n.data]),c=k({mode:"onChange"}),{watch:j,setValue:d,reset:l}=c,[m,f]=o.useState(!1),[u,p]=o.useState(!1),[t,y]=o.useState(),s=L();o.useEffect(()=>(t&&d("name",t==null?void 0:t.name),()=>{l()}),[t,d,l]),o.useEffect(()=>{(async()=>{if(s){p(!0);try{const{data:i}=await v({search:s==null?void 0:s.name}),T=i.find(w=>w.name===s.name);y(T)}catch(i){console.error(i)}finally{p(!1)}}})()},[s]);const S=j("name"),g=()=>{r()},E=async()=>{f(!0);try{await F((t==null?void 0:t.ref_id)||"",{name:S.trim()}),g()}catch(n){console.warn(n)}finally{f(!1)}};return e.jsxs(z,{...c,children:[u?e.jsx(a,{my:24,children:e.jsx(A,{})}):e.jsx(P,{}),e.jsxs(I,{color:"secondary",disabled:m||u,onClick:E,size:"large",variant:"contained",children:["Save",m&&e.jsx(M,{color:b.BLUE_PRESS_STATE,size:10})]})]})},X=()=>{const{close:r}=x("editNodeName");return e.jsx(D,{id:"editNodeName",kind:"regular",onClose:r,preventOutsideClose:!0,children:e.jsx(q,{})})};export{X as EditNodeNameModal};
