import{r as Z,ae as Qu,c6 as Yl,bx as Xu,c7 as mc,bM as gc,c4 as Yu,an as yc,am as Wi,c8 as Sc,bf as Ea,be as ka,bv as uu,c9 as Jl,ca as wc,cb as _c,cc as xc,c3 as Ec,cd as kc,ce as Tc,cf as Uc,Z as ft,bh as Fr,cg as Pc,_ as li,bF as Cc,bt as Mc,aI as Ta,ch as Ko,ci as Ju,au as fa,cj as ca,ck as ri,cl as Fc,bB as Ua,bT as Dc,cm as da,cn as fu,bZ as Lc,c2 as ai,ao as Ku,co as Rc,aq as Zo,ax as Ac,b$ as Oc,bY as zc,cp as Ic,cq as Bc,bU as Nc,b_ as cu,bS as Gc,cr as bc,cs as jc,ct as Wc,cu as Pa}from"./index-d939ea8c.js";var Zu={exports:{}},Dr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Dr.ConcurrentRoot=1;Dr.ContinuousEventPriority=4;Dr.DefaultEventPriority=16;Dr.DiscreteEventPriority=1;Dr.IdleEventPriority=536870912;Dr.LegacyRoot=0;Zu.exports=Dr;var ii=Zu.exports;function Hc(d){let i;const p=new Set,g=(h,c)=>{const m=typeof h=="function"?h(i):h;if(m!==i){const y=i;i=c?m:Object.assign({},i,m),p.forEach(S=>S(i,y))}},o=()=>i,n=(h,c=o,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=c(i);function S(){const E=c(i);if(!m(y,E)){const T=y;h(y=E,T)}}return p.add(S),()=>p.delete(S)},a={setState:g,getState:o,subscribe:(h,c,m)=>c||m?n(h,c,m):(p.add(h),()=>p.delete(h)),destroy:()=>p.clear()};return i=d(g,o,a),a}const Vc=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),du=Vc?Z.useEffect:Z.useLayoutEffect;function Qc(d){const i=typeof d=="function"?Hc(d):d,p=(g=i.getState,o=Object.is)=>{const[,n]=Z.useReducer(x=>x+1,0),s=i.getState(),u=Z.useRef(s),a=Z.useRef(g),h=Z.useRef(o),c=Z.useRef(!1),m=Z.useRef();m.current===void 0&&(m.current=g(s));let y,S=!1;(u.current!==s||a.current!==g||h.current!==o||c.current)&&(y=g(s),S=!o(m.current,y)),du(()=>{S&&(m.current=y),u.current=s,a.current=g,h.current=o,c.current=!1});const E=Z.useRef(s);du(()=>{const x=()=>{try{const w=i.getState(),U=a.current(w);h.current(m.current,U)||(u.current=w,m.current=U,n())}catch{c.current=!0,n()}},k=i.subscribe(x);return i.getState()!==E.current&&x(),k},[]);const T=S?y:m.current;return Z.useDebugValue(T),T};return Object.assign(p,i),p[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const g=[p,i];return{next(){const o=g.length<=0;return{value:g.shift(),done:o}}}},p}var qu={exports:{}},$u={exports:{}},ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(d){function i(H,z){var b=H.length;H.push(z);e:for(;0<b;){var P=b-1>>>1,O=H[P];if(0<o(O,z))H[P]=z,H[b]=O,b=P;else break e}}function p(H){return H.length===0?null:H[0]}function g(H){if(H.length===0)return null;var z=H[0],b=H.pop();if(b!==z){H[0]=b;e:for(var P=0,O=H.length,V=O>>>1;P<V;){var X=2*(P+1)-1,j=H[X],ne=X+1,Q=H[ne];if(0>o(j,b))ne<O&&0>o(Q,j)?(H[P]=Q,H[ne]=b,P=ne):(H[P]=j,H[X]=b,P=X);else if(ne<O&&0>o(Q,b))H[P]=Q,H[ne]=b,P=ne;else break e}}return z}function o(H,z){var b=H.sortIndex-z.sortIndex;return b!==0?b:H.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;d.unstable_now=function(){return n.now()}}else{var s=Date,u=s.now();d.unstable_now=function(){return s.now()-u}}var a=[],h=[],c=1,m=null,y=3,S=!1,E=!1,T=!1,x=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(H){for(var z=p(h);z!==null;){if(z.callback===null)g(h);else if(z.startTime<=H)g(h),z.sortIndex=z.expirationTime,i(a,z);else break;z=p(h)}}function R(H){if(T=!1,U(H),!E)if(p(a)!==null)E=!0,oe(F);else{var z=p(h);z!==null&&pe(R,z.startTime-H)}}function F(H,z){E=!1,T&&(T=!1,k(B),B=-1),S=!0;var b=y;try{for(U(z),m=p(a);m!==null&&(!(m.expirationTime>z)||H&&!G());){var P=m.callback;if(typeof P=="function"){m.callback=null,y=m.priorityLevel;var O=P(m.expirationTime<=z);z=d.unstable_now(),typeof O=="function"?m.callback=O:m===p(a)&&g(a),U(z)}else g(a);m=p(a)}if(m!==null)var V=!0;else{var X=p(h);X!==null&&pe(R,X.startTime-z),V=!1}return V}finally{m=null,y=b,S=!1}}var D=!1,I=null,B=-1,Y=5,ie=-1;function G(){return!(d.unstable_now()-ie<Y)}function L(){if(I!==null){var H=d.unstable_now();ie=H;var z=!0;try{z=I(!0,H)}finally{z?$():(D=!1,I=null)}}else D=!1}var $;if(typeof w=="function")$=function(){w(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,te=K.port2;K.port1.onmessage=L,$=function(){te.postMessage(null)}}else $=function(){x(L,0)};function oe(H){I=H,D||(D=!0,$())}function pe(H,z){B=x(function(){H(d.unstable_now())},z)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(H){H.callback=null},d.unstable_continueExecution=function(){E||S||(E=!0,oe(F))},d.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<H?Math.floor(1e3/H):5},d.unstable_getCurrentPriorityLevel=function(){return y},d.unstable_getFirstCallbackNode=function(){return p(a)},d.unstable_next=function(H){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var b=y;y=z;try{return H()}finally{y=b}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var b=y;y=H;try{return z()}finally{y=b}},d.unstable_scheduleCallback=function(H,z,b){var P=d.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?P+b:P):b=P,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=b+O,H={id:c++,callback:z,priorityLevel:H,startTime:b,expirationTime:O,sortIndex:-1},b>P?(H.sortIndex=b,i(h,H),p(a)===null&&H===p(h)&&(T?(k(B),B=-1):T=!0,pe(R,b-P))):(H.sortIndex=O,i(a,H),E||S||(E=!0,oe(F))),H},d.unstable_shouldYield=G,d.unstable_wrapCallback=function(H){var z=y;return function(){var b=y;y=z;try{return H.apply(this,arguments)}finally{y=b}}}})(ef);$u.exports=ef;var ha=$u.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=function(i){var p={},g=Z,o=ha,n=Object.assign;function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),F=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}function I(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case c:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:I(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return I(e(t))}catch{}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Y(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ie(e){if(Y(e)!==e)throw Error(s(188))}function G(e){var t=e.alternate;if(!t){if(t=Y(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var f=r.return;if(f===null)break;var v=f.alternate;if(v===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===r)return ie(f),e;if(v===l)return ie(f),t;v=v.sibling}throw Error(s(188))}if(r.return!==l.return)r=f,l=v;else{for(var _=!1,C=f.child;C;){if(C===r){_=!0,r=f,l=v;break}if(C===l){_=!0,l=f,r=v;break}C=C.sibling}if(!_){for(C=v.child;C;){if(C===r){_=!0,r=v,l=f;break}if(C===l){_=!0,l=v,r=f;break}C=C.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function L(e){return e=G(e),e!==null?$(e):null}function $(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$(e);if(t!==null)return t;e=e.sibling}return null}function K(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=K(e);if(t!==null)return t}e=e.sibling}return null}var te=Array.isArray,oe=i.getPublicInstance,pe=i.getRootHostContext,H=i.getChildHostContext,z=i.prepareForCommit,b=i.resetAfterCommit,P=i.createInstance,O=i.appendInitialChild,V=i.finalizeInitialChildren,X=i.prepareUpdate,j=i.shouldSetTextContent,ne=i.createTextInstance,Q=i.scheduleTimeout,ee=i.cancelTimeout,se=i.noTimeout,fe=i.isPrimaryRenderer,J=i.supportsMutation,q=i.supportsPersistence,ye=i.supportsHydration,Fe=i.getInstanceFromNode,ue=i.preparePortalMount,we=i.getCurrentEventPriority,Ue=i.detachDeletedInstance,le=i.supportsMicrotasks,_e=i.scheduleMicrotask,he=i.supportsTestSelectors,re=i.findFiberRoot,Pe=i.getBoundingRect,ge=i.getTextContent,Se=i.isHiddenSubtree,ve=i.matchAccessibilityRole,be=i.setFocusIfFocusable,Ae=i.setupIntersectionObserver,Te=i.appendChild,Oe=i.appendChildToContainer,je=i.commitTextUpdate,lt=i.commitMount,Re=i.commitUpdate,Ke=i.insertBefore,Be=i.insertInContainerBefore,Me=i.removeChild,Ve=i.removeChildFromContainer,Ye=i.resetTextContent,at=i.hideInstance,ze=i.hideTextInstance,qe=i.unhideInstance,Ut=i.unhideTextInstance,wn=i.clearContainer,Nn=i.cloneInstance,_n=i.createContainerChildSet,It=i.appendChildToContainerChildSet,Bt=i.finalizeContainerChildren,$e=i.replaceContainerChildren,Zn=i.cloneHiddenInstance,tt=i.cloneHiddenTextInstance,nt=i.canHydrateInstance,Zt=i.canHydrateTextInstance,Nt=i.canHydrateSuspenseInstance,Qe=i.isSuspenseInstancePending,ct=i.isSuspenseInstanceFallback,Qt=i.registerSuspenseInstanceRetry,st=i.getNextHydratableSibling,vt=i.getFirstHydratableChild,Pt=i.getFirstHydratableChildWithinContainer,Un=i.getFirstHydratableChildWithinSuspenseInstance,qt=i.hydrateInstance,Gn=i.hydrateTextInstance,$o=i.hydrateSuspenseInstance,Qi=i.getNextHydratableInstanceAfterSuspenseInstance,ur=i.commitHydratedContainer,fi=i.commitHydratedSuspenseInstance,el=i.clearSuspenseBoundary,Xi=i.clearSuspenseBoundaryFromContainer,Lr=i.shouldDeleteUnhydratedTailInstances,ci=i.didNotMatchHydratedContainerTextInstance,di=i.didNotMatchHydratedTextInstance,xe;function xn(e){if(xe===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xe=t&&t[1]||""}return`
`+xe+e}var hi=!1;function Pn(e,t){if(!e||hi)return"";hi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(ae){var l=ae}Reflect.construct(e,[],t)}else{try{t.call()}catch(ae){l=ae}e.call(t.prototype)}else{try{throw Error()}catch(ae){l=ae}e()}}catch(ae){if(ae&&l&&typeof ae.stack=="string"){for(var f=ae.stack.split(`
`),v=l.stack.split(`
`),_=f.length-1,C=v.length-1;1<=_&&0<=C&&f[_]!==v[C];)C--;for(;1<=_&&0<=C;_--,C--)if(f[_]!==v[C]){if(_!==1||C!==1)do if(_--,C--,0>C||f[_]!==v[C]){var W=`
`+f[_].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=_&&0<=C);break}}}finally{hi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xn(e):""}var Rr=Object.prototype.hasOwnProperty,Ar=[],Cn=-1;function $t(e){return{current:e}}function Xe(e){0>Cn||(e.current=Ar[Cn],Ar[Cn]=null,Cn--)}function Je(e,t){Cn++,Ar[Cn]=e.current,e.current=t}var en={},yt=$t(en),wt=$t(!1),Mn=en;function cn(e,t){var r=e.type.contextTypes;if(!r)return en;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in r)f[v]=t[v];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=f),f}function _t(e){return e=e.childContextTypes,e!=null}function En(){Xe(wt),Xe(yt)}function Or(e,t,r){if(yt.current!==en)throw Error(s(168));Je(yt,t),Je(wt,r)}function zr(e,t,r){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var f in l)if(!(f in t))throw Error(s(108,B(e)||"Unknown",f));return n({},r,l)}function qn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,Mn=yt.current,Je(yt,e),Je(wt,wt.current),!0}function tn(e,t,r){var l=e.stateNode;if(!l)throw Error(s(169));r?(e=zr(e,t,Mn),l.__reactInternalMemoizedMergedChildContext=e,Xe(wt),Xe(yt),Je(yt,e)):Xe(wt),Je(wt,r)}var nn=Math.clz32?Math.clz32:Yi,Ir=Math.log,fr=Math.LN2;function Yi(e){return e>>>=0,e===0?32:31-(Ir(e)/fr|0)|0}var bn=64,jn=4194304;function Wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cr(e,t){var r=e.pendingLanes;if(r===0)return 0;var l=0,f=e.suspendedLanes,v=e.pingedLanes,_=r&268435455;if(_!==0){var C=_&~f;C!==0?l=Wn(C):(v&=_,v!==0&&(l=Wn(v)))}else _=r&~f,_!==0?l=Wn(_):v!==0&&(l=Wn(v));if(l===0)return 0;if(t!==0&&t!==l&&!(t&f)&&(f=l&-l,v=t&-t,f>=v||f===16&&(v&4194240)!==0))return t;if(l&4&&(l|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)r=31-nn(t),f=1<<r,l|=e[r],t&=~f;return l}function Ji(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,v=e.pendingLanes;0<v;){var _=31-nn(v),C=1<<_,W=f[_];W===-1?(!(C&r)||C&l)&&(f[_]=Ji(C,t)):W<=t&&(e.expiredLanes|=C),v&=~C}}function Hn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Br(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nn(t),e[t]=r}function $n(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var f=31-nn(r),v=1<<f;t[f]=0,l[f]=-1,e[f]=-1,r&=~v}}function Dn(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-nn(r),f=1<<l;f&t|e[l]&t&&(e[l]|=t),r&=~f}}var Ge=0;function vi(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vn=o.unstable_scheduleCallback,Nr=o.unstable_cancelCallback,mi=o.unstable_shouldYield,Ki=o.unstable_requestPaint,it=o.unstable_now,dr=o.unstable_ImmediatePriority,Zi=o.unstable_UserBlockingPriority,Gt=o.unstable_NormalPriority,gi=o.unstable_IdlePriority,hr=null,rn=null;function yi(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(hr,e,void 0,(e.current.flags&128)===128)}catch{}}function qi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:qi,bt=null,Ln=!1,dn=!1;function Si(e){bt===null?bt=[e]:bt.push(e)}function wi(e){Ln=!0,Si(e)}function Xt(){if(!dn&&bt!==null){dn=!0;var e=0,t=Ge;try{var r=bt;for(Ge=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}bt=null,Ln=!1}catch(f){throw bt!==null&&(bt=bt.slice(e+1)),Vn(dr,Xt),f}finally{Ge=t,dn=!1}}return null}var pr=u.ReactCurrentBatchConfig;function vr(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!Rr.call(t,f)||!on(e[f],t[f]))return!1}return!0}function mr(e){switch(e.tag){case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return xn("Suspense");case 19:return xn("SuspenseList");case 0:case 2:case 15:return e=Pn(e.type,!1),e;case 11:return e=Pn(e.type.render,!1),e;case 1:return e=Pn(e.type,!0),e;default:return""}}function jt(e,t){if(e&&e.defaultProps){t=n({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var xt=$t(null),Gr=null,kn=null,er=null;function br(){er=kn=Gr=null}function $i(e,t,r){fe?(Je(xt,t._currentValue),t._currentValue=r):(Je(xt,t._currentValue2),t._currentValue2=r)}function Et(e){var t=xt.current;Xe(xt),fe?e._currentValue=t:e._currentValue2=t}function Wt(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function dt(e,t){Gr=e,er=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(un=!0),e.firstContext=null)}function ht(e){var t=fe?e._currentValue:e._currentValue2;if(er!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(Gr===null)throw Error(s(308));kn=e,Gr.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var ln=null,tr=!1;function tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function za(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t){var r=e.updateQueue;r!==null&&(r=r.shared,mt!==null&&e.mode&1&&!(Ne&2)?(e=r.interleaved,e===null?(t.next=t,ln===null?ln=[r]:ln.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(e=r.pending,e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function eo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Dn(e,r)}}function Ia(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var _={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};v===null?f=v=_:v=v.next=_,r=r.next}while(r!==null);v===null?f=v=t:v=v.next=t}else f=v=t;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function to(e,t,r,l){var f=e.updateQueue;tr=!1;var v=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var W=C,ae=W.next;W.next=null,_===null?v=ae:_.next=ae,_=W;var me=e.alternate;me!==null&&(me=me.updateQueue,C=me.lastBaseUpdate,C!==_&&(C===null?me.firstBaseUpdate=ae:C.next=ae,me.lastBaseUpdate=W))}if(v!==null){var De=f.baseState;_=0,me=ae=W=null,C=v;do{var Ce=C.lane,Ze=C.eventTime;if((l&Ce)===Ce){me!==null&&(me=me.next={eventTime:Ze,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ke=e,Ot=C;switch(Ce=t,Ze=r,Ot.tag){case 1:if(ke=Ot.payload,typeof ke=="function"){De=ke.call(Ze,De,Ce);break e}De=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ot.payload,Ce=typeof ke=="function"?ke.call(Ze,De,Ce):ke,Ce==null)break e;De=n({},De,Ce);break e;case 2:tr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,Ce=f.effects,Ce===null?f.effects=[C]:Ce.push(C))}else Ze={eventTime:Ze,lane:Ce,tag:C.tag,payload:C.payload,callback:C.callback,next:null},me===null?(ae=me=Ze,W=De):me=me.next=Ze,_|=Ce;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;Ce=C,C=Ce.next,Ce.next=null,f.lastBaseUpdate=Ce,f.shared.pending=null}}while(1);if(me===null&&(W=De),f.baseState=W,f.firstBaseUpdate=ae,f.lastBaseUpdate=me,t=f.shared.interleaved,t!==null){f=t;do _|=f.lane,f=f.next;while(f!==t)}else v===null&&(f.shared.lanes=0);Kr|=_,e.lanes=_,e.memoizedState=De}}function Ba(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],f=l.callback;if(f!==null){if(l.callback=null,l=r,typeof f!="function")throw Error(s(191,f));f.call(l)}}}var Na=new g.Component().refs;function nl(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:n({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var no={isMounted:function(e){return(e=e._reactInternals)?Y(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Vt(),f=or(e),v=Qn(l,f);v.payload=t,r!=null&&(v.callback=r),nr(e,v),t=gn(e,f,l),t!==null&&eo(t,e,f)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Vt(),f=or(e),v=Qn(l,f);v.tag=1,v.payload=t,r!=null&&(v.callback=r),nr(e,v),t=gn(e,f,l),t!==null&&eo(t,e,f)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vt(),l=or(e),f=Qn(r,l);f.tag=2,t!=null&&(f.callback=t),nr(e,f),t=gn(e,l,r),t!==null&&eo(t,e,l)}};function Ga(e,t,r,l,f,v,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,v,_):t.prototype&&t.prototype.isPureReactComponent?!vr(r,l)||!vr(f,v):!0}function ba(e,t,r){var l=!1,f=en,v=t.contextType;return typeof v=="object"&&v!==null?v=ht(v):(f=_t(t)?Mn:yt.current,l=t.contextTypes,v=(l=l!=null)?cn(e,f):en),t=new t(r,v),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=v),t}function ja(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function rl(e,t,r,l){var f=e.stateNode;f.props=r,f.state=e.memoizedState,f.refs=Na,tl(e);var v=t.contextType;typeof v=="object"&&v!==null?f.context=ht(v):(v=_t(t)?Mn:yt.current,f.context=cn(e,v)),f.state=e.memoizedState,v=t.getDerivedStateFromProps,typeof v=="function"&&(nl(e,t,v,r),f.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(t=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),t!==f.state&&no.enqueueReplaceState(f,f.state,null),to(e,r,f,l),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}var jr=[],Wr=0,ro=null,io=0,hn=[],pn=0,gr=null,Xn=1,Yn="";function yr(e,t){jr[Wr++]=io,jr[Wr++]=ro,ro=e,io=t}function Wa(e,t,r){hn[pn++]=Xn,hn[pn++]=Yn,hn[pn++]=gr,gr=e;var l=Xn;e=Yn;var f=32-nn(l)-1;l&=~(1<<f),r+=1;var v=32-nn(t)+f;if(30<v){var _=f-f%5;v=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Xn=1<<32-nn(t)+f|r<<f|l,Yn=v+e}else Xn=1<<v|r<<f|l,Yn=e}function il(e){e.return!==null&&(yr(e,1),Wa(e,1,0))}function ol(e){for(;e===ro;)ro=jr[--Wr],jr[Wr]=null,io=jr[--Wr],jr[Wr]=null;for(;e===gr;)gr=hn[--pn],hn[pn]=null,Yn=hn[--pn],hn[pn]=null,Xn=hn[--pn],hn[pn]=null}var an=null,sn=null,rt=!1,_i=!1,Tn=null;function Ha(e,t){var r=yn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Va(e,t){switch(e.tag){case 5:return t=nt(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,an=e,sn=vt(t),!0):!1;case 6:return t=Zt(t,e.pendingProps),t!==null?(e.stateNode=t,an=e,sn=null,!0):!1;case 13:if(t=Nt(t),t!==null){var r=gr!==null?{id:Xn,overflow:Yn}:null;return e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,an=e,sn=null,!0}return!1;default:return!1}}function ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function al(e){if(rt){var t=sn;if(t){var r=t;if(!Va(e,t)){if(ll(e))throw Error(s(418));t=st(r);var l=an;t&&Va(e,t)?Ha(l,r):(e.flags=e.flags&-4097|2,rt=!1,an=e)}}else{if(ll(e))throw Error(s(418));e.flags=e.flags&-4097|2,rt=!1,an=e}}}function Qa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function xi(e){if(!ye||e!==an)return!1;if(!rt)return Qa(e),rt=!0,!1;if(e.tag!==3&&(e.tag!==5||Lr(e.type)&&!j(e.type,e.memoizedProps))){var t=sn;if(t){if(ll(e)){for(e=sn;e;)e=st(e);throw Error(s(418))}for(;t;)Ha(e,t),t=st(t)}}if(Qa(e),e.tag===13){if(!ye)throw Error(s(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));sn=Qi(e)}else sn=an?st(e.stateNode):null;return!0}function Hr(){ye&&(sn=an=null,_i=rt=!1)}function sl(e){Tn===null?Tn=[e]:Tn.push(e)}function Ei(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var l=r.stateNode}if(!l)throw Error(s(147,e));var f=l,v=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===v?t.ref:(t=function(_){var C=f.refs;C===Na&&(C=f.refs={}),_===null?delete C[v]:C[v]=_},t._stringRef=v,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function oo(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){var t=e._init;return t(e._payload)}function Ya(e){function t(A,M){if(e){var N=A.deletions;N===null?(A.deletions=[M],A.flags|=16):N.push(M)}}function r(A,M){if(!e)return null;for(;M!==null;)t(A,M),M=M.sibling;return null}function l(A,M){for(A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function f(A,M){return A=ar(A,M),A.index=0,A.sibling=null,A}function v(A,M,N){return A.index=N,e?(N=A.alternate,N!==null?(N=N.index,N<M?(A.flags|=2,M):N):(A.flags|=2,M)):(A.flags|=1048576,M)}function _(A){return e&&A.alternate===null&&(A.flags|=2),A}function C(A,M,N,de){return M===null||M.tag!==6?(M=Vl(N,A.mode,de),M.return=A,M):(M=f(M,N),M.return=A,M)}function W(A,M,N,de){var Ee=N.type;return Ee===c?me(A,M,N.props.children,de,N.key):M!==null&&(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===U&&Xa(Ee)===M.type)?(de=f(M,N.props),de.ref=Ei(A,M,N),de.return=A,de):(de=Io(N.type,N.key,N.props,null,A.mode,de),de.ref=Ei(A,M,N),de.return=A,de)}function ae(A,M,N,de){return M===null||M.tag!==4||M.stateNode.containerInfo!==N.containerInfo||M.stateNode.implementation!==N.implementation?(M=Ql(N,A.mode,de),M.return=A,M):(M=f(M,N.children||[]),M.return=A,M)}function me(A,M,N,de,Ee){return M===null||M.tag!==7?(M=Tr(N,A.mode,de,Ee),M.return=A,M):(M=f(M,N),M.return=A,M)}function De(A,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Vl(""+M,A.mode,N),M.return=A,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case a:return N=Io(M.type,M.key,M.props,null,A.mode,N),N.ref=Ei(A,null,M),N.return=A,N;case h:return M=Ql(M,A.mode,N),M.return=A,M;case U:var de=M._init;return De(A,de(M._payload),N)}if(te(M)||D(M))return M=Tr(M,A.mode,N,null),M.return=A,M;oo(A,M)}return null}function Ce(A,M,N,de){var Ee=M!==null?M.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Ee!==null?null:C(A,M,""+N,de);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case a:return N.key===Ee?W(A,M,N,de):null;case h:return N.key===Ee?ae(A,M,N,de):null;case U:return Ee=N._init,Ce(A,M,Ee(N._payload),de)}if(te(N)||D(N))return Ee!==null?null:me(A,M,N,de,null);oo(A,N)}return null}function Ze(A,M,N,de,Ee){if(typeof de=="string"&&de!==""||typeof de=="number")return A=A.get(N)||null,C(M,A,""+de,Ee);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case a:return A=A.get(de.key===null?N:de.key)||null,W(M,A,de,Ee);case h:return A=A.get(de.key===null?N:de.key)||null,ae(M,A,de,Ee);case U:var Ie=de._init;return Ze(A,M,N,Ie(de._payload),Ee)}if(te(de)||D(de))return A=A.get(N)||null,me(M,A,de,Ee,null);oo(M,de)}return null}function ke(A,M,N,de){for(var Ee=null,Ie=null,Le=M,We=M=0,Tt=null;Le!==null&&We<N.length;We++){Le.index>We?(Tt=Le,Le=null):Tt=Le.sibling;var He=Ce(A,Le,N[We],de);if(He===null){Le===null&&(Le=Tt);break}e&&Le&&He.alternate===null&&t(A,Le),M=v(He,M,We),Ie===null?Ee=He:Ie.sibling=He,Ie=He,Le=Tt}if(We===N.length)return r(A,Le),rt&&yr(A,We),Ee;if(Le===null){for(;We<N.length;We++)Le=De(A,N[We],de),Le!==null&&(M=v(Le,M,We),Ie===null?Ee=Le:Ie.sibling=Le,Ie=Le);return rt&&yr(A,We),Ee}for(Le=l(A,Le);We<N.length;We++)Tt=Ze(Le,A,We,N[We],de),Tt!==null&&(e&&Tt.alternate!==null&&Le.delete(Tt.key===null?We:Tt.key),M=v(Tt,M,We),Ie===null?Ee=Tt:Ie.sibling=Tt,Ie=Tt);return e&&Le.forEach(function(sr){return t(A,sr)}),rt&&yr(A,We),Ee}function Ot(A,M,N,de){var Ee=D(N);if(typeof Ee!="function")throw Error(s(150));if(N=Ee.call(N),N==null)throw Error(s(151));for(var Ie=Ee=null,Le=M,We=M=0,Tt=null,He=N.next();Le!==null&&!He.done;We++,He=N.next()){Le.index>We?(Tt=Le,Le=null):Tt=Le.sibling;var sr=Ce(A,Le,He.value,de);if(sr===null){Le===null&&(Le=Tt);break}e&&Le&&sr.alternate===null&&t(A,Le),M=v(sr,M,We),Ie===null?Ee=sr:Ie.sibling=sr,Ie=sr,Le=Tt}if(He.done)return r(A,Le),rt&&yr(A,We),Ee;if(Le===null){for(;!He.done;We++,He=N.next())He=De(A,He.value,de),He!==null&&(M=v(He,M,We),Ie===null?Ee=He:Ie.sibling=He,Ie=He);return rt&&yr(A,We),Ee}for(Le=l(A,Le);!He.done;We++,He=N.next())He=Ze(Le,A,We,He.value,de),He!==null&&(e&&He.alternate!==null&&Le.delete(He.key===null?We:He.key),M=v(He,M,We),Ie===null?Ee=He:Ie.sibling=He,Ie=He);return e&&Le.forEach(function(vc){return t(A,vc)}),rt&&yr(A,We),Ee}function Sn(A,M,N,de){if(typeof N=="object"&&N!==null&&N.type===c&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case a:e:{for(var Ee=N.key,Ie=M;Ie!==null;){if(Ie.key===Ee){if(Ee=N.type,Ee===c){if(Ie.tag===7){r(A,Ie.sibling),M=f(Ie,N.props.children),M.return=A,A=M;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===U&&Xa(Ee)===Ie.type){r(A,Ie.sibling),M=f(Ie,N.props),M.ref=Ei(A,Ie,N),M.return=A,A=M;break e}r(A,Ie);break}else t(A,Ie);Ie=Ie.sibling}N.type===c?(M=Tr(N.props.children,A.mode,de,N.key),M.return=A,A=M):(de=Io(N.type,N.key,N.props,null,A.mode,de),de.ref=Ei(A,M,N),de.return=A,A=de)}return _(A);case h:e:{for(Ie=N.key;M!==null;){if(M.key===Ie)if(M.tag===4&&M.stateNode.containerInfo===N.containerInfo&&M.stateNode.implementation===N.implementation){r(A,M.sibling),M=f(M,N.children||[]),M.return=A,A=M;break e}else{r(A,M);break}else t(A,M);M=M.sibling}M=Ql(N,A.mode,de),M.return=A,A=M}return _(A);case U:return Ie=N._init,Sn(A,M,Ie(N._payload),de)}if(te(N))return ke(A,M,N,de);if(D(N))return Ot(A,M,N,de);oo(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,M!==null&&M.tag===6?(r(A,M.sibling),M=f(M,N),M.return=A,A=M):(r(A,M),M=Vl(N,A.mode,de),M.return=A,A=M),_(A)):r(A,M)}return Sn}var Vr=Ya(!0),Ja=Ya(!1),ki={},vn=$t(ki),Ti=$t(ki),Qr=$t(ki);function Rn(e){if(e===ki)throw Error(s(174));return e}function ul(e,t){Je(Qr,t),Je(Ti,e),Je(vn,ki),e=pe(t),Xe(vn),Je(vn,e)}function Xr(){Xe(vn),Xe(Ti),Xe(Qr)}function Ka(e){var t=Rn(Qr.current),r=Rn(vn.current);t=H(r,e.type,t),r!==t&&(Je(Ti,e),Je(vn,t))}function fl(e){Ti.current===e&&(Xe(vn),Xe(Ti))}var ot=$t(0);function lo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qe(r)||ct(r)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function dl(){for(var e=0;e<cl.length;e++){var t=cl[e];fe?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}cl.length=0}var ao=u.ReactCurrentDispatcher,mn=u.ReactCurrentBatchConfig,Yr=0,ut=null,Lt=null,kt=null,so=!1,Ui=!1,Pi=0,Gf=0;function Rt(){throw Error(s(321))}function hl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function pl(e,t,r,l,f,v){if(Yr=v,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=e===null||e.memoizedState===null?Hf:Vf,e=r(l,f),Ui){v=0;do{if(Ui=!1,Pi=0,25<=v)throw Error(s(301));v+=1,kt=Lt=null,t.updateQueue=null,ao.current=Qf,e=r(l,f)}while(Ui)}if(ao.current=po,t=Lt!==null&&Lt.next!==null,Yr=0,kt=Lt=ut=null,so=!1,t)throw Error(s(300));return e}function vl(){var e=Pi!==0;return Pi=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ut.memoizedState=kt=e:kt=kt.next=e,kt}function An(){if(Lt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=kt===null?ut.memoizedState:kt.next;if(t!==null)kt=t,Lt=e;else{if(e===null)throw Error(s(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},kt===null?ut.memoizedState=kt=e:kt=kt.next=e}return kt}function Sr(e,t){return typeof t=="function"?t(e):t}function uo(e){var t=An(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=Lt,f=l.baseQueue,v=r.pending;if(v!==null){if(f!==null){var _=f.next;f.next=v.next,v.next=_}l.baseQueue=f=v,r.pending=null}if(f!==null){v=f.next,l=l.baseState;var C=_=null,W=null,ae=v;do{var me=ae.lane;if((Yr&me)===me)W!==null&&(W=W.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),l=ae.hasEagerState?ae.eagerState:e(l,ae.action);else{var De={lane:me,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};W===null?(C=W=De,_=l):W=W.next=De,ut.lanes|=me,Kr|=me}ae=ae.next}while(ae!==null&&ae!==v);W===null?_=l:W.next=C,on(l,t.memoizedState)||(un=!0),t.memoizedState=l,t.baseState=_,t.baseQueue=W,r.lastRenderedState=l}if(e=r.interleaved,e!==null){f=e;do v=f.lane,ut.lanes|=v,Kr|=v,f=f.next;while(f!==e)}else f===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fo(e){var t=An(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,f=r.pending,v=t.memoizedState;if(f!==null){r.pending=null;var _=f=f.next;do v=e(v,_.action),_=_.next;while(_!==f);on(v,t.memoizedState)||(un=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),r.lastRenderedState=v}return[v,l]}function Za(){}function qa(e,t){var r=ut,l=An(),f=t(),v=!on(l.memoizedState,f);if(v&&(l.memoizedState=f,un=!0),l=l.queue,Mi(ts.bind(null,r,l,e),[e]),l.getSnapshot!==t||v||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,Ci(9,es.bind(null,r,l,f,t),void 0,null),mt===null)throw Error(s(349));Yr&30||$a(r,t,f)}return f}function $a(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function es(e,t,r,l){t.value=r,t.getSnapshot=l,ns(t)&&gn(e,1,-1)}function ts(e,t,r){return r(function(){ns(t)&&gn(e,1,-1)})}function ns(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch{return!0}}function ml(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:e},t.queue=e,e=e.dispatch=Wf.bind(null,ut,e),[t.memoizedState,e]}function Ci(e,t,r,l){return e={tag:e,create:t,destroy:r,deps:l,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e)),e}function rs(){return An().memoizedState}function co(e,t,r,l){var f=Jn();ut.flags|=e,f.memoizedState=Ci(1|t,r,void 0,l===void 0?null:l)}function ho(e,t,r,l){var f=An();l=l===void 0?null:l;var v=void 0;if(Lt!==null){var _=Lt.memoizedState;if(v=_.destroy,l!==null&&hl(l,_.deps)){f.memoizedState=Ci(t,r,v,l);return}}ut.flags|=e,f.memoizedState=Ci(1|t,r,v,l)}function gl(e,t){return co(8390656,8,e,t)}function Mi(e,t){return ho(2048,8,e,t)}function is(e,t){return ho(4,2,e,t)}function os(e,t){return ho(4,4,e,t)}function ls(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function as(e,t,r){return r=r!=null?r.concat([e]):null,ho(4,4,ls.bind(null,t,e),r)}function yl(){}function ss(e,t){var r=An();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&hl(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function us(e,t){var r=An();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&hl(t,l[1])?l[0]:(e=e(),r.memoizedState=[e,t],e)}function bf(e,t){var r=Ge;Ge=r!==0&&4>r?r:4,e(!0);var l=mn.transition;mn.transition={};try{e(!1),t()}finally{Ge=r,mn.transition=l}}function fs(){return An().memoizedState}function jf(e,t,r){var l=or(e);r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},cs(e)?ds(t,r):(hs(e,t,r),r=Vt(),e=gn(e,l,r),e!==null&&ps(e,t,l))}function Wf(e,t,r){var l=or(e),f={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(cs(e))ds(t,f);else{hs(e,t,f);var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var _=t.lastRenderedState,C=v(_,r);if(f.hasEagerState=!0,f.eagerState=C,on(C,_))return}catch{}finally{}r=Vt(),e=gn(e,l,r),e!==null&&ps(e,t,l)}}function cs(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function ds(e,t){Ui=so=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hs(e,t,r){mt!==null&&e.mode&1&&!(Ne&2)?(e=t.interleaved,e===null?(r.next=r,ln===null?ln=[t]:ln.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(e=t.pending,e===null?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function ps(e,t,r){if(r&4194240){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Dn(e,r)}}var po={readContext:ht,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Hf={readContext:ht,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:gl,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,co(4194308,4,ls.bind(null,t,e),r)},useLayoutEffect:function(e,t){return co(4194308,4,e,t)},useInsertionEffect:function(e,t){return co(4,2,e,t)},useMemo:function(e,t){var r=Jn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var l=Jn();return t=r!==void 0?r(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=jf.bind(null,ut,e),[l.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:ml,useDebugValue:yl,useDeferredValue:function(e){var t=ml(e),r=t[0],l=t[1];return gl(function(){var f=mn.transition;mn.transition={};try{l(e)}finally{mn.transition=f}},[e]),r},useTransition:function(){var e=ml(!1),t=e[0];return e=bf.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var l=ut,f=Jn();if(rt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),mt===null)throw Error(s(349));Yr&30||$a(l,t,r)}f.memoizedState=r;var v={value:r,getSnapshot:t};return f.queue=v,gl(ts.bind(null,l,v,e),[e]),l.flags|=2048,Ci(9,es.bind(null,l,v,r,t),void 0,null),r},useId:function(){var e=Jn(),t=mt.identifierPrefix;if(rt){var r=Yn,l=Xn;r=(l&~(1<<32-nn(l)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Gf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vf={readContext:ht,useCallback:ss,useContext:ht,useEffect:Mi,useImperativeHandle:as,useInsertionEffect:is,useLayoutEffect:os,useMemo:us,useReducer:uo,useRef:rs,useState:function(){return uo(Sr)},useDebugValue:yl,useDeferredValue:function(e){var t=uo(Sr),r=t[0],l=t[1];return Mi(function(){var f=mn.transition;mn.transition={};try{l(e)}finally{mn.transition=f}},[e]),r},useTransition:function(){var e=uo(Sr)[0],t=An().memoizedState;return[e,t]},useMutableSource:Za,useSyncExternalStore:qa,useId:fs,unstable_isNewReconciler:!1},Qf={readContext:ht,useCallback:ss,useContext:ht,useEffect:Mi,useImperativeHandle:as,useInsertionEffect:is,useLayoutEffect:os,useMemo:us,useReducer:fo,useRef:rs,useState:function(){return fo(Sr)},useDebugValue:yl,useDeferredValue:function(e){var t=fo(Sr),r=t[0],l=t[1];return Mi(function(){var f=mn.transition;mn.transition={};try{l(e)}finally{mn.transition=f}},[e]),r},useTransition:function(){var e=fo(Sr)[0],t=An().memoizedState;return[e,t]},useMutableSource:Za,useSyncExternalStore:qa,useId:fs,unstable_isNewReconciler:!1};function Sl(e,t){try{var r="",l=t;do r+=mr(l),l=l.return;while(l);var f=r}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:t,stack:f}}function wl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Xf=typeof WeakMap=="function"?WeakMap:Map;function vs(e,t,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var l=t.value;return r.callback=function(){Fo||(Fo=!0,Bl=l),wl(e,t)},r}function ms(e,t,r){r=Qn(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var f=t.value;r.payload=function(){return l(f)},r.callback=function(){wl(e,t)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){wl(e,t),typeof l!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var _=t.stack;this.componentDidCatch(t.value,{componentStack:_!==null?_:""})}),r}function gs(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Xf;var f=new Set;l.set(t,f)}else f=l.get(t),f===void 0&&(f=new Set,l.set(t,f));f.has(r)||(f.add(r),e=ac.bind(null,e,t,r),t.then(e,e))}function ys(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ss(e,t,r,l,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qn(-1,1),t.tag=2,nr(r,t))),r.lanes|=1),e)}function On(e){e.flags|=4}function ws(e,t){if(e!==null&&e.child===t.child)return!0;if(t.flags&16)return!1;for(e=t.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var Fi,Di,vo,mo;if(J)Fi=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)O(e,r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Di=function(){},vo=function(e,t,r,l,f){if(e=e.memoizedProps,e!==l){var v=t.stateNode,_=Rn(vn.current);r=X(v,r,e,l,f,_),(t.updateQueue=r)&&On(t)}},mo=function(e,t,r,l){r!==l&&On(t)};else if(q){Fi=function(e,t,r,l){for(var f=t.child;f!==null;){if(f.tag===5){var v=f.stateNode;r&&l&&(v=Zn(v,f.type,f.memoizedProps,f)),O(e,v)}else if(f.tag===6)v=f.stateNode,r&&l&&(v=tt(v,f.memoizedProps,f)),O(e,v);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)v=f.child,v!==null&&(v.return=f),Fi(e,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===t)break;for(;f.sibling===null;){if(f.return===null||f.return===t)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};var _s=function(e,t,r,l){for(var f=t.child;f!==null;){if(f.tag===5){var v=f.stateNode;r&&l&&(v=Zn(v,f.type,f.memoizedProps,f)),It(e,v)}else if(f.tag===6)v=f.stateNode,r&&l&&(v=tt(v,f.memoizedProps,f)),It(e,v);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)v=f.child,v!==null&&(v.return=f),_s(e,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===t)break;for(;f.sibling===null;){if(f.return===null||f.return===t)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};Di=function(e,t){var r=t.stateNode;if(!ws(e,t)){e=r.containerInfo;var l=_n(e);_s(l,t,!1,!1),r.pendingChildren=l,On(t),Bt(e,l)}},vo=function(e,t,r,l,f){var v=e.stateNode,_=e.memoizedProps;if((e=ws(e,t))&&_===l)t.stateNode=v;else{var C=t.stateNode,W=Rn(vn.current),ae=null;_!==l&&(ae=X(C,r,_,l,f,W)),e&&ae===null?t.stateNode=v:(v=Nn(v,ae,r,_,l,t,e,C),V(v,r,l,f,W)&&On(t),t.stateNode=v,e?On(t):Fi(v,t,!1,!1))}},mo=function(e,t,r,l){r!==l?(e=Rn(Qr.current),r=Rn(vn.current),t.stateNode=ne(l,e,r,t),On(t)):t.stateNode=e.stateNode}}else Di=function(){},vo=function(){},mo=function(){};function Li(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&14680064,l|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Yf(e,t,r){var l=t.pendingProps;switch(ol(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return _t(t.type)&&En(),At(t),null;case 3:return l=t.stateNode,Xr(),Xe(wt),Xe(yt),dl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(xi(t)?On(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(bl(Tn),Tn=null))),Di(e,t),At(t),null;case 5:fl(t),r=Rn(Qr.current);var f=t.type;if(e!==null&&t.stateNode!=null)vo(e,t,f,l,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(s(166));return At(t),null}if(e=Rn(vn.current),xi(t)){if(!ye)throw Error(s(175));e=qt(t.stateNode,t.type,t.memoizedProps,r,e,t,!_i),t.updateQueue=e,e!==null&&On(t)}else{var v=P(f,l,r,e,t);Fi(v,t,!1,!1),t.stateNode=v,V(v,f,l,r,e)&&On(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return At(t),null;case 6:if(e&&t.stateNode!=null)mo(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=Rn(Qr.current),r=Rn(vn.current),xi(t)){if(!ye)throw Error(s(176));if(e=t.stateNode,l=t.memoizedProps,(r=Gn(e,l,t,!_i))&&(f=an,f!==null))switch(v=(f.mode&1)!==0,f.tag){case 3:ci(f.stateNode.containerInfo,e,l,v);break;case 5:di(f.type,f.memoizedProps,f.stateNode,e,l,v)}r&&On(t)}else t.stateNode=ne(l,e,r,t)}return At(t),null;case 13:if(Xe(ot),l=t.memoizedState,rt&&sn!==null&&t.mode&1&&!(t.flags&128)){for(e=sn;e;)e=st(e);return Hr(),t.flags|=98560,t}if(l!==null&&l.dehydrated!==null){if(l=xi(t),e===null){if(!l)throw Error(s(318));if(!ye)throw Error(s(344));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));$o(e,t)}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;return At(t),null}return Tn!==null&&(bl(Tn),Tn=null),t.flags&128?(t.lanes=r,t):(l=l!==null,r=!1,e===null?xi(t):r=e.memoizedState!==null,l&&!r&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?St===0&&(St=3):Wl())),t.updateQueue!==null&&(t.flags|=4),At(t),null);case 4:return Xr(),Di(e,t),e===null&&ue(t.stateNode.containerInfo),At(t),null;case 10:return Et(t.type._context),At(t),null;case 17:return _t(t.type)&&En(),At(t),null;case 19:if(Xe(ot),f=t.memoizedState,f===null)return At(t),null;if(l=(t.flags&128)!==0,v=f.rendering,v===null)if(l)Li(f,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(v=lo(e),v!==null){for(t.flags|=128,Li(f,!1),e=v.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=r,l=t.child;l!==null;)r=l,f=e,r.flags&=14680066,v=r.alternate,v===null?(r.childLanes=0,r.lanes=f,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=v.childLanes,r.lanes=v.lanes,r.child=v.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=v.memoizedProps,r.memoizedState=v.memoizedState,r.updateQueue=v.updateQueue,r.type=v.type,f=v.dependencies,r.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l=l.sibling;return Je(ot,ot.current&1|2),t.child}e=e.sibling}f.tail!==null&&it()>Il&&(t.flags|=128,l=!0,Li(f,!1),t.lanes=4194304)}else{if(!l)if(e=lo(v),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Li(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!rt)return At(t),null}else 2*it()-f.renderingStartTime>Il&&r!==1073741824&&(t.flags|=128,l=!0,Li(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(e=f.last,e!==null?e.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=it(),t.sibling=null,e=ot.current,Je(ot,l?e&1|2:e&1),t):(At(t),null);case 22:case 23:return jl(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?fn&1073741824&&(At(t),J&&t.subtreeFlags&6&&(t.flags|=8192)):At(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}var Jf=u.ReactCurrentOwner,un=!1;function Ht(e,t,r,l){t.child=e===null?Ja(t,null,r,l):Vr(t,e.child,r,l)}function xs(e,t,r,l,f){r=r.render;var v=t.ref;return dt(t,f),l=pl(e,t,r,l,v,f),r=vl(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Kn(e,t,f)):(rt&&r&&il(t),t.flags|=1,Ht(e,t,l,f),t.child)}function Es(e,t,r,l,f){if(e===null){var v=r.type;return typeof v=="function"&&!Hl(v)&&v.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=v,ks(e,t,v,l,f)):(e=Io(r.type,null,l,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,!(e.lanes&f)){var _=v.memoizedProps;if(r=r.compare,r=r!==null?r:vr,r(_,l)&&e.ref===t.ref)return Kn(e,t,f)}return t.flags|=1,e=ar(v,l),e.ref=t.ref,e.return=t,t.child=e}function ks(e,t,r,l,f){if(e!==null&&vr(e.memoizedProps,l)&&e.ref===t.ref)if(un=!1,(e.lanes&f)!==0)e.flags&131072&&(un=!0);else return t.lanes=e.lanes,Kn(e,t,f);return _l(e,t,r,l,f)}function Ts(e,t,r){var l=t.pendingProps,f=l.children,v=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null},Je(Jr,fn),fn|=r;else if(r&1073741824)t.memoizedState={baseLanes:0,cachePool:null},l=v!==null?v.baseLanes:r,Je(Jr,fn),fn|=l;else return e=v!==null?v.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Je(Jr,fn),fn|=e,null;else v!==null?(l=v.baseLanes|r,t.memoizedState=null):l=r,Je(Jr,fn),fn|=l;return Ht(e,t,f,r),t.child}function Us(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _l(e,t,r,l,f){var v=_t(r)?Mn:yt.current;return v=cn(t,v),dt(t,f),r=pl(e,t,r,l,v,f),l=vl(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~f,Kn(e,t,f)):(rt&&l&&il(t),t.flags|=1,Ht(e,t,r,f),t.child)}function Ps(e,t,r,l,f){if(_t(r)){var v=!0;qn(t)}else v=!1;if(dt(t,f),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),ba(t,r,l),rl(t,r,l,f),l=!0;else if(e===null){var _=t.stateNode,C=t.memoizedProps;_.props=C;var W=_.context,ae=r.contextType;typeof ae=="object"&&ae!==null?ae=ht(ae):(ae=_t(r)?Mn:yt.current,ae=cn(t,ae));var me=r.getDerivedStateFromProps,De=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function";De||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==l||W!==ae)&&ja(t,_,l,ae),tr=!1;var Ce=t.memoizedState;_.state=Ce,to(t,l,_,f),W=t.memoizedState,C!==l||Ce!==W||wt.current||tr?(typeof me=="function"&&(nl(t,r,me,l),W=t.memoizedState),(C=tr||Ga(t,r,C,l,Ce,W,ae))?(De||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=W),_.props=l,_.state=W,_.context=ae,l=C):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{_=t.stateNode,za(e,t),C=t.memoizedProps,ae=t.type===t.elementType?C:jt(t.type,C),_.props=ae,De=t.pendingProps,Ce=_.context,W=r.contextType,typeof W=="object"&&W!==null?W=ht(W):(W=_t(r)?Mn:yt.current,W=cn(t,W));var Ze=r.getDerivedStateFromProps;(me=typeof Ze=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==De||Ce!==W)&&ja(t,_,l,W),tr=!1,Ce=t.memoizedState,_.state=Ce,to(t,l,_,f);var ke=t.memoizedState;C!==De||Ce!==ke||wt.current||tr?(typeof Ze=="function"&&(nl(t,r,Ze,l),ke=t.memoizedState),(ae=tr||Ga(t,r,ae,l,Ce,ke,W)||!1)?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(l,ke,W),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(l,ke,W)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===e.memoizedProps&&Ce===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Ce===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ke),_.props=l,_.state=ke,_.context=W,l=ae):(typeof _.componentDidUpdate!="function"||C===e.memoizedProps&&Ce===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Ce===e.memoizedState||(t.flags|=1024),l=!1)}return xl(e,t,r,l,v,f)}function xl(e,t,r,l,f,v){Us(e,t);var _=(t.flags&128)!==0;if(!l&&!_)return f&&tn(t,r,!1),Kn(e,t,v);l=t.stateNode,Jf.current=t;var C=_&&typeof r.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&_?(t.child=Vr(t,e.child,null,v),t.child=Vr(t,null,C,v)):Ht(e,t,C,v),t.memoizedState=l.state,f&&tn(t,r,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Or(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(e,t.context,!1),ul(e,t.containerInfo)}function Ms(e,t,r,l,f){return Hr(),sl(f),t.flags|=256,Ht(e,t,r,l),t.child}var go={dehydrated:null,treeContext:null,retryLane:0};function yo(e){return{baseLanes:e,cachePool:null}}function Fs(e,t,r){var l=t.pendingProps,f=ot.current,v=!1,_=(t.flags&128)!==0,C;if((C=_)||(C=e!==null&&e.memoizedState===null?!1:(f&2)!==0),C?(v=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Je(ot,f&1),e===null)return al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?ct(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=l.children,e=l.fallback,v?(l=t.mode,v=t.child,f={mode:"hidden",children:f},!(l&1)&&v!==null?(v.childLanes=0,v.pendingProps=f):v=Bo(f,l,0,null),e=Tr(e,l,r,null),v.return=t,e.return=t,v.sibling=e,t.child=v,t.child.memoizedState=yo(r),t.memoizedState=go,e):El(t,f));if(f=e.memoizedState,f!==null){if(C=f.dehydrated,C!==null){if(_)return t.flags&256?(t.flags&=-257,So(e,t,r,Error(s(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(v=l.fallback,f=t.mode,l=Bo({mode:"visible",children:l.children},f,0,null),v=Tr(v,f,r,null),v.flags|=2,l.return=t,v.return=t,l.sibling=v,t.child=l,t.mode&1&&Vr(t,e.child,null,r),t.child.memoizedState=yo(r),t.memoizedState=go,v);if(!(t.mode&1))t=So(e,t,r,null);else if(ct(C))t=So(e,t,r,Error(s(419)));else if(l=(r&e.childLanes)!==0,un||l){if(l=mt,l!==null){switch(r&-r){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}l=v&(l.suspendedLanes|r)?0:v,l!==0&&l!==f.retryLane&&(f.retryLane=l,gn(e,l,-1))}Wl(),t=So(e,t,r,Error(s(421)))}else Qe(C)?(t.flags|=128,t.child=e.child,t=sc.bind(null,e),Qt(C,t),t=null):(r=f.treeContext,ye&&(sn=Un(C),an=t,rt=!0,Tn=null,_i=!1,r!==null&&(hn[pn++]=Xn,hn[pn++]=Yn,hn[pn++]=gr,Xn=r.id,Yn=r.overflow,gr=t)),t=El(t,t.pendingProps.children),t.flags|=4096);return t}return v?(l=Ls(e,t,l.children,l.fallback,r),v=t.child,f=e.child.memoizedState,v.memoizedState=f===null?yo(r):{baseLanes:f.baseLanes|r,cachePool:null},v.childLanes=e.childLanes&~r,t.memoizedState=go,l):(r=Ds(e,t,l.children,r),t.memoizedState=null,r)}return v?(l=Ls(e,t,l.children,l.fallback,r),v=t.child,f=e.child.memoizedState,v.memoizedState=f===null?yo(r):{baseLanes:f.baseLanes|r,cachePool:null},v.childLanes=e.childLanes&~r,t.memoizedState=go,l):(r=Ds(e,t,l.children,r),t.memoizedState=null,r)}function El(e,t){return t=Bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ds(e,t,r,l){var f=e.child;return e=f.sibling,r=ar(f,{mode:"visible",children:r}),!(t.mode&1)&&(r.lanes=l),r.return=t,r.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=r}function Ls(e,t,r,l,f){var v=t.mode;e=e.child;var _=e.sibling,C={mode:"hidden",children:r};return!(v&1)&&t.child!==e?(r=t.child,r.childLanes=0,r.pendingProps=C,t.deletions=null):(r=ar(e,C),r.subtreeFlags=e.subtreeFlags&14680064),_!==null?l=ar(_,l):(l=Tr(l,v,f,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,l}function So(e,t,r,l){return l!==null&&sl(l),Vr(t,e.child,null,r),e=El(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rs(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Wt(e.return,t,r)}function kl(e,t,r,l,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=r,v.tailMode=f)}function As(e,t,r){var l=t.pendingProps,f=l.revealOrder,v=l.tail;if(Ht(e,t,l.children,r),l=ot.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rs(e,r,t);else if(e.tag===19)Rs(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Je(ot,l),!(t.mode&1))t.memoizedState=null;else switch(f){case"forwards":for(r=t.child,f=null;r!==null;)e=r.alternate,e!==null&&lo(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=t.child,t.child=null):(f=r.sibling,r.sibling=null),kl(t,!1,f,r,v);break;case"backwards":for(r=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&lo(e)===null){t.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}kl(t,!0,r,null,v);break;case"together":kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Kf(e,t,r){switch(t.tag){case 3:Cs(t),Hr();break;case 5:Ka(t);break;case 1:_t(t.type)&&qn(t);break;case 4:ul(t,t.stateNode.containerInfo);break;case 10:$i(t,t.type._context,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Je(ot,ot.current&1),t.flags|=128,null):r&t.child.childLanes?Fs(e,t,r):(Je(ot,ot.current&1),e=Kn(e,t,r),e!==null?e.sibling:null);Je(ot,ot.current&1);break;case 19:if(l=(r&t.childLanes)!==0,e.flags&128){if(l)return As(e,t,r);t.flags|=128}var f=t.memoizedState;if(f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Je(ot,ot.current),l)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,r)}return Kn(e,t,r)}function Zf(e,t){switch(ol(t),t.tag){case 1:return _t(t.type)&&En(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),Xe(wt),Xe(yt),dl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fl(t),null;case 13:if(Xe(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(ot),null;case 4:return Xr(),null;case 10:return Et(t.type._context),null;case 22:case 23:return jl(),null;case 24:return null;default:return null}}var wo=!1,wr=!1,qf=typeof WeakSet=="function"?WeakSet:Set,ce=null;function _o(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){Kt(e,t,l)}else r.current=null}function Tl(e,t,r){try{r()}catch(l){Kt(e,t,l)}}var Os=!1;function $f(e,t){for(z(e.containerInfo),ce=t;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var r=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(r!==null){var l=r.memoizedProps,f=r.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?l:jt(e.type,l),f);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:J&&wn(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(C){Kt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return r=Os,Os=!1,r}function _r(e,t,r){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&e)===e){var v=f.destroy;f.destroy=void 0,v!==void 0&&Tl(t,r,v)}f=f.next}while(f!==l)}}function Ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==t)}}function Ul(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=oe(r);break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zs(e,t,r){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(hr,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var l=e=e.next;do{var f=l,v=f.destroy;f=f.tag,v!==void 0&&(f&2||f&4)&&Tl(t,r,v),l=l.next}while(l!==e)}break;case 1:if(_o(t,r),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(_){Kt(t,r,_)}break;case 5:_o(t,r);break;case 4:J?js(e,t,r):q&&q&&(t=t.stateNode.containerInfo,r=_n(t),$e(t,r))}}function Is(e,t,r){for(var l=t;;)if(zs(e,l,r),l.child===null||J&&l.tag===4){if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}else l.child.return=l,l=l.child}function Bs(e){var t=e.alternate;t!==null&&(e.alternate=null,Bs(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ns(e){return e.tag===5||e.tag===3||e.tag===4}function Gs(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ns(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bs(e){if(J){e:{for(var t=e.return;t!==null;){if(Ns(t))break e;t=t.return}throw Error(s(160))}var r=t;switch(r.tag){case 5:t=r.stateNode,r.flags&32&&(Ye(t),r.flags&=-33),r=Gs(e),Cl(e,r,t);break;case 3:case 4:t=r.stateNode.containerInfo,r=Gs(e),Pl(e,r,t);break;default:throw Error(s(161))}}}function Pl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?Be(r,e,t):Oe(r,e);else if(l!==4&&(e=e.child,e!==null))for(Pl(e,t,r),e=e.sibling;e!==null;)Pl(e,t,r),e=e.sibling}function Cl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?Ke(r,e,t):Te(r,e);else if(l!==4&&(e=e.child,e!==null))for(Cl(e,t,r),e=e.sibling;e!==null;)Cl(e,t,r),e=e.sibling}function js(e,t,r){for(var l=t,f=!1,v,_;;){if(!f){f=l.return;e:for(;;){if(f===null)throw Error(s(160));switch(v=f.stateNode,f.tag){case 5:_=!1;break e;case 3:v=v.containerInfo,_=!0;break e;case 4:v=v.containerInfo,_=!0;break e}f=f.return}f=!0}if(l.tag===5||l.tag===6)Is(e,l,r),_?Ve(v,l.stateNode):Me(v,l.stateNode);else if(l.tag===18)_?Xi(v,l.stateNode):el(v,l.stateNode);else if(l.tag===4){if(l.child!==null){v=l.stateNode.containerInfo,_=!0,l.child.return=l,l=l.child;continue}}else if(zs(e,l,r),l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return,l.tag===4&&(f=!1)}l.sibling.return=l.return,l=l.sibling}}function Ml(e,t){if(J){switch(t.tag){case 0:case 11:case 14:case 15:_r(3,t,t.return),Ri(3,t),_r(5,t,t.return);return;case 1:return;case 5:var r=t.stateNode;if(r!=null){var l=t.memoizedProps;e=e!==null?e.memoizedProps:l;var f=t.type,v=t.updateQueue;t.updateQueue=null,v!==null&&Re(r,v,f,e,l,t)}return;case 6:if(t.stateNode===null)throw Error(s(162));r=t.memoizedProps,je(t.stateNode,e!==null?e.memoizedProps:r,r);return;case 3:ye&&e!==null&&e.memoizedState.isDehydrated&&ur(t.stateNode.containerInfo);return;case 12:return;case 13:xo(t);return;case 19:xo(t);return;case 17:return}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:_r(3,t,t.return),Ri(3,t),_r(5,t,t.return);return;case 12:return;case 13:xo(t);return;case 19:xo(t);return;case 3:ye&&e!==null&&e.memoizedState.isDehydrated&&ur(t.stateNode.containerInfo);break;case 22:case 23:return}e:if(q){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,$e(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function xo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qf),t.forEach(function(l){var f=uc.bind(null,e,l);r.has(l)||(r.add(l),l.then(f,f))})}}function ec(e,t){for(ce=t;ce!==null;){t=ce;var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];try{var v=e;J?js(v,f,t):Is(v,f,t);var _=f.alternate;_!==null&&(_.return=null),f.return=null}catch(Ee){Kt(f,t,Ee)}}if(r=t.child,t.subtreeFlags&12854&&r!==null)r.return=t,ce=r;else for(;ce!==null;){t=ce;try{var C=t.flags;if(C&32&&J&&Ye(t.stateNode),C&512){var W=t.alternate;if(W!==null){var ae=W.ref;ae!==null&&(typeof ae=="function"?ae(null):ae.current=null)}}if(C&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var me=t.alternate;(me===null||me.memoizedState===null)&&(zl=it())}break;case 22:var De=t.memoizedState!==null,Ce=t.alternate,Ze=Ce!==null&&Ce.memoizedState!==null;if(r=t,J){e:if(l=r,f=De,v=null,J)for(var ke=l;;){if(ke.tag===5){if(v===null){v=ke;var Ot=ke.stateNode;f?at(Ot):qe(ke.stateNode,ke.memoizedProps)}}else if(ke.tag===6){if(v===null){var Sn=ke.stateNode;f?ze(Sn):Ut(Sn,ke.memoizedProps)}}else if((ke.tag!==22&&ke.tag!==23||ke.memoizedState===null||ke===l)&&ke.child!==null){ke.child.return=ke,ke=ke.child;continue}if(ke===l)break;for(;ke.sibling===null;){if(ke.return===null||ke.return===l)break e;v===ke&&(v=null),ke=ke.return}v===ke&&(v=null),ke.sibling.return=ke.return,ke=ke.sibling}}if(De&&!Ze&&r.mode&1){ce=r;for(var A=r.child;A!==null;){for(r=ce=A;ce!==null;){l=ce;var M=l.child;switch(l.tag){case 0:case 11:case 14:case 15:_r(4,l,l.return);break;case 1:_o(l,l.return);var N=l.stateNode;if(typeof N.componentWillUnmount=="function"){var de=l.return;try{N.props=l.memoizedProps,N.state=l.memoizedState,N.componentWillUnmount()}catch(Ee){Kt(l,de,Ee)}}break;case 5:_o(l,l.return);break;case 22:if(l.memoizedState!==null){Vs(r);continue}}M!==null?(M.return=l,ce=M):Vs(r)}A=A.sibling}}}switch(C&4102){case 2:bs(t),t.flags&=-3;break;case 6:bs(t),t.flags&=-3,Ml(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ml(t.alternate,t);break;case 4:Ml(t.alternate,t)}}catch(Ee){Kt(t,t.return,Ee)}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}}function tc(e,t,r){ce=e,Ws(e)}function Ws(e,t,r){for(var l=(e.mode&1)!==0;ce!==null;){var f=ce,v=f.child;if(f.tag===22&&l){var _=f.memoizedState!==null||wo;if(!_){var C=f.alternate,W=C!==null&&C.memoizedState!==null||wr;C=wo;var ae=wr;if(wo=_,(wr=W)&&!ae)for(ce=f;ce!==null;)_=ce,W=_.child,_.tag===22&&_.memoizedState!==null?Qs(f):W!==null?(W.return=_,ce=W):Qs(f);for(;v!==null;)ce=v,Ws(v),v=v.sibling;ce=f,wo=C,wr=ae}Hs(e)}else f.subtreeFlags&8772&&v!==null?(v.return=f,ce=v):Hs(e)}}function Hs(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wr||Ri(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!wr)if(r===null)l.componentDidMount();else{var f=t.elementType===t.type?r.memoizedProps:jt(t.type,r.memoizedProps);l.componentDidUpdate(f,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var v=t.updateQueue;v!==null&&Ba(t,v,l);break;case 3:var _=t.updateQueue;if(_!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=oe(t.child.stateNode);break;case 1:r=t.child.stateNode}Ba(t,_,r)}break;case 5:var C=t.stateNode;r===null&&t.flags&4&&lt(C,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&t.memoizedState===null){var W=t.alternate;if(W!==null){var ae=W.memoizedState;if(ae!==null){var me=ae.dehydrated;me!==null&&fi(me)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}wr||t.flags&512&&Ul(t)}catch(De){Kt(t,t.return,De)}}if(t===e){ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Vs(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ce=r;break}ce=t.return}}function Qs(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ri(4,t)}catch(W){Kt(t,r,W)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var f=t.return;try{l.componentDidMount()}catch(W){Kt(t,f,W)}}var v=t.return;try{Ul(t)}catch(W){Kt(t,v,W)}break;case 5:var _=t.return;try{Ul(t)}catch(W){Kt(t,_,W)}}}catch(W){Kt(t,t.return,W)}if(t===e){ce=null;break}var C=t.sibling;if(C!==null){C.return=t.return,ce=C;break}ce=t.return}}var Eo=0,ko=1,To=2,Uo=3,Po=4;if(typeof Symbol=="function"&&Symbol.for){var Ai=Symbol.for;Eo=Ai("selector.component"),ko=Ai("selector.has_pseudo_class"),To=Ai("selector.role"),Uo=Ai("selector.test_id"),Po=Ai("selector.text")}function Fl(e){var t=Fe(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(s(364));return t}if(e=re(e),e===null)throw Error(s(362));return e.stateNode.current}function Dl(e,t){switch(t.$$typeof){case Eo:if(e.type===t.value)return!0;break;case ko:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var l=e[r++],f=e[r++],v=t[f];if(l.tag!==5||!Se(l)){for(;v!=null&&Dl(l,v);)f++,v=t[f];if(f===t.length){t=!0;break e}else for(l=l.child;l!==null;)e.push(l,f),l=l.sibling}}t=!1}return t;case To:if(e.tag===5&&ve(e.stateNode,t.value))return!0;break;case Po:if((e.tag===5||e.tag===6)&&(e=ge(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Uo:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Ll(e){switch(e.$$typeof){case Eo:return"<"+(I(e.value)||"Unknown")+">";case ko:return":has("+(Ll(e)||"")+")";case To:return'[role="'+e.value+'"]';case Po:return'"'+e.value+'"';case Uo:return'[data-testname="'+e.value+'"]';default:throw Error(s(365))}}function Xs(e,t){var r=[];e=[e,0];for(var l=0;l<e.length;){var f=e[l++],v=e[l++],_=t[v];if(f.tag!==5||!Se(f)){for(;_!=null&&Dl(f,_);)v++,_=t[v];if(v===t.length)r.push(f);else for(f=f.child;f!==null;)e.push(f,v),f=f.sibling}}return r}function Rl(e,t){if(!he)throw Error(s(363));e=Fl(e),e=Xs(e,t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var l=e[r++];if(l.tag===5)Se(l)||t.push(l.stateNode);else for(l=l.child;l!==null;)e.push(l),l=l.sibling}return t}var nc=Math.ceil,Co=u.ReactCurrentDispatcher,Al=u.ReactCurrentOwner,pt=u.ReactCurrentBatchConfig,Ne=0,mt=null,gt=null,Ct=0,fn=0,Jr=$t(0),St=0,Oi=null,Kr=0,Mo=0,Ol=0,zi=null,Yt=null,zl=0,Il=1/0;function Zr(){Il=it()+500}var Fo=!1,Bl=null,rr=null,Do=!1,ir=null,Lo=0,Ii=0,Nl=null,Ro=-1,Ao=0;function Vt(){return Ne&6?it():Ro!==-1?Ro:Ro=it()}function or(e){return e.mode&1?Ne&2&&Ct!==0?Ct&-Ct:pr.transition!==null?(Ao===0&&(e=bn,bn<<=1,!(bn&4194240)&&(bn=64),Ao=e),Ao):(e=Ge,e!==0?e:we()):1}function gn(e,t,r){if(50<Ii)throw Ii=0,Nl=null,Error(s(185));var l=Oo(e,t);return l===null?null:(Fn(l,t,r),(!(Ne&2)||l!==mt)&&(l===mt&&(!(Ne&2)&&(Mo|=t),St===4&&lr(l,Ct)),Jt(l,r),t===1&&Ne===0&&!(e.mode&1)&&(Zr(),Ln&&Xt())),l)}function Oo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Jt(e,t){var r=e.callbackNode;pi(e,t);var l=cr(e,e===mt?Ct:0);if(l===0)r!==null&&Nr(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(r!=null&&Nr(r),t===1)e.tag===0?wi(Js.bind(null,e)):Si(Js.bind(null,e)),le?_e(function(){Ne===0&&Xt()}):Vn(dr,Xt),r=null;else{switch(vi(l)){case 1:r=dr;break;case 4:r=Zi;break;case 16:r=Gt;break;case 536870912:r=gi;break;default:r=Gt}r=iu(r,Ys.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ys(e,t){if(Ro=-1,Ao=0,Ne&6)throw Error(s(327));var r=e.callbackNode;if(kr()&&e.callbackNode!==r)return null;var l=cr(e,e===mt?Ct:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=zo(e,l);else{t=l;var f=Ne;Ne|=2;var v=qs();(mt!==e||Ct!==t)&&(Zr(),xr(e,t));do try{oc();break}catch(C){Zs(e,C)}while(1);br(),Co.current=v,Ne=f,gt!==null?t=0:(mt=null,Ct=0,t=St)}if(t!==0){if(t===2&&(f=Hn(e),f!==0&&(l=f,t=Gl(e,f))),t===1)throw r=Oi,xr(e,0),lr(e,l),Jt(e,it()),r;if(t===6)lr(e,l);else{if(f=e.current.alternate,!(l&30)&&!rc(f)&&(t=zo(e,l),t===2&&(v=Hn(e),v!==0&&(l=v,t=Gl(e,v))),t===1))throw r=Oi,xr(e,0),lr(e,l),Jt(e,it()),r;switch(e.finishedWork=f,e.finishedLanes=l,t){case 0:case 1:throw Error(s(345));case 2:Er(e,Yt);break;case 3:if(lr(e,l),(l&130023424)===l&&(t=zl+500-it(),10<t)){if(cr(e,0)!==0)break;if(f=e.suspendedLanes,(f&l)!==l){Vt(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=Q(Er.bind(null,e,Yt),t);break}Er(e,Yt);break;case 4:if(lr(e,l),(l&4194240)===l)break;for(t=e.eventTimes,f=-1;0<l;){var _=31-nn(l);v=1<<_,_=t[_],_>f&&(f=_),l&=~v}if(l=f,l=it()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*nc(l/1960))-l,10<l){e.timeoutHandle=Q(Er.bind(null,e,Yt),l);break}Er(e,Yt);break;case 5:Er(e,Yt);break;default:throw Error(s(329))}}}return Jt(e,it()),e.callbackNode===r?Ys.bind(null,e):null}function Gl(e,t){var r=zi;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=zo(e,t),e!==2&&(t=Yt,Yt=r,t!==null&&bl(t)),e}function bl(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function rc(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var f=r[l],v=f.getSnapshot;f=f.value;try{if(!on(v(),f))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~Ol,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nn(t),l=1<<r;e[r]=-1,t&=~l}}function Js(e){if(Ne&6)throw Error(s(327));kr();var t=cr(e,0);if(!(t&1))return Jt(e,it()),null;var r=zo(e,t);if(e.tag!==0&&r===2){var l=Hn(e);l!==0&&(t=l,r=Gl(e,l))}if(r===1)throw r=Oi,xr(e,0),lr(e,t),Jt(e,it()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Er(e,Yt),Jt(e,it()),null}function Ks(e){ir!==null&&ir.tag===0&&!(Ne&6)&&kr();var t=Ne;Ne|=1;var r=pt.transition,l=Ge;try{if(pt.transition=null,Ge=1,e)return e()}finally{Ge=l,pt.transition=r,Ne=t,!(Ne&6)&&Xt()}}function jl(){fn=Jr.current,Xe(Jr)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==se&&(e.timeoutHandle=se,ee(r)),gt!==null)for(r=gt.return;r!==null;){var l=r;switch(ol(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&En();break;case 3:Xr(),Xe(wt),Xe(yt),dl();break;case 5:fl(l);break;case 4:Xr();break;case 13:Xe(ot);break;case 19:Xe(ot);break;case 10:Et(l.type._context);break;case 22:case 23:jl()}r=r.return}if(mt=e,gt=e=ar(e.current,null),Ct=fn=t,St=0,Oi=null,Ol=Mo=Kr=0,Yt=zi=null,ln!==null){for(t=0;t<ln.length;t++)if(r=ln[t],l=r.interleaved,l!==null){r.interleaved=null;var f=l.next,v=r.pending;if(v!==null){var _=v.next;v.next=f,l.next=_}r.pending=l}ln=null}return e}function Zs(e,t){do{var r=gt;try{if(br(),ao.current=po,so){for(var l=ut.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}so=!1}if(Yr=0,kt=Lt=ut=null,Ui=!1,Pi=0,Al.current=null,r===null||r.return===null){St=1,Oi=t,gt=null;break}e:{var v=e,_=r.return,C=r,W=t;if(t=Ct,C.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ae=W,me=C,De=me.tag;if(!(me.mode&1)&&(De===0||De===11||De===15)){var Ce=me.alternate;Ce?(me.updateQueue=Ce.updateQueue,me.memoizedState=Ce.memoizedState,me.lanes=Ce.lanes):(me.updateQueue=null,me.memoizedState=null)}var Ze=ys(_);if(Ze!==null){Ze.flags&=-257,Ss(Ze,_,C,v,t),Ze.mode&1&&gs(v,ae,t),t=Ze,W=ae;var ke=t.updateQueue;if(ke===null){var Ot=new Set;Ot.add(W),t.updateQueue=Ot}else ke.add(W);break e}else{if(!(t&1)){gs(v,ae,t),Wl();break e}W=Error(s(426))}}else if(rt&&C.mode&1){var Sn=ys(_);if(Sn!==null){!(Sn.flags&65536)&&(Sn.flags|=256),Ss(Sn,_,C,v,t),sl(W);break e}}v=W,St!==4&&(St=2),zi===null?zi=[v]:zi.push(v),W=Sl(W,C),C=_;do{switch(C.tag){case 3:C.flags|=65536,t&=-t,C.lanes|=t;var A=vs(C,W,t);Ia(C,A);break e;case 1:v=W;var M=C.type,N=C.stateNode;if(!(C.flags&128)&&(typeof M.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(rr===null||!rr.has(N)))){C.flags|=65536,t&=-t,C.lanes|=t;var de=ms(C,v,t);Ia(C,de);break e}}C=C.return}while(C!==null)}eu(r)}catch(Ee){t=Ee,gt===r&&r!==null&&(gt=r=r.return);continue}break}while(1)}function qs(){var e=Co.current;return Co.current=po,e===null?po:e}function Wl(){(St===0||St===3||St===2)&&(St=4),mt===null||!(Kr&268435455)&&!(Mo&268435455)||lr(mt,Ct)}function zo(e,t){var r=Ne;Ne|=2;var l=qs();mt===e&&Ct===t||xr(e,t);do try{ic();break}catch(f){Zs(e,f)}while(1);if(br(),Ne=r,Co.current=l,gt!==null)throw Error(s(261));return mt=null,Ct=0,St}function ic(){for(;gt!==null;)$s(gt)}function oc(){for(;gt!==null&&!mi();)$s(gt)}function $s(e){var t=ru(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?eu(e):gt=t,Al.current=null}function eu(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Zf(r,t),r!==null){r.flags&=32767,gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,gt=null;return}}else if(r=Yf(r,t,fn),r!==null){gt=r;return}if(t=t.sibling,t!==null){gt=t;return}gt=t=e}while(t!==null);St===0&&(St=5)}function Er(e,t){var r=Ge,l=pt.transition;try{pt.transition=null,Ge=1,lc(e,t,r)}finally{pt.transition=l,Ge=r}return null}function lc(e,t,r){do kr();while(ir!==null);if(Ne&6)throw Error(s(327));var l=e.finishedWork,f=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var v=l.lanes|l.childLanes;if($n(e,v),e===mt&&(gt=mt=null,Ct=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Do||(Do=!0,iu(Gt,function(){return kr(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=pt.transition,pt.transition=null;var _=Ge;Ge=1;var C=Ne;Ne|=4,Al.current=null,$f(e,l),ec(e,l),b(e.containerInfo),e.current=l,tc(l),Ki(),Ne=C,Ge=_,pt.transition=v}else e.current=l;if(Do&&(Do=!1,ir=e,Lo=f),v=e.pendingLanes,v===0&&(rr=null),yi(l.stateNode),Jt(e,it()),t!==null)for(r=e.onRecoverableError,l=0;l<t.length;l++)r(t[l]);if(Fo)throw Fo=!1,e=Bl,Bl=null,e;return Lo&1&&e.tag!==0&&kr(),v=e.pendingLanes,v&1?e===Nl?Ii++:(Ii=0,Nl=e):Ii=0,Xt(),null}function kr(){if(ir!==null){var e=vi(Lo),t=pt.transition,r=Ge;try{if(pt.transition=null,Ge=16>e?16:e,ir===null)var l=!1;else{if(e=ir,ir=null,Lo=0,Ne&6)throw Error(s(331));var f=Ne;for(Ne|=4,ce=e.current;ce!==null;){var v=ce,_=v.child;if(ce.flags&16){var C=v.deletions;if(C!==null){for(var W=0;W<C.length;W++){var ae=C[W];for(ce=ae;ce!==null;){var me=ce;switch(me.tag){case 0:case 11:case 15:_r(8,me,v)}var De=me.child;if(De!==null)De.return=me,ce=De;else for(;ce!==null;){me=ce;var Ce=me.sibling,Ze=me.return;if(Bs(me),me===ae){ce=null;break}if(Ce!==null){Ce.return=Ze,ce=Ce;break}ce=Ze}}}var ke=v.alternate;if(ke!==null){var Ot=ke.child;if(Ot!==null){ke.child=null;do{var Sn=Ot.sibling;Ot.sibling=null,Ot=Sn}while(Ot!==null)}}ce=v}}if(v.subtreeFlags&2064&&_!==null)_.return=v,ce=_;else e:for(;ce!==null;){if(v=ce,v.flags&2048)switch(v.tag){case 0:case 11:case 15:_r(9,v,v.return)}var A=v.sibling;if(A!==null){A.return=v.return,ce=A;break e}ce=v.return}}var M=e.current;for(ce=M;ce!==null;){_=ce;var N=_.child;if(_.subtreeFlags&2064&&N!==null)N.return=_,ce=N;else e:for(_=M;ce!==null;){if(C=ce,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Ri(9,C)}}catch(Ee){Kt(C,C.return,Ee)}if(C===_){ce=null;break e}var de=C.sibling;if(de!==null){de.return=C.return,ce=de;break e}ce=C.return}}if(Ne=f,Xt(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(hr,e)}catch{}l=!0}return l}finally{Ge=r,pt.transition=t}}return!1}function tu(e,t,r){t=Sl(r,t),t=vs(e,t,1),nr(e,t),t=Vt(),e=Oo(e,1),e!==null&&(Fn(e,1,t),Jt(e,t))}function Kt(e,t,r){if(e.tag===3)tu(e,e,r);else for(;t!==null;){if(t.tag===3){tu(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){e=Sl(r,e),e=ms(t,e,1),nr(t,e),e=Vt(),t=Oo(t,1),t!==null&&(Fn(t,1,e),Jt(t,e));break}}t=t.return}}function ac(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(Ct&r)===r&&(St===4||St===3&&(Ct&130023424)===Ct&&500>it()-zl?xr(e,0):Ol|=r),Jt(e,t)}function nu(e,t){t===0&&(e.mode&1?(t=jn,jn<<=1,!(jn&130023424)&&(jn=4194304)):t=1);var r=Vt();e=Oo(e,t),e!==null&&(Fn(e,t,r),Jt(e,r))}function sc(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nu(e,r)}function uc(e,t){var r=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(t),nu(e,r)}var ru;ru=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)un=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return un=!1,Kf(e,t,r);un=!!(e.flags&131072)}else un=!1,rt&&t.flags&1048576&&Wa(t,io,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var f=cn(t,yt.current);dt(t,r),f=pl(null,t,l,e,f,r);var v=vl();return t.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(l)?(v=!0,qn(t)):v=!1,t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,tl(t),f.updater=no,t.stateNode=f,f._reactInternals=t,rl(t,l,e,r),t=xl(null,t,l,!0,v,r)):(t.tag=0,rt&&v&&il(t),Ht(null,t,f,r),t=t.child),t;case 16:l=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,f=l._init,l=f(l._payload),t.type=l,f=t.tag=cc(l),e=jt(l,e),f){case 0:t=_l(null,t,l,e,r);break e;case 1:t=Ps(null,t,l,e,r);break e;case 11:t=xs(null,t,l,e,r);break e;case 14:t=Es(null,t,l,jt(l.type,e),r);break e}throw Error(s(306,l,""))}return t;case 0:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:jt(l,f),_l(e,t,l,f,r);case 1:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:jt(l,f),Ps(e,t,l,f,r);case 3:e:{if(Cs(t),e===null)throw Error(s(387));l=t.pendingProps,v=t.memoizedState,f=v.element,za(e,t),to(t,l,null,r);var _=t.memoizedState;if(l=_.element,ye&&v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:_.cache,transitions:_.transitions},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){f=Error(s(423)),t=Ms(e,t,l,r,f);break e}else if(l!==f){f=Error(s(424)),t=Ms(e,t,l,r,f);break e}else for(ye&&(sn=Pt(t.stateNode.containerInfo),an=t,rt=!0,Tn=null,_i=!1),r=Ja(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),l===f){t=Kn(e,t,r);break e}Ht(e,t,l,r)}t=t.child}return t;case 5:return Ka(t),e===null&&al(t),l=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,_=f.children,j(l,f)?_=null:v!==null&&j(l,v)&&(t.flags|=32),Us(e,t),Ht(e,t,_,r),t.child;case 6:return e===null&&al(t),null;case 13:return Fs(e,t,r);case 4:return ul(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Vr(t,null,l,r):Ht(e,t,l,r),t.child;case 11:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:jt(l,f),xs(e,t,l,f,r);case 7:return Ht(e,t,t.pendingProps,r),t.child;case 8:return Ht(e,t,t.pendingProps.children,r),t.child;case 12:return Ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(l=t.type._context,f=t.pendingProps,v=t.memoizedProps,_=f.value,$i(t,l,_),v!==null)if(on(v.value,_)){if(v.children===f.children&&!wt.current){t=Kn(e,t,r);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var C=v.dependencies;if(C!==null){_=v.child;for(var W=C.firstContext;W!==null;){if(W.context===l){if(v.tag===1){W=Qn(-1,r&-r),W.tag=2;var ae=v.updateQueue;if(ae!==null){ae=ae.shared;var me=ae.pending;me===null?W.next=W:(W.next=me.next,me.next=W),ae.pending=W}}v.lanes|=r,W=v.alternate,W!==null&&(W.lanes|=r),Wt(v.return,r,t),C.lanes|=r;break}W=W.next}}else if(v.tag===10)_=v.type===t.type?null:v.child;else if(v.tag===18){if(_=v.return,_===null)throw Error(s(341));_.lanes|=r,C=_.alternate,C!==null&&(C.lanes|=r),Wt(_,r,t),_=v.sibling}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===t){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}Ht(e,t,f.children,r),t=t.child}return t;case 9:return f=t.type,l=t.pendingProps.children,dt(t,r),f=ht(f),l=l(f),t.flags|=1,Ht(e,t,l,r),t.child;case 14:return l=t.type,f=jt(l,t.pendingProps),f=jt(l.type,f),Es(e,t,l,f,r);case 15:return ks(e,t,t.type,t.pendingProps,r);case 17:return l=t.type,f=t.pendingProps,f=t.elementType===l?f:jt(l,f),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,_t(l)?(e=!0,qn(t)):e=!1,dt(t,r),ba(t,l,f),rl(t,l,f,r),xl(null,t,l,!0,e,r);case 19:return As(e,t,r);case 22:return Ts(e,t,r)}throw Error(s(156,t.tag))};function iu(e,t){return Vn(e,t)}function fc(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,r,l){return new fc(e,t,r,l)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cc(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T)return 11;if(e===w)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=yn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Io(e,t,r,l,f,v){var _=2;if(l=e,typeof e=="function")Hl(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case c:return Tr(r.children,f,v,t);case m:_=8,f|=8;break;case y:return e=yn(12,r,t,f|2),e.elementType=y,e.lanes=v,e;case x:return e=yn(13,r,t,f),e.elementType=x,e.lanes=v,e;case k:return e=yn(19,r,t,f),e.elementType=k,e.lanes=v,e;case R:return Bo(r,f,v,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:_=10;break e;case E:_=9;break e;case T:_=11;break e;case w:_=14;break e;case U:_=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=yn(_,r,t,f),t.elementType=e,t.type=l,t.lanes=v,t}function Tr(e,t,r,l){return e=yn(7,e,l,t),e.lanes=r,e}function Bo(e,t,r,l){return e=yn(22,e,l,t),e.elementType=R,e.lanes=r,e.stateNode={},e}function Vl(e,t,r){return e=yn(6,e,null,t),e.lanes=r,e}function Ql(e,t,r){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dc(e,t,r,l,f){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=se,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Br(0),this.expirationTimes=Br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.identifierPrefix=l,this.onRecoverableError=f,ye&&(this.mutableSourceEagerHydrationData=null)}function ou(e,t,r,l,f,v,_,C,W){return e=new dc(e,t,r,C,W),t===1?(t=1,v===!0&&(t|=8)):t=0,v=yn(3,null,null,t),e.current=v,v.stateNode=e,v.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null},tl(v),e}function lu(e){if(!e)return en;e=e._reactInternals;e:{if(Y(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(_t(r))return zr(e,r,t)}return t}function au(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=L(t),e===null?null:e.stateNode}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xl(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function hc(e){return e=L(e),e===null?null:e.stateNode}function pc(){return null}return p.attemptContinuousHydration=function(e){if(e.tag===13){var t=Vt();gn(e,134217728,t),Xl(e,134217728)}},p.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=Vt(),r=or(e);gn(e,r,t),Xl(e,r)}},p.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wn(t.pendingLanes);r!==0&&(Dn(t,r|1),Jt(t,it()),!(Ne&6)&&(Zr(),Xt()))}break;case 13:var l=Vt();Ks(function(){return gn(e,1,l)}),Xl(e,1)}},p.batchedUpdates=function(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Zr(),Ln&&Xt())}},p.createComponentSelector=function(e){return{$$typeof:Eo,value:e}},p.createContainer=function(e,t,r,l,f,v,_){return ou(e,t,!1,null,r,l,f,v,_)},p.createHasPseudoClassSelector=function(e){return{$$typeof:ko,value:e}},p.createHydrationContainer=function(e,t,r,l,f,v,_,C,W){return e=ou(r,l,!0,e,f,v,_,C,W),e.context=lu(null),r=e.current,l=Vt(),f=or(r),v=Qn(l,f),v.callback=t??null,nr(r,v),e.current.lanes=f,Fn(e,f,l),Jt(e,l),e},p.createPortal=function(e,t,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:l==null?null:""+l,children:e,containerInfo:t,implementation:r}},p.createRoleSelector=function(e){return{$$typeof:To,value:e}},p.createTestNameSelector=function(e){return{$$typeof:Uo,value:e}},p.createTextSelector=function(e){return{$$typeof:Po,value:e}},p.deferredUpdates=function(e){var t=Ge,r=pt.transition;try{return pt.transition=null,Ge=16,e()}finally{Ge=t,pt.transition=r}},p.discreteUpdates=function(e,t,r,l,f){var v=Ge,_=pt.transition;try{return pt.transition=null,Ge=1,e(t,r,l,f)}finally{Ge=v,pt.transition=_,Ne===0&&Zr()}},p.findAllNodes=Rl,p.findBoundingRects=function(e,t){if(!he)throw Error(s(363));t=Rl(e,t),e=[];for(var r=0;r<t.length;r++)e.push(Pe(t[r]));for(t=e.length-1;0<t;t--){r=e[t];for(var l=r.x,f=l+r.width,v=r.y,_=v+r.height,C=t-1;0<=C;C--)if(t!==C){var W=e[C],ae=W.x,me=ae+W.width,De=W.y,Ce=De+W.height;if(l>=ae&&v>=De&&f<=me&&_<=Ce){e.splice(t,1);break}else if(l!==ae||r.width!==W.width||Ce<v||De>_){if(!(v!==De||r.height!==W.height||me<l||ae>f)){ae>l&&(W.width+=ae-l,W.x=l),me<f&&(W.width=f-ae),e.splice(t,1);break}}else{De>v&&(W.height+=De-v,W.y=v),Ce<_&&(W.height=_-De),e.splice(t,1);break}}}return e},p.findHostInstance=au,p.findHostInstanceWithNoPortals=function(e){return e=G(e),e=e!==null?K(e):null,e===null?null:e.stateNode},p.findHostInstanceWithWarning=function(e){return au(e)},p.flushControlled=function(e){var t=Ne;Ne|=1;var r=pt.transition,l=Ge;try{pt.transition=null,Ge=1,e()}finally{Ge=l,pt.transition=r,Ne=t,Ne===0&&(Zr(),Xt())}},p.flushPassiveEffects=kr,p.flushSync=Ks,p.focusWithin=function(e,t){if(!he)throw Error(s(363));for(e=Fl(e),t=Xs(e,t),t=Array.from(t),e=0;e<t.length;){var r=t[e++];if(!Se(r)){if(r.tag===5&&be(r.stateNode))return!0;for(r=r.child;r!==null;)t.push(r),r=r.sibling}}return!1},p.getCurrentUpdatePriority=function(){return Ge},p.getFindAllNodesFailureDescription=function(e,t){if(!he)throw Error(s(363));var r=0,l=[];e=[Fl(e),0];for(var f=0;f<e.length;){var v=e[f++],_=e[f++],C=t[_];if((v.tag!==5||!Se(v))&&(Dl(v,C)&&(l.push(Ll(C)),_++,_>r&&(r=_)),_<t.length))for(v=v.child;v!==null;)e.push(v,_),v=v.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(Ll(t[r]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},p.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return oe(e.child.stateNode);default:return e.child.stateNode}},p.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:hc,findFiberByHostInstance:e.findFiberByHostInstance||pc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{hr=t.inject(e),rn=t}catch{}e=!!t.checkDCE}}return e},p.isAlreadyRendering=function(){return!1},p.observeVisibleRects=function(e,t,r,l){if(!he)throw Error(s(363));e=Rl(e,t);var f=Ae(e,r,l).disconnect;return{disconnect:function(){f()}}},p.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},p.runWithPriority=function(e,t){var r=Ge;try{return Ge=e,t()}finally{Ge=r}},p.shouldError=function(){return null},p.shouldSuspend=function(){return!1},p.updateContainer=function(e,t,r,l){var f=t.current,v=Vt(),_=or(f);return r=lu(r),t.context===null?t.context=r:t.pendingContext=r,t=Qn(v,_),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),nr(f,t),e=gn(f,_,v),e!==null&&eo(e,f,_),_},p};qu.exports=Xc;var Yc=qu.exports;const Jc=Qu(Yc),Kc=d=>typeof d=="object"&&typeof d.then=="function",Pr=[];function tf(d,i,p=(g,o)=>g===o){if(d===i)return!0;if(!d||!i)return!1;const g=d.length;if(i.length!==g)return!1;for(let o=0;o<g;o++)if(!p(d[o],i[o]))return!1;return!0}function nf(d,i=null,p=!1,g={}){i===null&&(i=[d]);for(const n of Pr)if(tf(i,n.keys,n.equal)){if(p)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return g.lifespan&&g.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,g.lifespan)),n.response;if(!p)throw n.promise}const o={keys:i,equal:g.equal,remove:()=>{const n=Pr.indexOf(o);n!==-1&&Pr.splice(n,1)},promise:(Kc(d)?d:d(...i)).then(n=>{o.response=n,g.lifespan&&g.lifespan>0&&(o.timeout=setTimeout(o.remove,g.lifespan))}).catch(n=>o.error=n)};if(Pr.push(o),!p)throw o.promise}const Zc=(d,i,p)=>nf(d,i,!1,p),qc=(d,i,p)=>void nf(d,i,!0,p),$c=d=>{if(d===void 0||d.length===0)Pr.splice(0,Pr.length);else{const i=Pr.find(p=>tf(d,p.keys,p.equal));i&&i.remove()}},Ca={},ed=d=>void Object.assign(Ca,d);function td(d,i){function p(c,{args:m=[],attach:y,...S},E){let T=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(S.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const k=S.object;x=ti(k,{type:c,root:E,attach:y,primitive:!0})}else{const k=Ca[T];if(!k)throw new Error(`R3F: ${T} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");x=ti(new k(...m),{type:c,root:E,attach:y,memoizedProps:{args:m}})}return x.__r3f.attach===void 0&&(x instanceof Yu?x.__r3f.attach="geometry":x instanceof yc&&(x.__r3f.attach="material")),T!=="inject"&&ql(x,S),x}function g(c,m){let y=!1;if(m){var S,E;(S=m.__r3f)!=null&&S.attach?Zl(c,m,m.__r3f.attach):m.isObject3D&&c.isObject3D&&(c.add(m),y=!0),y||(E=c.__r3f)==null||E.objects.push(m),m.__r3f||ti(m,{}),m.__r3f.parent=c,va(m),ni(m)}}function o(c,m,y){let S=!1;if(m){var E,T;if((E=m.__r3f)!=null&&E.attach)Zl(c,m,m.__r3f.attach);else if(m.isObject3D&&c.isObject3D){m.parent=c,m.dispatchEvent({type:"added"});const x=c.children.filter(w=>w!==m),k=x.indexOf(y);c.children=[...x.slice(0,k),m,...x.slice(k)],S=!0}S||(T=c.__r3f)==null||T.objects.push(m),m.__r3f||ti(m,{}),m.__r3f.parent=c,va(m),ni(m)}}function n(c,m,y=!1){c&&[...c].forEach(S=>s(m,S,y))}function s(c,m,y){if(m){var S,E,T;if(m.__r3f&&(m.__r3f.parent=null),(S=c.__r3f)!=null&&S.objects&&(c.__r3f.objects=c.__r3f.objects.filter(R=>R!==m)),(E=m.__r3f)!=null&&E.attach)gu(c,m,m.__r3f.attach);else if(m.isObject3D&&c.isObject3D){var x;c.remove(m),(x=m.__r3f)!=null&&x.root&&fd(m.__r3f.root,m)}const w=(T=m.__r3f)==null?void 0:T.primitive,U=!w&&(y===void 0?m.dispose!==null:y);if(!w){var k;n((k=m.__r3f)==null?void 0:k.objects,m,U),n(m.children,m,U)}if(delete m.__r3f,U&&m.dispose&&m.type!=="Scene"){const R=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?ha.unstable_scheduleCallback(ha.unstable_IdlePriority,R):R()}ni(c)}}function u(c,m,y,S){var E;const T=(E=c.__r3f)==null?void 0:E.parent;if(!T)return;const x=p(m,y,c.__r3f.root);if(c.children){for(const k of c.children)k.__r3f&&g(x,k);c.children=c.children.filter(k=>!k.__r3f)}c.__r3f.objects.forEach(k=>g(x,k)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||s(T,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),g(T,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[S,S.alternate].forEach(k=>{k!==null&&(k.stateNode=x,k.ref&&(typeof k.ref=="function"?k.ref(x):k.ref.current=x))})}const a=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Jc({createInstance:p,removeChild:s,appendChild:g,appendInitialChild:g,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,m)=>{if(!m)return;const y=c.getState().scene;y.__r3f&&(y.__r3f.root=c,g(y,m))},removeChildFromContainer:(c,m)=>{m&&s(c.getState().scene,m)},insertInContainerBefore:(c,m,y)=>{if(!m||!y)return;const S=c.getState().scene;S.__r3f&&o(S,m,y)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var m;return!!((m=c==null?void 0:c.__r3f)!=null?m:{}).handlers},prepareUpdate(c,m,y,S){var E;if(((E=c==null?void 0:c.__r3f)!=null?E:{}).primitive&&S.object&&S.object!==c)return[!0];{const{args:x=[],children:k,...w}=S,{args:U=[],children:R,...F}=y;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((I,B)=>I!==U[B]))return[!0];const D=ff(c,w,F,!0);return D.changes.length?[!1,D]:null}},commitUpdate(c,[m,y],S,E,T,x){m?u(c,S,T,x):ql(c,y)},commitMount(c,m,y,S){var E;const T=(E=c.__r3f)!=null?E:{};c.raycast&&T.handlers&&T.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>ti(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var m;const{attach:y,parent:S}=(m=c.__r3f)!=null?m:{};y&&S&&gu(S,c,y),c.isObject3D&&(c.visible=!1),ni(c)},unhideInstance(c,m){var y;const{attach:S,parent:E}=(y=c.__r3f)!=null?y:{};S&&E&&Zl(E,c,S),(c.isObject3D&&m.visible==null||m.visible)&&(c.visible=!0),ni(c)},createTextInstance:a,hideTextInstance:a,unhideTextInstance:a,getCurrentEventPriority:()=>i?i():ii.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&et.fun(performance.now)?performance.now:et.fun(Date.now)?Date.now:()=>0,scheduleTimeout:et.fun(setTimeout)?setTimeout:void 0,cancelTimeout:et.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ql}}var hu,pu;const Kl=d=>"colorSpace"in d||"outputColorSpace"in d,rf=()=>{var d;return(d=Ca.ColorManagement)!=null?d:null},of=d=>d&&d.isOrthographicCamera,nd=d=>d&&d.hasOwnProperty("current"),ui=typeof window<"u"&&((hu=window.document)!=null&&hu.createElement||((pu=window.navigator)==null?void 0:pu.product)==="ReactNative")?Z.useLayoutEffect:Z.useEffect;function lf(d){const i=Z.useRef(d);return ui(()=>void(i.current=d),[d]),i}function rd({set:d}){return ui(()=>(d(new Promise(()=>null)),()=>d(!1)),[d]),null}class af extends Z.Component{constructor(...i){super(...i),this.state={error:!1}}componentDidCatch(i){this.props.set(i)}render(){return this.state.error?null:this.props.children}}af.getDerivedStateFromError=()=>({error:!0});const sf="__default",vu=new Map,id=d=>d&&!!d.memoized&&!!d.changes;function uf(d){var i;const p=typeof window<"u"?(i=window.devicePixelRatio)!=null?i:2:1;return Array.isArray(d)?Math.min(Math.max(d[0],p),d[1]):d}const Bi=d=>{var i;return(i=d.__r3f)==null?void 0:i.root.getState()},et={obj:d=>d===Object(d)&&!et.arr(d)&&typeof d!="function",fun:d=>typeof d=="function",str:d=>typeof d=="string",num:d=>typeof d=="number",boo:d=>typeof d=="boolean",und:d=>d===void 0,arr:d=>Array.isArray(d),equ(d,i,{arrays:p="shallow",objects:g="reference",strict:o=!0}={}){if(typeof d!=typeof i||!!d!=!!i)return!1;if(et.str(d)||et.num(d))return d===i;const n=et.obj(d);if(n&&g==="reference")return d===i;const s=et.arr(d);if(s&&p==="reference")return d===i;if((s||n)&&d===i)return!0;let u;for(u in d)if(!(u in i))return!1;if(n&&p==="shallow"&&g==="shallow"){for(u in o?i:d)if(!et.equ(d[u],i[u],{strict:o,objects:"reference"}))return!1}else for(u in o?i:d)if(d[u]!==i[u])return!1;if(et.und(u)){if(s&&d.length===0&&i.length===0||n&&Object.keys(d).length===0&&Object.keys(i).length===0)return!0;if(d!==i)return!1}return!0}};function od(d){const i={nodes:{},materials:{}};return d&&d.traverse(p=>{p.name&&(i.nodes[p.name]=p),p.material&&!i.materials[p.material.name]&&(i.materials[p.material.name]=p.material)}),i}function ld(d){d.dispose&&d.type!=="Scene"&&d.dispose();for(const i in d)i.dispose==null||i.dispose(),delete d[i]}function ti(d,i){const p=d;return p.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...i},d}function pa(d,i){let p=d;if(i.includes("-")){const g=i.split("-"),o=g.pop();return p=g.reduce((n,s)=>n[s],d),{target:p,key:o}}else return{target:p,key:i}}const mu=/-\d+$/;function Zl(d,i,p){if(et.str(p)){if(mu.test(p)){const n=p.replace(mu,""),{target:s,key:u}=pa(d,n);Array.isArray(s[u])||(s[u]=[])}const{target:g,key:o}=pa(d,p);i.__r3f.previousAttach=g[o],g[o]=i}else i.__r3f.previousAttach=p(d,i)}function gu(d,i,p){var g,o;if(et.str(p)){const{target:n,key:s}=pa(d,p),u=i.__r3f.previousAttach;u===void 0?delete n[s]:n[s]=u}else(g=i.__r3f)==null||g.previousAttach==null||g.previousAttach(d,i);(o=i.__r3f)==null||delete o.previousAttach}function ff(d,{children:i,key:p,ref:g,...o},{children:n,key:s,ref:u,...a}={},h=!1){var c;const m=(c=d==null?void 0:d.__r3f)!=null?c:{},y=Object.entries(o),S=[];if(h){const T=Object.keys(a);for(let x=0;x<T.length;x++)o.hasOwnProperty(T[x])||y.unshift([T[x],sf+"remove"])}y.forEach(([T,x])=>{var k;if((k=d.__r3f)!=null&&k.primitive&&T==="object"||et.equ(x,a[T]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(T))return S.push([T,x,!0,[]]);let w=[];T.includes("-")&&(w=T.split("-")),S.push([T,x,!1,w]);for(const U in o){const R=o[U];U.startsWith(`${T}-`)&&S.push([U,R,!1,U.split("-")])}});const E={...o};return m.memoizedProps&&m.memoizedProps.args&&(E.args=m.memoizedProps.args),m.memoizedProps&&m.memoizedProps.attach&&(E.attach=m.memoizedProps.attach),{memoized:E,changes:S}}const ad=typeof process<"u"&&!1;function ql(d,i){var p,g,o;const n=(p=d.__r3f)!=null?p:{},s=n.root,u=(g=s==null||s.getState==null?void 0:s.getState())!=null?g:{},{memoized:a,changes:h}=id(i)?i:ff(d,i),c=n.eventCount;d.__r3f&&(d.__r3f.memoizedProps=a);for(let y=0;y<h.length;y++){let[S,E,T,x]=h[y];if(Kl(d)){const R="srgb",F="srgb-linear";S==="encoding"?(S="colorSpace",E=E===3001?R:F):S==="outputEncoding"&&(S="outputColorSpace",E=E===3001?R:F)}let k=d,w=k[S];if(x.length&&(w=x.reduce((U,R)=>U[R],d),!(w&&w.set))){const[U,...R]=x.reverse();k=R.reverse().reduce((F,D)=>F[D],d),S=U}if(E===sf+"remove")if(k.constructor){let U=vu.get(k.constructor);U||(U=new k.constructor,vu.set(k.constructor,U)),E=U[S]}else E=0;if(T)E?n.handlers[S]=E:delete n.handlers[S],n.eventCount=Object.keys(n.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Yl)){if(Array.isArray(E))w.fromArray?w.fromArray(E):w.set(...E);else if(w.copy&&E&&E.constructor&&(ad?w.constructor.name===E.constructor.name:w.constructor===E.constructor))w.copy(E);else if(E!==void 0){const U=w instanceof Wi;!U&&w.setScalar?w.setScalar(E):w instanceof Yl&&E instanceof Yl?w.mask=E.mask:w.set(E),!rf()&&!u.linear&&U&&w.convertSRGBToLinear()}}else if(k[S]=E,k[S]instanceof Xu&&k[S].format===mc&&k[S].type===gc){const U=k[S];Kl(U)&&Kl(u.gl)?U.colorSpace=u.gl.outputColorSpace:U.encoding=u.gl.outputEncoding}ni(d)}if(n.parent&&u.internal&&d.raycast&&c!==n.eventCount){const y=u.internal.interaction.indexOf(d);y>-1&&u.internal.interaction.splice(y,1),n.eventCount&&u.internal.interaction.push(d)}return!(h.length===1&&h[0][0]==="onUpdate")&&h.length&&(o=d.__r3f)!=null&&o.parent&&va(d),d}function ni(d){var i,p;const g=(i=d.__r3f)==null||(p=i.root)==null||p.getState==null?void 0:p.getState();g&&g.internal.frames===0&&g.invalidate()}function va(d){d.onUpdate==null||d.onUpdate(d)}function sd(d,i){d.manual||(of(d)?(d.left=i.width/-2,d.right=i.width/2,d.top=i.height/2,d.bottom=i.height/-2):d.aspect=i.width/i.height,d.updateProjectionMatrix(),d.updateMatrixWorld())}function No(d){return(d.eventObject||d.object).uuid+"/"+d.index+d.instanceId}function ud(){var d;const i=typeof self<"u"&&self||typeof window<"u"&&window;if(!i)return ii.DefaultEventPriority;switch((d=i.event)==null?void 0:d.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ii.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ii.ContinuousEventPriority;default:return ii.DefaultEventPriority}}function cf(d,i,p,g){const o=p.get(i);o&&(p.delete(i),p.size===0&&(d.delete(g),o.target.releasePointerCapture(g)))}function fd(d,i){const{internal:p}=d.getState();p.interaction=p.interaction.filter(g=>g!==i),p.initialHits=p.initialHits.filter(g=>g!==i),p.hovered.forEach((g,o)=>{(g.eventObject===i||g.object===i)&&p.hovered.delete(o)}),p.capturedMap.forEach((g,o)=>{cf(p.capturedMap,i,g,o)})}function cd(d){function i(a){const{internal:h}=d.getState(),c=a.offsetX-h.initialClick[0],m=a.offsetY-h.initialClick[1];return Math.round(Math.sqrt(c*c+m*m))}function p(a){return a.filter(h=>["Move","Over","Enter","Out","Leave"].some(c=>{var m;return(m=h.__r3f)==null?void 0:m.handlers["onPointer"+c]}))}function g(a,h){const c=d.getState(),m=new Set,y=[],S=h?h(c.internal.interaction):c.internal.interaction;for(let k=0;k<S.length;k++){const w=Bi(S[k]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(a,c);function E(k){const w=Bi(k);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var U;w.events.compute==null||w.events.compute(a,w,(U=w.previousRoot)==null?void 0:U.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(k,!0):[]}let T=S.flatMap(E).sort((k,w)=>{const U=Bi(k.object),R=Bi(w.object);return!U||!R?k.distance-w.distance:R.events.priority-U.events.priority||k.distance-w.distance}).filter(k=>{const w=No(k);return m.has(w)?!1:(m.add(w),!0)});c.events.filter&&(T=c.events.filter(T,c));for(const k of T){let w=k.object;for(;w;){var x;(x=w.__r3f)!=null&&x.eventCount&&y.push({...k,eventObject:w}),w=w.parent}}if("pointerId"in a&&c.internal.capturedMap.has(a.pointerId))for(let k of c.internal.capturedMap.get(a.pointerId).values())m.has(No(k.intersection))||y.push(k.intersection);return y}function o(a,h,c,m){const y=d.getState();if(a.length){const S={stopped:!1};for(const E of a){const T=Bi(E.object)||y,{raycaster:x,pointer:k,camera:w,internal:U}=T,R=new ft(k.x,k.y,0).unproject(w),F=ie=>{var G,L;return(G=(L=U.capturedMap.get(ie))==null?void 0:L.has(E.eventObject))!=null?G:!1},D=ie=>{const G={intersection:E,target:h.target};U.capturedMap.has(ie)?U.capturedMap.get(ie).set(E.eventObject,G):U.capturedMap.set(ie,new Map([[E.eventObject,G]])),h.target.setPointerCapture(ie)},I=ie=>{const G=U.capturedMap.get(ie);G&&cf(U.capturedMap,E.eventObject,G,ie)};let B={};for(let ie in h){let G=h[ie];typeof G!="function"&&(B[ie]=G)}let Y={...E,...B,pointer:k,intersections:a,stopped:S.stopped,delta:c,unprojectedPoint:R,ray:x.ray,camera:w,stopPropagation(){const ie="pointerId"in h&&U.capturedMap.get(h.pointerId);if((!ie||ie.has(E.eventObject))&&(Y.stopped=S.stopped=!0,U.hovered.size&&Array.from(U.hovered.values()).find(G=>G.eventObject===E.eventObject))){const G=a.slice(0,a.indexOf(E));n([...G,E])}},target:{hasPointerCapture:F,setPointerCapture:D,releasePointerCapture:I},currentTarget:{hasPointerCapture:F,setPointerCapture:D,releasePointerCapture:I},nativeEvent:h};if(m(Y),S.stopped===!0)break}}return a}function n(a){const{internal:h}=d.getState();for(const c of h.hovered.values())if(!a.length||!a.find(m=>m.object===c.object&&m.index===c.index&&m.instanceId===c.instanceId)){const y=c.eventObject.__r3f,S=y==null?void 0:y.handlers;if(h.hovered.delete(No(c)),y!=null&&y.eventCount){const E={...c,intersections:a};S.onPointerOut==null||S.onPointerOut(E),S.onPointerLeave==null||S.onPointerLeave(E)}}}function s(a,h){for(let c=0;c<h.length;c++){const m=h[c].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(a)}}function u(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return h=>{const{internal:c}=d.getState();"pointerId"in h&&c.capturedMap.has(h.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(h.pointerId)&&(c.capturedMap.delete(h.pointerId),n([]))})}}return function(c){const{onPointerMissed:m,internal:y}=d.getState();y.lastEvent.current=c;const S=a==="onPointerMove",E=a==="onClick"||a==="onContextMenu"||a==="onDoubleClick",x=g(c,S?p:void 0),k=E?i(c):0;a==="onPointerDown"&&(y.initialClick=[c.offsetX,c.offsetY],y.initialHits=x.map(U=>U.eventObject)),E&&!x.length&&k<=2&&(s(c,y.interaction),m&&m(c)),S&&n(x);function w(U){const R=U.eventObject,F=R.__r3f,D=F==null?void 0:F.handlers;if(F!=null&&F.eventCount)if(S){if(D.onPointerOver||D.onPointerEnter||D.onPointerOut||D.onPointerLeave){const I=No(U),B=y.hovered.get(I);B?B.stopped&&U.stopPropagation():(y.hovered.set(I,U),D.onPointerOver==null||D.onPointerOver(U),D.onPointerEnter==null||D.onPointerEnter(U))}D.onPointerMove==null||D.onPointerMove(U)}else{const I=D[a];I?(!E||y.initialHits.includes(R))&&(s(c,y.interaction.filter(B=>!y.initialHits.includes(B))),I(U)):E&&y.initialHits.includes(R)&&s(c,y.interaction.filter(B=>!y.initialHits.includes(B)))}}o(x,c,k,w)}}return{handlePointer:u}}const df=d=>!!(d!=null&&d.render),hf=Z.createContext(null),dd=(d,i)=>{const p=Qc((u,a)=>{const h=new ft,c=new ft,m=new ft;function y(k=a().camera,w=c,U=a().size){const{width:R,height:F,top:D,left:I}=U,B=R/F;w instanceof ft?m.copy(w):m.set(...w);const Y=k.getWorldPosition(h).distanceTo(m);if(of(k))return{width:R/k.zoom,height:F/k.zoom,top:D,left:I,factor:1,distance:Y,aspect:B};{const ie=k.fov*Math.PI/180,G=2*Math.tan(ie/2)*Y,L=G*(R/F);return{width:L,height:G,top:D,left:I,factor:R/L,distance:Y,aspect:B}}}let S;const E=k=>u(w=>({performance:{...w.performance,current:k}})),T=new Fr;return{set:u,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(k=1)=>d(a(),k),advance:(k,w)=>i(k,w,a()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Pc,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const k=a();S&&clearTimeout(S),k.performance.current!==k.performance.min&&E(k.performance.min),S=setTimeout(()=>E(a().performance.max),k.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:k=>u(w=>({...w,events:{...w.events,...k}})),setSize:(k,w,U,R,F)=>{const D=a().camera,I={width:k,height:w,top:R||0,left:F||0,updateStyle:U};u(B=>({size:I,viewport:{...B.viewport,...y(D,c,I)}}))},setDpr:k=>u(w=>{const U=uf(k);return{viewport:{...w.viewport,dpr:U,initialDpr:w.viewport.initialDpr||U}}}),setFrameloop:(k="always")=>{const w=a().clock;w.stop(),w.elapsedTime=0,k!=="never"&&(w.start(),w.elapsedTime=0),u(()=>({frameloop:k}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(k,w,U)=>{const R=a().internal;return R.priority=R.priority+(w>0?1:0),R.subscribers.push({ref:k,priority:w,store:U}),R.subscribers=R.subscribers.sort((F,D)=>F.priority-D.priority),()=>{const F=a().internal;F!=null&&F.subscribers&&(F.priority=F.priority-(w>0?1:0),F.subscribers=F.subscribers.filter(D=>D.ref!==k))}}}}}),g=p.getState();let o=g.size,n=g.viewport.dpr,s=g.camera;return p.subscribe(()=>{const{camera:u,size:a,viewport:h,gl:c,set:m}=p.getState();if(a.width!==o.width||a.height!==o.height||h.dpr!==n){var y;o=a,n=h.dpr,sd(u,a),c.setPixelRatio(h.dpr);const S=(y=a.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(a.width,a.height,S)}u!==s&&(s=u,m(S=>({viewport:{...S.viewport,...S.viewport.getCurrentViewport(u)}})))}),p.subscribe(u=>d(u)),p};function Ma(d,i){const p={callback:d};return i.add(p),()=>void i.delete(p)}let Go,pf=new Set,vf=new Set,mf=new Set;const Qh=d=>Ma(d,pf),Xh=d=>Ma(d,vf),Yh=d=>Ma(d,mf);function $l(d,i){if(d.size)for(const{callback:p}of d.values())p(i)}function Ni(d,i){switch(d){case"before":return $l(pf,i);case"after":return $l(vf,i);case"tail":return $l(mf,i)}}let ea,ta;function na(d,i,p){let g=i.clock.getDelta();for(i.frameloop==="never"&&typeof d=="number"&&(g=d-i.clock.elapsedTime,i.clock.oldTime=i.clock.elapsedTime,i.clock.elapsedTime=d),ea=i.internal.subscribers,Go=0;Go<ea.length;Go++)ta=ea[Go],ta.ref.current(ta.store.getState(),g,p);return!i.internal.priority&&i.gl.render&&i.gl.render(i.scene,i.camera),i.internal.frames=Math.max(0,i.internal.frames-1),i.frameloop==="always"?1:i.internal.frames}function hd(d){let i=!1,p,g,o;function n(a){g=requestAnimationFrame(n),i=!0,p=0,Ni("before",a);for(const c of d.values()){var h;o=c.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((h=o.gl.xr)!=null&&h.isPresenting)&&(p+=na(a,o))}if(Ni("after",a),p===0)return Ni("tail",a),i=!1,cancelAnimationFrame(g)}function s(a,h=1){var c;if(!a)return d.forEach(m=>s(m.store.getState()),h);(c=a.gl.xr)!=null&&c.isPresenting||!a.internal.active||a.frameloop==="never"||(a.internal.frames=Math.min(60,a.internal.frames+h),i||(i=!0,requestAnimationFrame(n)))}function u(a,h=!0,c,m){if(h&&Ni("before",a),c)na(a,c,m);else for(const y of d.values())na(a,y.store.getState());h&&Ni("after",a)}return{loop:n,invalidate:s,advance:u}}function Jh(d){const i=Z.useRef(null);return ui(()=>void(i.current=d.current.__r3f),[d]),i}function gf(){const d=Z.useContext(hf);if(!d)throw new Error("R3F: Hooks can only be used within the Canvas component!");return d}function Fa(d=p=>p,i){return gf()(d,i)}function pd(d,i=0){const p=gf(),g=p.getState().internal.subscribe,o=lf(d);return ui(()=>g(o,i,p),[i,g,p]),null}const yu=new WeakMap;function yf(d,i){return function(p,...g){let o=yu.get(p);return o||(o=new p,yu.set(p,o)),d&&d(o),Promise.all(g.map(n=>new Promise((s,u)=>o.load(n,a=>{a.scene&&Object.assign(a,od(a.scene)),s(a)},i,a=>u(new Error(`Could not load ${n}: ${a==null?void 0:a.message}`)))))).finally(()=>o.dispose==null?void 0:o.dispose())}}function Sf(d,i,p,g){const o=Array.isArray(i)?i:[i],n=Zc(yf(p,g),[d,...o],{equal:et.equ});return Array.isArray(i)?n:n[0]}Sf.preload=function(d,i,p){const g=Array.isArray(i)?i:[i];return qc(yf(p),[d,...g])};Sf.clear=function(d,i){const p=Array.isArray(i)?i:[i];return $c([d,...p])};const si=new Map,{invalidate:Su,advance:wu}=hd(si),{reconciler:Jo,applyProps:qr}=td(si,ud),$r={objects:"shallow",strict:!1},vd=(d,i)=>{const p=typeof d=="function"?d(i):d;return df(p)?p:new xc({powerPreference:"high-performance",canvas:i,antialias:!0,alpha:!0,...d})};function md(d,i){const p=typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement;if(i){const{width:g,height:o,top:n,left:s,updateStyle:u=p}=i;return{width:g,height:o,top:n,left:s,updateStyle:u}}else if(typeof HTMLCanvasElement<"u"&&d instanceof HTMLCanvasElement&&d.parentElement){const{width:g,height:o,top:n,left:s}=d.parentElement.getBoundingClientRect();return{width:g,height:o,top:n,left:s,updateStyle:p}}else if(typeof OffscreenCanvas<"u"&&d instanceof OffscreenCanvas)return{width:d.width,height:d.height,top:0,left:0,updateStyle:p};return{width:0,height:0,top:0,left:0}}function gd(d){const i=si.get(d),p=i==null?void 0:i.fiber,g=i==null?void 0:i.store;i&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,n=g||dd(Su,wu),s=p||Jo.createContainer(n,ii.ConcurrentRoot,null,!1,null,"",o,null);i||si.set(d,{fiber:s,store:n});let u,a=!1,h;return{configure(c={}){let{gl:m,size:y,scene:S,events:E,onCreated:T,shadows:x=!1,linear:k=!1,flat:w=!1,legacy:U=!1,orthographic:R=!1,frameloop:F="always",dpr:D=[1,2],performance:I,raycaster:B,camera:Y,onPointerMissed:ie}=c,G=n.getState(),L=G.gl;G.gl||G.set({gl:L=vd(m,d)});let $=G.raycaster;$||G.set({raycaster:$=new Sc});const{params:K,...te}=B||{};if(et.equ(te,$,$r)||qr($,{...te}),et.equ(K,$.params,$r)||qr($,{params:{...$.params,...K}}),!G.camera||G.camera===h&&!et.equ(h,Y,$r)){h=Y;const O=Y instanceof Ec,V=O?Y:R?new Ea(0,0,0,0,.1,1e3):new ka(75,0,.1,1e3);O||(V.position.z=5,Y&&qr(V,Y),!G.camera&&!(Y!=null&&Y.rotation)&&V.lookAt(0,0,0)),G.set({camera:V}),$.camera=V}if(!G.scene){let O;S instanceof uu?O=S:(O=new uu,S&&qr(O,S)),G.set({scene:ti(O)})}if(!G.xr){var oe;const O=(j,ne)=>{const Q=n.getState();Q.frameloop!=="never"&&wu(j,!0,Q,ne)},V=()=>{const j=n.getState();j.gl.xr.enabled=j.gl.xr.isPresenting,j.gl.xr.setAnimationLoop(j.gl.xr.isPresenting?O:null),j.gl.xr.isPresenting||Su(j)},X={connect(){const j=n.getState().gl;j.xr.addEventListener("sessionstart",V),j.xr.addEventListener("sessionend",V)},disconnect(){const j=n.getState().gl;j.xr.removeEventListener("sessionstart",V),j.xr.removeEventListener("sessionend",V)}};typeof((oe=L.xr)==null?void 0:oe.addEventListener)=="function"&&X.connect(),G.set({xr:X})}if(L.shadowMap){const O=L.shadowMap.enabled,V=L.shadowMap.type;if(L.shadowMap.enabled=!!x,et.boo(x))L.shadowMap.type=Jl;else if(et.str(x)){var pe;const X={basic:kc,percentage:Tc,soft:Jl,variance:Uc};L.shadowMap.type=(pe=X[x])!=null?pe:Jl}else et.obj(x)&&Object.assign(L.shadowMap,x);(O!==L.shadowMap.enabled||V!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}const H=rf();H&&("enabled"in H?H.enabled=!U:"legacyMode"in H&&(H.legacyMode=U)),qr(L,{outputEncoding:k?3e3:3001,toneMapping:w?wc:_c}),G.legacy!==U&&G.set(()=>({legacy:U})),G.linear!==k&&G.set(()=>({linear:k})),G.flat!==w&&G.set(()=>({flat:w})),m&&!et.fun(m)&&!df(m)&&!et.equ(m,L,$r)&&qr(L,m),E&&!G.events.handlers&&G.set({events:E(n)});const P=md(d,y);return et.equ(P,G.size,$r)||G.setSize(P.width,P.height,P.updateStyle,P.top,P.left),D&&G.viewport.dpr!==uf(D)&&G.setDpr(D),G.frameloop!==F&&G.setFrameloop(F),G.onPointerMissed||G.set({onPointerMissed:ie}),I&&!et.equ(I,G.performance,$r)&&G.set(O=>({performance:{...O.performance,...I}})),u=T,a=!0,this},render(c){return a||this.configure(),Jo.updateContainer(Z.createElement(yd,{store:n,children:c,onCreated:u,rootElement:d}),s,null,()=>{}),n},unmount(){wf(d)}}}function yd({store:d,children:i,onCreated:p,rootElement:g}){return ui(()=>{const o=d.getState();o.set(n=>({internal:{...n.internal,active:!0}})),p&&p(o),d.getState().events.connected||o.events.connect==null||o.events.connect(g)},[]),Z.createElement(hf.Provider,{value:d},i)}function wf(d,i){const p=si.get(d),g=p==null?void 0:p.fiber;if(g){const o=p==null?void 0:p.store.getState();o&&(o.internal.active=!1),Jo.updateContainer(null,g,null,()=>{o&&setTimeout(()=>{try{var n,s,u,a;o.events.disconnect==null||o.events.disconnect(),(n=o.gl)==null||(s=n.renderLists)==null||s.dispose==null||s.dispose(),(u=o.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(a=o.gl)!=null&&a.xr&&o.xr.disconnect(),ld(o),si.delete(d),i&&i(d)}catch{}},500)})}}Jo.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Z.version});function ma(d,i,p){var g,o,n,s,u;i==null&&(i=100);function a(){var c=Date.now()-s;c<i&&c>=0?g=setTimeout(a,i-c):(g=null,p||(u=d.apply(n,o),n=o=null))}var h=function(){n=this,o=arguments,s=Date.now();var c=p&&!g;return g||(g=setTimeout(a,i)),c&&(u=d.apply(n,o),n=o=null),u};return h.clear=function(){g&&(clearTimeout(g),g=null)},h.flush=function(){g&&(u=d.apply(n,o),n=o=null,clearTimeout(g),g=null)},h}ma.debounce=ma;var Sd=ma;const _u=Qu(Sd);function wd(d){let{debounce:i,scroll:p,polyfill:g,offsetSize:o}=d===void 0?{debounce:0,scroll:!1,offsetSize:!1}:d;const n=g||(typeof window>"u"?class{}:window.ResizeObserver);if(!n)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,u]=Z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=Z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),h=i?typeof i=="number"?i:i.scroll:null,c=i?typeof i=="number"?i:i.resize:null,m=Z.useRef(!1);Z.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[y,S,E]=Z.useMemo(()=>{const w=()=>{if(!a.current.element)return;const{left:U,top:R,width:F,height:D,bottom:I,right:B,x:Y,y:ie}=a.current.element.getBoundingClientRect(),G={left:U,top:R,width:F,height:D,bottom:I,right:B,x:Y,y:ie};a.current.element instanceof HTMLElement&&o&&(G.height=a.current.element.offsetHeight,G.width=a.current.element.offsetWidth),Object.freeze(G),m.current&&!kd(a.current.lastBounds,G)&&u(a.current.lastBounds=G)};return[w,c?_u(w,c):w,h?_u(w,h):w]},[u,o,h,c]);function T(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",E,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null)}function x(){a.current.element&&(a.current.resizeObserver=new n(E),a.current.resizeObserver.observe(a.current.element),p&&a.current.scrollContainers&&a.current.scrollContainers.forEach(w=>w.addEventListener("scroll",E,{capture:!0,passive:!0})))}const k=w=>{!w||w===a.current.element||(T(),a.current.element=w,a.current.scrollContainers=_f(w),x())};return xd(E,!!p),_d(S),Z.useEffect(()=>{T(),x()},[p,E,S]),Z.useEffect(()=>T,[]),[k,s,y]}function _d(d){Z.useEffect(()=>{const i=d;return window.addEventListener("resize",i),()=>void window.removeEventListener("resize",i)},[d])}function xd(d,i){Z.useEffect(()=>{if(i){const p=d;return window.addEventListener("scroll",p,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",p,!0)}},[d,i])}function _f(d){const i=[];if(!d||d===document.body)return i;const{overflow:p,overflowX:g,overflowY:o}=window.getComputedStyle(d);return[p,g,o].some(n=>n==="auto"||n==="scroll")&&i.push(d),[...i,..._f(d.parentElement)]}const Ed=["x","y","top","bottom","left","right","width","height"],kd=(d,i)=>Ed.every(p=>d[p]===i[p]);var Td=Object.defineProperty,Ud=Object.defineProperties,Pd=Object.getOwnPropertyDescriptors,xu=Object.getOwnPropertySymbols,Cd=Object.prototype.hasOwnProperty,Md=Object.prototype.propertyIsEnumerable,Eu=(d,i,p)=>i in d?Td(d,i,{enumerable:!0,configurable:!0,writable:!0,value:p}):d[i]=p,ku=(d,i)=>{for(var p in i||(i={}))Cd.call(i,p)&&Eu(d,p,i[p]);if(xu)for(var p of xu(i))Md.call(i,p)&&Eu(d,p,i[p]);return d},Fd=(d,i)=>Ud(d,Pd(i));function xf(d,i,p){if(!d)return;if(p(d)===!0)return d;let g=i?d.return:d.child;for(;g;){const o=xf(g,i,p);if(o)return o;g=i?null:g.sibling}}function Ef(d){try{return Object.defineProperties(d,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return d}}const Da=Ef(Z.createContext(null));class kf extends Z.Component{render(){return Z.createElement(Da.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Tu,ReactCurrentDispatcher:Uu}=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Dd(){const d=Z.useContext(Da);if(d===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const i=Z.useId();return Z.useMemo(()=>{for(const g of[Tu==null?void 0:Tu.current,d,d==null?void 0:d.alternate]){if(!g)continue;const o=xf(g,!1,n=>{let s=n.memoizedState;for(;s;){if(s.memoizedState===i)return!0;s=s.next}});if(o)return o}},[d,i])}function Ld(){var d,i;const p=Dd(),[g]=Z.useState(()=>new Map);g.clear();let o=p;for(;o;){const n=(d=o.type)==null?void 0:d._context;n&&n!==Da&&!g.has(n)&&g.set(n,(i=Uu==null?void 0:Uu.current)==null?void 0:i.readContext(Ef(n))),o=o.return}return g}function Rd(){const d=Ld();return Z.useMemo(()=>Array.from(d.keys()).reduce((i,p)=>g=>Z.createElement(i,null,Z.createElement(p.Provider,Fd(ku({},g),{value:d.get(p)}))),i=>Z.createElement(kf,ku({},i))),[d])}const ra={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Ad(d){const{handlePointer:i}=cd(d);return{priority:1,enabled:!0,compute(p,g,o){g.pointer.set(p.offsetX/g.size.width*2-1,-(p.offsetY/g.size.height)*2+1),g.raycaster.setFromCamera(g.pointer,g.camera)},connected:void 0,handlers:Object.keys(ra).reduce((p,g)=>({...p,[g]:i(g)}),{}),update:()=>{var p;const{events:g,internal:o}=d.getState();(p=o.lastEvent)!=null&&p.current&&g.handlers&&g.handlers.onPointerMove(o.lastEvent.current)},connect:p=>{var g;const{set:o,events:n}=d.getState();n.disconnect==null||n.disconnect(),o(s=>({events:{...s.events,connected:p}})),Object.entries((g=n.handlers)!=null?g:[]).forEach(([s,u])=>{const[a,h]=ra[s];p.addEventListener(a,u,{passive:h})})},disconnect:()=>{const{set:p,events:g}=d.getState();if(g.connected){var o;Object.entries((o=g.handlers)!=null?o:[]).forEach(([n,s])=>{if(g&&g.connected instanceof HTMLElement){const[u]=ra[n];g.connected.removeEventListener(u,s)}}),p(n=>({events:{...n.events,connected:void 0}}))}}}}const Od=Z.forwardRef(function({children:i,fallback:p,resize:g,style:o,gl:n,events:s=Ad,eventSource:u,eventPrefix:a,shadows:h,linear:c,flat:m,legacy:y,orthographic:S,frameloop:E,dpr:T,performance:x,raycaster:k,camera:w,scene:U,onPointerMissed:R,onCreated:F,...D},I){Z.useMemo(()=>ed(Cc),[]);const B=Rd(),[Y,ie]=wd({scroll:!0,debounce:{scroll:50,resize:0},...g}),G=Z.useRef(null),L=Z.useRef(null);Z.useImperativeHandle(I,()=>G.current);const $=lf(R),[K,te]=Z.useState(!1),[oe,pe]=Z.useState(!1);if(K)throw K;if(oe)throw oe;const H=Z.useRef(null);ui(()=>{const b=G.current;ie.width>0&&ie.height>0&&b&&(H.current||(H.current=gd(b)),H.current.configure({gl:n,events:s,shadows:h,linear:c,flat:m,legacy:y,orthographic:S,frameloop:E,dpr:T,performance:x,raycaster:k,camera:w,scene:U,size:ie,onPointerMissed:(...P)=>$.current==null?void 0:$.current(...P),onCreated:P=>{P.events.connect==null||P.events.connect(u?nd(u)?u.current:u:L.current),a&&P.setEvents({compute:(O,V)=>{const X=O[a+"X"],j=O[a+"Y"];V.pointer.set(X/V.size.width*2-1,-(j/V.size.height)*2+1),V.raycaster.setFromCamera(V.pointer,V.camera)}}),F==null||F(P)}}),H.current.render(Z.createElement(B,null,Z.createElement(af,{set:pe},Z.createElement(Z.Suspense,{fallback:Z.createElement(rd,{set:te})},i)))))}),Z.useEffect(()=>{const b=G.current;if(b)return()=>wf(b)},[]);const z=u?"none":"auto";return Z.createElement("div",li({ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...o}},D),Z.createElement("div",{ref:Y,style:{width:"100%",height:"100%"}},Z.createElement("canvas",{ref:G,style:{display:"block"}},p)))}),Zh=Z.forwardRef(function(i,p){return Z.createElement(kf,null,Z.createElement(Od,li({},i,{ref:p})))}),Hi=new ft,La=new ft,zd=new ft;function Id(d,i,p){const g=Hi.setFromMatrixPosition(d.matrixWorld);g.project(i);const o=p.width/2,n=p.height/2;return[g.x*o+o,-(g.y*n)+n]}function Bd(d,i){const p=Hi.setFromMatrixPosition(d.matrixWorld),g=La.setFromMatrixPosition(i.matrixWorld),o=p.sub(g),n=i.getWorldDirection(zd);return o.angleTo(n)>Math.PI/2}function Nd(d,i,p,g){const o=Hi.setFromMatrixPosition(d.matrixWorld),n=o.clone();n.project(i),p.setFromCamera(n,i);const s=p.intersectObjects(g,!0);if(s.length){const u=s[0].distance;return o.distanceTo(p.ray.origin)<u}return!0}function Gd(d,i){if(i instanceof Ea)return i.zoom;if(i instanceof ka){const p=Hi.setFromMatrixPosition(d.matrixWorld),g=La.setFromMatrixPosition(i.matrixWorld),o=i.fov*Math.PI/180,n=p.distanceTo(g);return 1/(2*Math.tan(o/2)*n)}else return 1}function bd(d,i,p){if(i instanceof ka||i instanceof Ea){const g=Hi.setFromMatrixPosition(d.matrixWorld),o=La.setFromMatrixPosition(i.matrixWorld),n=g.distanceTo(o),s=(p[1]-p[0])/(i.far-i.near),u=p[1]-s*i.far;return Math.round(s*n+u)}}const ga=d=>Math.abs(d)<1e-10?0:d;function Tf(d,i,p=""){let g="matrix3d(";for(let o=0;o!==16;o++)g+=ga(i[o]*d.elements[o])+(o!==15?",":")");return p+g}const jd=(d=>i=>Tf(i,d))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Wd=(d=>(i,p)=>Tf(i,d(p),"translate(-50%,-50%)"))(d=>[1/d,1/d,1/d,1,-1/d,-1/d,-1/d,-1,1/d,1/d,1/d,1,1,1,1,1]);function Hd(d){return d&&typeof d=="object"&&"current"in d}const qh=Z.forwardRef(({children:d,eps:i=.001,style:p,className:g,prepend:o,center:n,fullscreen:s,portal:u,distanceFactor:a,sprite:h=!1,transform:c=!1,occlude:m,onOcclude:y,castShadow:S,receiveShadow:E,material:T,geometry:x,zIndexRange:k=[16777271,0],calculatePosition:w=Id,as:U="div",wrapperClass:R,pointerEvents:F="auto",...D},I)=>{const{gl:B,camera:Y,scene:ie,size:G,raycaster:L,events:$,viewport:K}=Fa(),[te]=Z.useState(()=>document.createElement(U)),oe=Z.useRef(),pe=Z.useRef(null),H=Z.useRef(0),z=Z.useRef([0,0]),b=Z.useRef(null),P=Z.useRef(null),O=(u==null?void 0:u.current)||$.connected||B.domElement.parentNode,V=Z.useRef(null),X=Z.useRef(!1),j=Z.useMemo(()=>m&&m!=="blending"||Array.isArray(m)&&m.length&&Hd(m[0]),[m]);Z.useLayoutEffect(()=>{const fe=B.domElement;m&&m==="blending"?(fe.style.zIndex=`${Math.floor(k[0]/2)}`,fe.style.position="absolute",fe.style.pointerEvents="none"):(fe.style.zIndex=null,fe.style.position=null,fe.style.pointerEvents=null)},[m]),Z.useLayoutEffect(()=>{if(pe.current){const fe=oe.current=Mc(te);if(ie.updateMatrixWorld(),c)te.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const J=w(pe.current,Y,G);te.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${J[0]}px,${J[1]}px,0);transform-origin:0 0;`}return O&&(o?O.prepend(te):O.appendChild(te)),()=>{O&&O.removeChild(te),fe.unmount()}}},[O,c]),Z.useLayoutEffect(()=>{R&&(te.className=R)},[R]);const ne=Z.useMemo(()=>c?{position:"absolute",top:0,left:0,width:G.width,height:G.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:n?"translate3d(-50%,-50%,0)":"none",...s&&{top:-G.height/2,left:-G.width/2,width:G.width,height:G.height},...p},[p,n,s,G,c]),Q=Z.useMemo(()=>({position:"absolute",pointerEvents:F}),[F]);Z.useLayoutEffect(()=>{if(X.current=!1,c){var fe;(fe=oe.current)==null||fe.render(Z.createElement("div",{ref:b,style:ne},Z.createElement("div",{ref:P,style:Q},Z.createElement("div",{ref:I,className:g,style:p,children:d}))))}else{var J;(J=oe.current)==null||J.render(Z.createElement("div",{ref:I,style:ne,className:g,children:d}))}});const ee=Z.useRef(!0);pd(fe=>{if(pe.current){Y.updateMatrixWorld(),pe.current.updateWorldMatrix(!0,!1);const J=c?z.current:w(pe.current,Y,G);if(c||Math.abs(H.current-Y.zoom)>i||Math.abs(z.current[0]-J[0])>i||Math.abs(z.current[1]-J[1])>i){const q=Bd(pe.current,Y);let ye=!1;j&&(m!=="blending"?ye=[ie]:Array.isArray(m)&&(ye=m.map(Ue=>Ue.current)));const Fe=ee.current;if(ye){const Ue=Nd(pe.current,Y,L,ye);ee.current=Ue&&!q}else ee.current=!q;Fe!==ee.current&&(y?y(!ee.current):te.style.display=ee.current?"block":"none");const ue=Math.floor(k[0]/2),we=m?j?[k[0],ue]:[ue-1,0]:k;if(te.style.zIndex=`${bd(pe.current,Y,we)}`,c){const[Ue,le]=[G.width/2,G.height/2],_e=Y.projectionMatrix.elements[5]*le,{isOrthographicCamera:he,top:re,left:Pe,bottom:ge,right:Se}=Y,ve=jd(Y.matrixWorldInverse),be=he?`scale(${_e})translate(${ga(-(Se+Pe)/2)}px,${ga((re+ge)/2)}px)`:`translateZ(${_e}px)`;let Ae=pe.current.matrixWorld;h&&(Ae=Y.matrixWorldInverse.clone().transpose().copyPosition(Ae).scale(pe.current.scale),Ae.elements[3]=Ae.elements[7]=Ae.elements[11]=0,Ae.elements[15]=1),te.style.width=G.width+"px",te.style.height=G.height+"px",te.style.perspective=he?"":`${_e}px`,b.current&&P.current&&(b.current.style.transform=`${be}${ve}translate(${Ue}px,${le}px)`,P.current.style.transform=Wd(Ae,1/((a||10)/400)))}else{const Ue=a===void 0?1:Gd(pe.current,Y)*a;te.style.transform=`translate3d(${J[0]}px,${J[1]}px,0) scale(${Ue})`}z.current=J,H.current=Y.zoom}}if(!j&&V.current&&!X.current)if(c){if(b.current){const J=b.current.children[0];if(J!=null&&J.clientWidth&&J!=null&&J.clientHeight){const{isOrthographicCamera:q}=Y;if(q||x)D.scale&&(Array.isArray(D.scale)?D.scale instanceof ft?V.current.scale.copy(D.scale.clone().divideScalar(1)):V.current.scale.set(1/D.scale[0],1/D.scale[1],1/D.scale[2]):V.current.scale.setScalar(1/D.scale));else{const ye=(a||10)/400,Fe=J.clientWidth*ye,ue=J.clientHeight*ye;V.current.scale.set(Fe,ue,1)}X.current=!0}}}else{const J=te.children[0];if(J!=null&&J.clientWidth&&J!=null&&J.clientHeight){const q=1/K.factor,ye=J.clientWidth*q,Fe=J.clientHeight*q;V.current.scale.set(ye,Fe,1),X.current=!0}V.current.lookAt(fe.camera.position)}});const se=Z.useMemo(()=>({vertexShader:c?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[c]);return Z.createElement("group",li({},D,{ref:pe}),m&&!j&&Z.createElement("mesh",{castShadow:S,receiveShadow:E,ref:V},x||Z.createElement("planeGeometry",null),T||Z.createElement("shaderMaterial",{side:Ta,vertexShader:se.vertexShader,fragmentShader:se.fragmentShader})))});function $h(d){return function(i){d.forEach(function(p){typeof p=="function"?p(i):p!=null&&(p.current=i)})}}const Pu=new Ko,bo=new ft;class Ra extends Ju{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const i=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],p=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],g=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(g),this.setAttribute("position",new fa(i,3)),this.setAttribute("uv",new fa(p,2))}applyMatrix4(i){const p=this.attributes.instanceStart,g=this.attributes.instanceEnd;return p!==void 0&&(p.applyMatrix4(i),g.applyMatrix4(i),p.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(i){let p;i instanceof Float32Array?p=i:Array.isArray(i)&&(p=new Float32Array(i));const g=new ca(p,6,1);return this.setAttribute("instanceStart",new ri(g,3,0)),this.setAttribute("instanceEnd",new ri(g,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(i){let p;i instanceof Float32Array?p=i:Array.isArray(i)&&(p=new Float32Array(i));const g=new ca(p,6,1);return this.setAttribute("instanceColorStart",new ri(g,3,0)),this.setAttribute("instanceColorEnd",new ri(g,3,3)),this}fromWireframeGeometry(i){return this.setPositions(i.attributes.position.array),this}fromEdgesGeometry(i){return this.setPositions(i.attributes.position.array),this}fromMesh(i){return this.fromWireframeGeometry(new Fc(i.geometry)),this}fromLineSegments(i){const p=i.geometry;return this.setPositions(p.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ko);const i=this.attributes.instanceStart,p=this.attributes.instanceEnd;i!==void 0&&p!==void 0&&(this.boundingBox.setFromBufferAttribute(i),Pu.setFromBufferAttribute(p),this.boundingBox.union(Pu))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua),this.boundingBox===null&&this.computeBoundingBox();const i=this.attributes.instanceStart,p=this.attributes.instanceEnd;if(i!==void 0&&p!==void 0){const g=this.boundingSphere.center;this.boundingBox.getCenter(g);let o=0;for(let n=0,s=i.count;n<s;n++)bo.fromBufferAttribute(i,n),o=Math.max(o,g.distanceToSquared(bo)),bo.fromBufferAttribute(p,n),o=Math.max(o,g.distanceToSquared(bo));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(i){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(i)}}class Uf extends Ra{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(i){const p=i.length-3,g=new Float32Array(2*p);for(let o=0;o<p;o+=3)g[2*o]=i[o],g[2*o+1]=i[o+1],g[2*o+2]=i[o+2],g[2*o+3]=i[o+3],g[2*o+4]=i[o+4],g[2*o+5]=i[o+5];return super.setPositions(g),this}setColors(i){const p=i.length-3,g=new Float32Array(2*p);for(let o=0;o<p;o+=3)g[2*o]=i[o],g[2*o+1]=i[o+1],g[2*o+2]=i[o+2],g[2*o+3]=i[o+3],g[2*o+4]=i[o+4],g[2*o+5]=i[o+5];return super.setColors(g),this}fromLine(i){const p=i.geometry;return this.setPositions(p.attributes.position.array),this}}class Aa extends Dc{constructor(i){super({type:"LineMaterial",uniforms:da.clone(da.merge([fu.common,fu.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Fr(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <${parseInt(Lc.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(p){this.uniforms.diffuse.value=p}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(p){p===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(p){this.uniforms.linewidth.value=p}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(p){!!p!="USE_DASH"in this.defines&&(this.needsUpdate=!0),p===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(p){this.uniforms.dashScale.value=p}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(p){this.uniforms.dashSize.value=p}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(p){this.uniforms.dashOffset.value=p}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(p){this.uniforms.gapSize.value=p}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(p){this.uniforms.opacity.value=p}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(p){this.uniforms.resolution.value.copy(p)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(p){!!p!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),p===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(i)}}const Cu=new ft,Mu=new ft,Mt=new ai,Ft=new ai,zn=new ai,ia=new ft,oa=new Ku,zt=new Rc,Fu=new ft,jo=new Ko,Wo=new Ua,In=new ai;let Bn,ya,Pf,Cr;function Du(d,i,p){return In.set(0,0,-i,1).applyMatrix4(d.projectionMatrix),In.multiplyScalar(1/In.w),In.x=Cr/p.width,In.y=Cr/p.height,In.applyMatrix4(d.projectionMatrixInverse),In.multiplyScalar(1/In.w),Math.abs(Math.max(In.x,In.y))}function Vd(d,i){for(let p=0,g=ya.count;p<g;p++){zt.start.fromBufferAttribute(ya,p),zt.end.fromBufferAttribute(Pf,p);const o=new ft,n=new ft;Bn.distanceSqToSegment(zt.start,zt.end,n,o),n.distanceTo(o)<Cr*.5&&i.push({point:n,pointOnLine:o,distance:Bn.origin.distanceTo(n),object:d,face:null,faceIndex:p,uv:null,uv2:null})}}function Qd(d,i,p){const g=i.projectionMatrix,n=d.material.resolution,s=d.matrixWorld,u=d.geometry,a=u.attributes.instanceStart,h=u.attributes.instanceEnd,c=-i.near;Bn.at(1,zn),zn.w=1,zn.applyMatrix4(i.matrixWorldInverse),zn.applyMatrix4(g),zn.multiplyScalar(1/zn.w),zn.x*=n.x/2,zn.y*=n.y/2,zn.z=0,ia.copy(zn),oa.multiplyMatrices(i.matrixWorldInverse,s);for(let m=0,y=a.count;m<y;m++){if(Mt.fromBufferAttribute(a,m),Ft.fromBufferAttribute(h,m),Mt.w=1,Ft.w=1,Mt.applyMatrix4(oa),Ft.applyMatrix4(oa),Mt.z>c&&Ft.z>c)continue;if(Mt.z>c){const w=Mt.z-Ft.z,U=(Mt.z-c)/w;Mt.lerp(Ft,U)}else if(Ft.z>c){const w=Ft.z-Mt.z,U=(Ft.z-c)/w;Ft.lerp(Mt,U)}Mt.applyMatrix4(g),Ft.applyMatrix4(g),Mt.multiplyScalar(1/Mt.w),Ft.multiplyScalar(1/Ft.w),Mt.x*=n.x/2,Mt.y*=n.y/2,Ft.x*=n.x/2,Ft.y*=n.y/2,zt.start.copy(Mt),zt.start.z=0,zt.end.copy(Ft),zt.end.z=0;const E=zt.closestPointToPointParameter(ia,!0);zt.at(E,Fu);const T=Ac.lerp(Mt.z,Ft.z,E),x=T>=-1&&T<=1,k=ia.distanceTo(Fu)<Cr*.5;if(x&&k){zt.start.fromBufferAttribute(a,m),zt.end.fromBufferAttribute(h,m),zt.start.applyMatrix4(s),zt.end.applyMatrix4(s);const w=new ft,U=new ft;Bn.distanceSqToSegment(zt.start,zt.end,U,w),p.push({point:U,pointOnLine:w,distance:Bn.origin.distanceTo(U),object:d,face:null,faceIndex:m,uv:null,uv2:null})}}}class Cf extends Zo{constructor(i=new Ra,p=new Aa({color:Math.random()*16777215})){super(i,p),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const i=this.geometry,p=i.attributes.instanceStart,g=i.attributes.instanceEnd,o=new Float32Array(2*p.count);for(let s=0,u=0,a=p.count;s<a;s++,u+=2)Cu.fromBufferAttribute(p,s),Mu.fromBufferAttribute(g,s),o[u]=u===0?0:o[u-1],o[u+1]=o[u]+Cu.distanceTo(Mu);const n=new ca(o,2,1);return i.setAttribute("instanceDistanceStart",new ri(n,1,0)),i.setAttribute("instanceDistanceEnd",new ri(n,1,1)),this}raycast(i,p){const g=this.material.worldUnits,o=i.camera;o===null&&!g&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const n=i.params.Line2!==void 0&&i.params.Line2.threshold||0;Bn=i.ray;const s=this.matrixWorld,u=this.geometry,a=this.material;Cr=a.linewidth+n,ya=u.attributes.instanceStart,Pf=u.attributes.instanceEnd,u.boundingSphere===null&&u.computeBoundingSphere(),Wo.copy(u.boundingSphere).applyMatrix4(s);let h;if(g)h=Cr*.5;else{const m=Math.max(o.near,Wo.distanceToPoint(Bn.origin));h=Du(o,m,a.resolution)}if(Wo.radius+=h,Bn.intersectsSphere(Wo)===!1)return;u.boundingBox===null&&u.computeBoundingBox(),jo.copy(u.boundingBox).applyMatrix4(s);let c;if(g)c=Cr*.5;else{const m=Math.max(o.near,jo.distanceToPoint(Bn.origin));c=Du(o,m,a.resolution)}jo.expandByScalar(c),Bn.intersectsBox(jo)!==!1&&(g?Vd(this,p):Qd(this,o,p))}}class Xd extends Cf{constructor(i=new Uf,p=new Aa({color:Math.random()*16777215})){super(i,p),this.isLine2=!0,this.type="Line2"}}const ep=Z.forwardRef(function({points:i,color:p="black",vertexColors:g,linewidth:o,lineWidth:n,segments:s,dashed:u,...a},h){const c=Fa(E=>E.size),m=Z.useMemo(()=>s?new Cf:new Xd,[s]),[y]=Z.useState(()=>new Aa),S=Z.useMemo(()=>{const E=s?new Ra:new Uf,T=i.map(x=>{const k=Array.isArray(x);return x instanceof ft?[x.x,x.y,x.z]:x instanceof Fr?[x.x,x.y,0]:k&&x.length===3?[x[0],x[1],x[2]]:k&&x.length===2?[x[0],x[1],0]:x});if(E.setPositions(T.flat()),g){const x=g.map(k=>k instanceof Wi?k.toArray():k);E.setColors(x.flat())}return E},[i,s,g]);return Z.useLayoutEffect(()=>{m.computeLineDistances()},[i,m]),Z.useLayoutEffect(()=>{u?y.defines.USE_DASH="":delete y.defines.USE_DASH,y.needsUpdate=!0},[u,y]),Z.useEffect(()=>()=>S.dispose(),[S]),Z.createElement("primitive",li({object:m,ref:h},a),Z.createElement("primitive",{object:S,attach:"geometry"}),Z.createElement("primitive",li({object:y,attach:"material",color:p,vertexColors:!!g,resolution:[c.width,c.height],linewidth:o??n,dashed:u},a)))});function Yd(){var d=Object.create(null);function i(o,n){var s=o.id,u=o.name,a=o.dependencies;a===void 0&&(a=[]);var h=o.init;h===void 0&&(h=function(){});var c=o.getTransferables;if(c===void 0&&(c=null),!d[s])try{a=a.map(function(y){return y&&y.isWorkerModule&&(i(y,function(S){if(S instanceof Error)throw S}),y=d[y.id].value),y}),h=g("<"+u+">.init",h),c&&(c=g("<"+u+">.getTransferables",c));var m=null;typeof h=="function"?m=h.apply(void 0,a):console.error("worker module init function failed to rehydrate"),d[s]={id:s,value:m,getTransferables:c},n(m)}catch(y){y&&y.noLog||console.error(y),n(y)}}function p(o,n){var s,u=o.id,a=o.args;(!d[u]||typeof d[u].value!="function")&&n(new Error("Worker module "+u+": not found or its 'init' did not return a function"));try{var h=(s=d[u]).value.apply(s,a);h&&typeof h.then=="function"?h.then(c,function(m){return n(m instanceof Error?m:new Error(""+m))}):c(h)}catch(m){n(m)}function c(m){try{var y=d[u].getTransferables&&d[u].getTransferables(m);(!y||!Array.isArray(y)||!y.length)&&(y=void 0),n(m,y)}catch(S){console.error(S),n(S)}}}function g(o,n){var s=void 0;self.troikaDefine=function(a){return s=a};var u=URL.createObjectURL(new Blob(["/** "+o.replace(/\*/g,"")+` **/

troikaDefine(
`+n+`
)`],{type:"application/javascript"}));try{importScripts(u)}catch(a){console.error(a)}return URL.revokeObjectURL(u),delete self.troikaDefine,s}self.addEventListener("message",function(o){var n=o.data,s=n.messageId,u=n.action,a=n.data;try{u==="registerModule"&&i(a,function(h){h instanceof Error?postMessage({messageId:s,success:!1,error:h.message}):postMessage({messageId:s,success:!0,result:{isCallable:typeof h=="function"}})}),u==="callModule"&&p(a,function(h,c){h instanceof Error?postMessage({messageId:s,success:!1,error:h.message}):postMessage({messageId:s,success:!0,result:h},c||void 0)})}catch(h){postMessage({messageId:s,success:!1,error:h.stack})}})}function Jd(d){var i=function(){for(var p=[],g=arguments.length;g--;)p[g]=arguments[g];return i._getInitResult().then(function(o){if(typeof o=="function")return o.apply(void 0,p);throw new Error("Worker module function was called but `init` did not return a callable function")})};return i._getInitResult=function(){var p=d.dependencies,g=d.init;p=Array.isArray(p)?p.map(function(n){return n&&n._getInitResult?n._getInitResult():n}):[];var o=Promise.all(p).then(function(n){return g.apply(null,n)});return i._getInitResult=function(){return o},o},i}var Mf=function(){var d=!1;if(typeof window<"u"&&typeof window.document<"u")try{var i=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));i.terminate(),d=!0}catch(p){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+p.message+"]")}return Mf=function(){return d},d},Kd=0,Zd=0,la=!1,bi=Object.create(null),ji=Object.create(null),Sa=Object.create(null);function Vi(d){if((!d||typeof d.init!="function")&&!la)throw new Error("requires `options.init` function");var i=d.dependencies,p=d.init,g=d.getTransferables,o=d.workerId;if(!Mf())return Jd(d);o==null&&(o="#default");var n="workerModule"+ ++Kd,s=d.name||n,u=null;i=i&&i.map(function(h){return typeof h=="function"&&!h.workerModuleData&&(la=!0,h=Vi({workerId:o,name:"<"+s+"> function dependency: "+h.name,init:`function(){return (
`+Xo(h)+`
)}`}),la=!1),h&&h.workerModuleData&&(h=h.workerModuleData),h});function a(){for(var h=[],c=arguments.length;c--;)h[c]=arguments[c];if(!u){u=Lu(o,"registerModule",a.workerModuleData);var m=function(){u=null,ji[o].delete(m)};(ji[o]||(ji[o]=new Set)).add(m)}return u.then(function(y){var S=y.isCallable;if(S)return Lu(o,"callModule",{id:n,args:h});throw new Error("Worker module function was called but `init` did not return a callable function")})}return a.workerModuleData={isWorkerModule:!0,id:n,name:s,dependencies:i,init:Xo(p),getTransferables:g&&Xo(g)},a}function qd(d){ji[d]&&ji[d].forEach(function(i){i()}),bi[d]&&(bi[d].terminate(),delete bi[d])}function Xo(d){var i=d.toString();return!/^function/.test(i)&&/^\w+\s*\(/.test(i)&&(i="function "+i),i}function $d(d){var i=bi[d];if(!i){var p=Xo(Yd);i=bi[d]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+d.replace(/\*/g,"")+` **/

;(`+p+")()"],{type:"application/javascript"}))),i.onmessage=function(g){var o=g.data,n=o.messageId,s=Sa[n];if(!s)throw new Error("WorkerModule response with empty or unknown messageId");delete Sa[n],s(o)}}return i}function Lu(d,i,p){return new Promise(function(g,o){var n=++Zd;Sa[n]=function(s){s.success?g(s.result):o(new Error("Error in worker "+i+" call: "+s.error))},$d(d).postMessage({messageId:n,action:i,data:p})})}function Ff(){var d=function(i){function p(z,b,P,O,V,X,j,ne){var Q=1-j;ne.x=Q*Q*z+2*Q*j*P+j*j*V,ne.y=Q*Q*b+2*Q*j*O+j*j*X}function g(z,b,P,O,V,X,j,ne,Q,ee){var se=1-Q;ee.x=se*se*se*z+3*se*se*Q*P+3*se*Q*Q*V+Q*Q*Q*j,ee.y=se*se*se*b+3*se*se*Q*O+3*se*Q*Q*X+Q*Q*Q*ne}function o(z,b){for(var P=/([MLQCZ])([^MLQCZ]*)/g,O,V,X,j,ne;O=P.exec(z);){var Q=O[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ee){return parseFloat(ee)});switch(O[1]){case"M":j=V=Q[0],ne=X=Q[1];break;case"L":(Q[0]!==j||Q[1]!==ne)&&b("L",j,ne,j=Q[0],ne=Q[1]);break;case"Q":{b("Q",j,ne,j=Q[2],ne=Q[3],Q[0],Q[1]);break}case"C":{b("C",j,ne,j=Q[4],ne=Q[5],Q[0],Q[1],Q[2],Q[3]);break}case"Z":(j!==V||ne!==X)&&b("L",j,ne,V,X);break}}}function n(z,b,P){P===void 0&&(P=16);var O={x:0,y:0};o(z,function(V,X,j,ne,Q,ee,se,fe,J){switch(V){case"L":b(X,j,ne,Q);break;case"Q":{for(var q=X,ye=j,Fe=1;Fe<P;Fe++)p(X,j,ee,se,ne,Q,Fe/(P-1),O),b(q,ye,O.x,O.y),q=O.x,ye=O.y;break}case"C":{for(var ue=X,we=j,Ue=1;Ue<P;Ue++)g(X,j,ee,se,fe,J,ne,Q,Ue/(P-1),O),b(ue,we,O.x,O.y),ue=O.x,we=O.y;break}}})}var s="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",u="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",a=new WeakMap,h={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(z,b){var P=z.getContext?z.getContext("webgl",h):z,O=a.get(P);if(!O){let se=function(ue){var we=X[ue];if(!we&&(we=X[ue]=P.getExtension(ue),!we))throw new Error(ue+" not supported");return we},fe=function(ue,we){var Ue=P.createShader(we);return P.shaderSource(Ue,ue),P.compileShader(Ue),Ue},J=function(ue,we,Ue,le){if(!j[ue]){var _e={},he={},re=P.createProgram();P.attachShader(re,fe(we,P.VERTEX_SHADER)),P.attachShader(re,fe(Ue,P.FRAGMENT_SHADER)),P.linkProgram(re),j[ue]={program:re,transaction:function(ge){P.useProgram(re),ge({setUniform:function(ve,be){for(var Ae=[],Te=arguments.length-2;Te-- >0;)Ae[Te]=arguments[Te+2];var Oe=he[be]||(he[be]=P.getUniformLocation(re,be));P["uniform"+ve].apply(P,[Oe].concat(Ae))},setAttribute:function(ve,be,Ae,Te,Oe){var je=_e[ve];je||(je=_e[ve]={buf:P.createBuffer(),loc:P.getAttribLocation(re,ve),data:null}),P.bindBuffer(P.ARRAY_BUFFER,je.buf),P.vertexAttribPointer(je.loc,be,P.FLOAT,!1,0,0),P.enableVertexAttribArray(je.loc),V?P.vertexAttribDivisor(je.loc,Te):se("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(je.loc,Te),Oe!==je.data&&(P.bufferData(P.ARRAY_BUFFER,Oe,Ae),je.data=Oe)}})}}}j[ue].transaction(le)},q=function(ue,we){Q++;try{P.activeTexture(P.TEXTURE0+Q);var Ue=ne[ue];Ue||(Ue=ne[ue]=P.createTexture(),P.bindTexture(P.TEXTURE_2D,Ue),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST)),P.bindTexture(P.TEXTURE_2D,Ue),we(Ue,Q)}finally{Q--}},ye=function(ue,we,Ue){var le=P.createFramebuffer();ee.push(le),P.bindFramebuffer(P.FRAMEBUFFER,le),P.activeTexture(P.TEXTURE0+we),P.bindTexture(P.TEXTURE_2D,ue),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,ue,0);try{Ue(le)}finally{P.deleteFramebuffer(le),P.bindFramebuffer(P.FRAMEBUFFER,ee[--ee.length-1]||null)}},Fe=function(){X={},j={},ne={},Q=-1,ee.length=0};var V=typeof WebGL2RenderingContext<"u"&&P instanceof WebGL2RenderingContext,X={},j={},ne={},Q=-1,ee=[];P.canvas.addEventListener("webglcontextlost",function(ue){Fe(),ue.preventDefault()},!1),a.set(P,O={gl:P,isWebGL2:V,getExtension:se,withProgram:J,withTexture:q,withTextureFramebuffer:ye,handleContextLoss:Fe})}b(O)}function m(z,b,P,O,V,X,j,ne){j===void 0&&(j=15),ne===void 0&&(ne=null),c(z,function(Q){var ee=Q.gl,se=Q.withProgram,fe=Q.withTexture;fe("copy",function(J,q){ee.texImage2D(ee.TEXTURE_2D,0,ee.RGBA,V,X,0,ee.RGBA,ee.UNSIGNED_BYTE,b),se("copy",s,u,function(ye){var Fe=ye.setUniform,ue=ye.setAttribute;ue("aUV",2,ee.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Fe("1i","image",q),ee.bindFramebuffer(ee.FRAMEBUFFER,ne||null),ee.disable(ee.BLEND),ee.colorMask(j&8,j&4,j&2,j&1),ee.viewport(P,O,V,X),ee.scissor(P,O,V,X),ee.drawArrays(ee.TRIANGLES,0,3)})})})}function y(z,b,P){var O=z.width,V=z.height;c(z,function(X){var j=X.gl,ne=new Uint8Array(O*V*4);j.readPixels(0,0,O,V,j.RGBA,j.UNSIGNED_BYTE,ne),z.width=b,z.height=P,m(j,ne,0,0,O,V)})}var S=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:m,resizeWebGLCanvasWithoutClearing:y});function E(z,b,P,O,V,X){X===void 0&&(X=1);var j=new Uint8Array(z*b),ne=O[2]-O[0],Q=O[3]-O[1],ee=[];n(P,function(ue,we,Ue,le){ee.push({x1:ue,y1:we,x2:Ue,y2:le,minX:Math.min(ue,Ue),minY:Math.min(we,le),maxX:Math.max(ue,Ue),maxY:Math.max(we,le)})}),ee.sort(function(ue,we){return ue.maxX-we.maxX});for(var se=0;se<z;se++)for(var fe=0;fe<b;fe++){var J=ye(O[0]+ne*(se+.5)/z,O[1]+Q*(fe+.5)/b),q=Math.pow(1-Math.abs(J)/V,X)/2;J<0&&(q=1-q),q=Math.max(0,Math.min(255,Math.round(q*255))),j[fe*z+se]=q}return j;function ye(ue,we){for(var Ue=1/0,le=1/0,_e=ee.length;_e--;){var he=ee[_e];if(he.maxX+le<=ue)break;if(ue+le>he.minX&&we-le<he.maxY&&we+le>he.minY){var re=k(ue,we,he.x1,he.y1,he.x2,he.y2);re<Ue&&(Ue=re,le=Math.sqrt(Ue))}}return Fe(ue,we)&&(le=-le),le}function Fe(ue,we){for(var Ue=0,le=ee.length;le--;){var _e=ee[le];if(_e.maxX<=ue)break;var he=_e.y1>we!=_e.y2>we&&ue<(_e.x2-_e.x1)*(we-_e.y1)/(_e.y2-_e.y1)+_e.x1;he&&(Ue+=_e.y1<_e.y2?1:-1)}return Ue!==0}}function T(z,b,P,O,V,X,j,ne,Q,ee){X===void 0&&(X=1),ne===void 0&&(ne=0),Q===void 0&&(Q=0),ee===void 0&&(ee=0),x(z,b,P,O,V,X,j,null,ne,Q,ee)}function x(z,b,P,O,V,X,j,ne,Q,ee,se){X===void 0&&(X=1),Q===void 0&&(Q=0),ee===void 0&&(ee=0),se===void 0&&(se=0);for(var fe=E(z,b,P,O,V,X),J=new Uint8Array(fe.length*4),q=0;q<fe.length;q++)J[q*4+se]=fe[q];m(j,J,Q,ee,z,b,1<<3-se,ne)}function k(z,b,P,O,V,X){var j=V-P,ne=X-O,Q=j*j+ne*ne,ee=Q?Math.max(0,Math.min(1,((z-P)*j+(b-O)*ne)/Q)):0,se=z-(P+ee*j),fe=b-(O+ee*ne);return se*se+fe*fe}var w=Object.freeze({__proto__:null,generate:E,generateIntoCanvas:T,generateIntoFramebuffer:x}),U="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",R="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",F="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",D=new Float32Array([0,0,2,0,0,2]),I=null,B=!1,Y={},ie=new WeakMap;function G(z){if(!B&&!te(z))throw new Error("WebGL generation not supported")}function L(z,b,P,O,V,X,j){if(X===void 0&&(X=1),j===void 0&&(j=null),!j&&(j=I,!j)){var ne=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ne)throw new Error("OffscreenCanvas or DOM canvas not supported");j=I=ne.getContext("webgl",{depth:!1})}G(j);var Q=new Uint8Array(z*b*4);c(j,function(J){var q=J.gl,ye=J.withTexture,Fe=J.withTextureFramebuffer;ye("readable",function(ue,we){q.texImage2D(q.TEXTURE_2D,0,q.RGBA,z,b,0,q.RGBA,q.UNSIGNED_BYTE,null),Fe(ue,we,function(Ue){K(z,b,P,O,V,X,q,Ue,0,0,0),q.readPixels(0,0,z,b,q.RGBA,q.UNSIGNED_BYTE,Q)})})});for(var ee=new Uint8Array(z*b),se=0,fe=0;se<Q.length;se+=4)ee[fe++]=Q[se];return ee}function $(z,b,P,O,V,X,j,ne,Q,ee){X===void 0&&(X=1),ne===void 0&&(ne=0),Q===void 0&&(Q=0),ee===void 0&&(ee=0),K(z,b,P,O,V,X,j,null,ne,Q,ee)}function K(z,b,P,O,V,X,j,ne,Q,ee,se){X===void 0&&(X=1),Q===void 0&&(Q=0),ee===void 0&&(ee=0),se===void 0&&(se=0),G(j);var fe=[];n(P,function(J,q,ye,Fe){fe.push(J,q,ye,Fe)}),fe=new Float32Array(fe),c(j,function(J){var q=J.gl,ye=J.isWebGL2,Fe=J.getExtension,ue=J.withProgram,we=J.withTexture,Ue=J.withTextureFramebuffer,le=J.handleContextLoss;if(we("rawDistances",function(_e,he){(z!==_e._lastWidth||b!==_e._lastHeight)&&q.texImage2D(q.TEXTURE_2D,0,q.RGBA,_e._lastWidth=z,_e._lastHeight=b,0,q.RGBA,q.UNSIGNED_BYTE,null),ue("main",U,R,function(re){var Pe=re.setAttribute,ge=re.setUniform,Se=!ye&&Fe("ANGLE_instanced_arrays"),ve=!ye&&Fe("EXT_blend_minmax");Pe("aUV",2,q.STATIC_DRAW,0,D),Pe("aLineSegment",4,q.DYNAMIC_DRAW,1,fe),ge.apply(void 0,["4f","uGlyphBounds"].concat(O)),ge("1f","uMaxDistance",V),ge("1f","uExponent",X),Ue(_e,he,function(be){q.enable(q.BLEND),q.colorMask(!0,!0,!0,!0),q.viewport(0,0,z,b),q.scissor(0,0,z,b),q.blendFunc(q.ONE,q.ONE),q.blendEquationSeparate(q.FUNC_ADD,ye?q.MAX:ve.MAX_EXT),q.clear(q.COLOR_BUFFER_BIT),ye?q.drawArraysInstanced(q.TRIANGLES,0,3,fe.length/4):Se.drawArraysInstancedANGLE(q.TRIANGLES,0,3,fe.length/4)})}),ue("post",s,F,function(re){re.setAttribute("aUV",2,q.STATIC_DRAW,0,D),re.setUniform("1i","tex",he),q.bindFramebuffer(q.FRAMEBUFFER,ne),q.disable(q.BLEND),q.colorMask(se===0,se===1,se===2,se===3),q.viewport(Q,ee,z,b),q.scissor(Q,ee,z,b),q.drawArrays(q.TRIANGLES,0,3)})}),q.isContextLost())throw le(),new Error("webgl context lost")})}function te(z){var b=!z||z===I?Y:z.canvas||z,P=ie.get(b);if(P===void 0){B=!0;var O=null;try{var V=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],X=L(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,z);P=X&&V.length===X.length&&X.every(function(j,ne){return j===V[ne]}),P||(O="bad trial run results",console.info(V,X))}catch(j){P=!1,O=j.message}O&&console.warn("WebGL SDF generation not supported:",O),B=!1,ie.set(b,P)}return P}var oe=Object.freeze({__proto__:null,generate:L,generateIntoCanvas:$,generateIntoFramebuffer:K,isSupported:te});function pe(z,b,P,O,V,X){V===void 0&&(V=Math.max(O[2]-O[0],O[3]-O[1])/2),X===void 0&&(X=1);try{return L.apply(oe,arguments)}catch(j){return console.info("WebGL SDF generation failed, falling back to JS",j),E.apply(w,arguments)}}function H(z,b,P,O,V,X,j,ne,Q,ee){V===void 0&&(V=Math.max(O[2]-O[0],O[3]-O[1])/2),X===void 0&&(X=1),ne===void 0&&(ne=0),Q===void 0&&(Q=0),ee===void 0&&(ee=0);try{return $.apply(oe,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),T.apply(w,arguments)}}return i.forEachPathCommand=o,i.generate=pe,i.generateIntoCanvas=H,i.javascript=w,i.pathToLineSegments=n,i.webgl=oe,i.webglUtils=S,Object.defineProperty(i,"__esModule",{value:!0}),i}({});return d}function eh(){var d=function(i){var p={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},g={},o={};g.L=1,o[1]="L",Object.keys(p).forEach(function(le,_e){g[le]=1<<_e+1,o[g[le]]=le}),Object.freeze(g);var n=g.LRI|g.RLI|g.FSI,s=g.L|g.R|g.AL,u=g.B|g.S|g.WS|g.ON|g.FSI|g.LRI|g.RLI|g.PDI,a=g.BN|g.RLE|g.LRE|g.RLO|g.LRO|g.PDF,h=g.S|g.WS|g.B|n|g.PDI|a,c=null;function m(){if(!c){c=new Map;var le=function(he){if(p.hasOwnProperty(he)){var re=0;p[he].split(",").forEach(function(Pe){var ge=Pe.split("+"),Se=ge[0],ve=ge[1];Se=parseInt(Se,36),ve=ve?parseInt(ve,36):0,c.set(re+=Se,g[he]);for(var be=0;be<ve;be++)c.set(++re,g[he])})}};for(var _e in p)le(_e)}}function y(le){return m(),c.get(le.codePointAt(0))||g.L}function S(le){return o[y(le)]}var E={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function T(le,_e){var he=36,re=0,Pe=new Map,ge=_e&&new Map,Se;return le.split(",").forEach(function ve(be){if(be.indexOf("+")!==-1)for(var Ae=+be;Ae--;)ve(Se);else{Se=be;var Te=be.split(">"),Oe=Te[0],je=Te[1];Oe=String.fromCodePoint(re+=parseInt(Oe,he)),je=String.fromCodePoint(re+=parseInt(je,he)),Pe.set(Oe,je),_e&&ge.set(je,Oe)}}),{map:Pe,reverseMap:ge}}var x,k,w;function U(){if(!x){var le=T(E.pairs,!0),_e=le.map,he=le.reverseMap;x=_e,k=he,w=T(E.canonical,!1).map}}function R(le){return U(),x.get(le)||null}function F(le){return U(),k.get(le)||null}function D(le){return U(),w.get(le)||null}var I=g.L,B=g.R,Y=g.EN,ie=g.ES,G=g.ET,L=g.AN,$=g.CS,K=g.B,te=g.S,oe=g.ON,pe=g.BN,H=g.NSM,z=g.AL,b=g.LRO,P=g.RLO,O=g.LRE,V=g.RLE,X=g.PDF,j=g.LRI,ne=g.RLI,Q=g.FSI,ee=g.PDI;function se(le,_e){for(var he=125,re=new Uint32Array(le.length),Pe=0;Pe<le.length;Pe++)re[Pe]=y(le[Pe]);var ge=new Map;function Se(Et,Wt){var dt=re[Et];re[Et]=Wt,ge.set(dt,ge.get(dt)-1),dt&u&&ge.set(u,ge.get(u)-1),ge.set(Wt,(ge.get(Wt)||0)+1),Wt&u&&ge.set(u,(ge.get(u)||0)+1)}for(var ve=new Uint8Array(le.length),be=new Map,Ae=[],Te=null,Oe=0;Oe<le.length;Oe++)Te||Ae.push(Te={start:Oe,end:le.length-1,level:_e==="rtl"?1:_e==="ltr"?0:br(Oe,!1)}),re[Oe]&K&&(Te.end=Oe,Te=null);for(var je=V|O|P|b|n|ee|X|K,lt=function(Et){return Et+(Et&1?1:2)},Re=function(Et){return Et+(Et&1?2:1)},Ke=0;Ke<Ae.length;Ke++){Te=Ae[Ke];var Be=[{_level:Te.level,_override:0,_isolate:0}],Me=void 0,Ve=0,Ye=0,at=0;ge.clear();for(var ze=Te.start;ze<=Te.end;ze++){var qe=re[ze];if(Me=Be[Be.length-1],ge.set(qe,(ge.get(qe)||0)+1),qe&u&&ge.set(u,(ge.get(u)||0)+1),qe&je)if(qe&(V|O)){ve[ze]=Me._level;var Ut=(qe===V?Re:lt)(Me._level);Ut<=he&&!Ve&&!Ye?Be.push({_level:Ut,_override:0,_isolate:0}):Ve||Ye++}else if(qe&(P|b)){ve[ze]=Me._level;var wn=(qe===P?Re:lt)(Me._level);wn<=he&&!Ve&&!Ye?Be.push({_level:wn,_override:qe&P?B:I,_isolate:0}):Ve||Ye++}else if(qe&n){qe&Q&&(qe=br(ze+1,!0)===1?ne:j),ve[ze]=Me._level,Me._override&&Se(ze,Me._override);var Nn=(qe===ne?Re:lt)(Me._level);Nn<=he&&Ve===0&&Ye===0?(at++,Be.push({_level:Nn,_override:0,_isolate:1,_isolInitIndex:ze})):Ve++}else if(qe&ee){if(Ve>0)Ve--;else if(at>0){for(Ye=0;!Be[Be.length-1]._isolate;)Be.pop();var _n=Be[Be.length-1]._isolInitIndex;_n!=null&&(be.set(_n,ze),be.set(ze,_n)),Be.pop(),at--}Me=Be[Be.length-1],ve[ze]=Me._level,Me._override&&Se(ze,Me._override)}else qe&X?(Ve===0&&(Ye>0?Ye--:!Me._isolate&&Be.length>1&&(Be.pop(),Me=Be[Be.length-1])),ve[ze]=Me._level):qe&K&&(ve[ze]=Te.level);else ve[ze]=Me._level,Me._override&&qe!==pe&&Se(ze,Me._override)}for(var It=[],Bt=null,$e=Te.start;$e<=Te.end;$e++){var Zn=re[$e];if(!(Zn&a)){var tt=ve[$e],nt=Zn&n,Zt=Zn===ee;Bt&&tt===Bt._level?(Bt._end=$e,Bt._endsWithIsolInit=nt):It.push(Bt={_start:$e,_end:$e,_level:tt,_startsWithPDI:Zt,_endsWithIsolInit:nt})}}for(var Nt=[],Qe=0;Qe<It.length;Qe++){var ct=It[Qe];if(!ct._startsWithPDI||ct._startsWithPDI&&!be.has(ct._start)){for(var Qt=[Bt=ct],st=void 0;Bt&&Bt._endsWithIsolInit&&(st=be.get(Bt._end))!=null;)for(var vt=Qe+1;vt<It.length;vt++)if(It[vt]._start===st){Qt.push(Bt=It[vt]);break}for(var Pt=[],Un=0;Un<Qt.length;Un++)for(var qt=Qt[Un],Gn=qt._start;Gn<=qt._end;Gn++)Pt.push(Gn);for(var $o=ve[Pt[0]],Qi=Te.level,ur=Pt[0]-1;ur>=0;ur--)if(!(re[ur]&a)){Qi=ve[ur];break}var fi=Pt[Pt.length-1],el=ve[fi],Xi=Te.level;if(!(re[fi]&n)){for(var Lr=fi+1;Lr<=Te.end;Lr++)if(!(re[Lr]&a)){Xi=ve[Lr];break}}Nt.push({_seqIndices:Pt,_sosType:Math.max(Qi,$o)%2?B:I,_eosType:Math.max(Xi,el)%2?B:I})}}for(var ci=0;ci<Nt.length;ci++){var di=Nt[ci],xe=di._seqIndices,xn=di._sosType,hi=di._eosType,Pn=ve[xe[0]]&1?B:I;if(ge.get(H))for(var Rr=0;Rr<xe.length;Rr++){var Ar=xe[Rr];if(re[Ar]&H){for(var Cn=xn,$t=Rr-1;$t>=0;$t--)if(!(re[xe[$t]]&a)){Cn=re[xe[$t]];break}Se(Ar,Cn&(n|ee)?oe:Cn)}}if(ge.get(Y))for(var Xe=0;Xe<xe.length;Xe++){var Je=xe[Xe];if(re[Je]&Y)for(var en=Xe-1;en>=-1;en--){var yt=en===-1?xn:re[xe[en]];if(yt&s){yt===z&&Se(Je,L);break}}}if(ge.get(z))for(var wt=0;wt<xe.length;wt++){var Mn=xe[wt];re[Mn]&z&&Se(Mn,B)}if(ge.get(ie)||ge.get($))for(var cn=1;cn<xe.length-1;cn++){var _t=xe[cn];if(re[_t]&(ie|$)){for(var En=0,Or=0,zr=cn-1;zr>=0&&(En=re[xe[zr]],!!(En&a));zr--);for(var qn=cn+1;qn<xe.length&&(Or=re[xe[qn]],!!(Or&a));qn++);En===Or&&(re[_t]===ie?En===Y:En&(Y|L))&&Se(_t,En)}}if(ge.get(Y))for(var tn=0;tn<xe.length;tn++){var nn=xe[tn];if(re[nn]&Y){for(var Ir=tn-1;Ir>=0&&re[xe[Ir]]&(G|a);Ir--)Se(xe[Ir],Y);for(tn++;tn<xe.length&&re[xe[tn]]&(G|a|Y);tn++)re[xe[tn]]!==Y&&Se(xe[tn],Y)}}if(ge.get(G)||ge.get(ie)||ge.get($))for(var fr=0;fr<xe.length;fr++){var Yi=xe[fr];if(re[Yi]&(G|ie|$)){Se(Yi,oe);for(var bn=fr-1;bn>=0&&re[xe[bn]]&a;bn--)Se(xe[bn],oe);for(var jn=fr+1;jn<xe.length&&re[xe[jn]]&a;jn++)Se(xe[jn],oe)}}if(ge.get(Y))for(var Wn=0,cr=xn;Wn<xe.length;Wn++){var Ji=xe[Wn],pi=re[Ji];pi&Y?cr===I&&Se(Ji,I):pi&s&&(cr=pi)}if(ge.get(u)){var Hn=B|Y|L,Br=Hn|I,Fn=[];{for(var $n=[],Dn=0;Dn<xe.length;Dn++)if(re[xe[Dn]]&u){var Ge=le[xe[Dn]],vi=void 0;if(R(Ge)!==null)if($n.length<63)$n.push({char:Ge,seqIndex:Dn});else break;else if((vi=F(Ge))!==null)for(var Vn=$n.length-1;Vn>=0;Vn--){var Nr=$n[Vn].char;if(Nr===vi||Nr===F(D(Ge))||R(D(Nr))===Ge){Fn.push([$n[Vn].seqIndex,Dn]),$n.length=Vn;break}}}Fn.sort(function(Et,Wt){return Et[0]-Wt[0]})}for(var mi=0;mi<Fn.length;mi++){for(var Ki=Fn[mi],it=Ki[0],dr=Ki[1],Zi=!1,Gt=0,gi=it+1;gi<dr;gi++){var hr=xe[gi];if(re[hr]&Br){Zi=!0;var rn=re[hr]&Hn?B:I;if(rn===Pn){Gt=rn;break}}}if(Zi&&!Gt){Gt=xn;for(var yi=it-1;yi>=0;yi--){var qi=xe[yi];if(re[qi]&Br){var on=re[qi]&Hn?B:I;on!==Pn?Gt=on:Gt=Pn;break}}}if(Gt){if(re[xe[it]]=re[xe[dr]]=Gt,Gt!==Pn){for(var bt=it+1;bt<xe.length;bt++)if(!(re[xe[bt]]&a)){y(le[xe[bt]])&H&&(re[xe[bt]]=Gt);break}}if(Gt!==Pn){for(var Ln=dr+1;Ln<xe.length;Ln++)if(!(re[xe[Ln]]&a)){y(le[xe[Ln]])&H&&(re[xe[Ln]]=Gt);break}}}}for(var dn=0;dn<xe.length;dn++)if(re[xe[dn]]&u){for(var Si=dn,wi=dn,Xt=xn,pr=dn-1;pr>=0;pr--)if(re[xe[pr]]&a)Si=pr;else{Xt=re[xe[pr]]&Hn?B:I;break}for(var vr=hi,mr=dn+1;mr<xe.length;mr++)if(re[xe[mr]]&(u|a))wi=mr;else{vr=re[xe[mr]]&Hn?B:I;break}for(var jt=Si;jt<=wi;jt++)re[xe[jt]]=Xt===vr?Xt:Pn;dn=wi}}}for(var xt=Te.start;xt<=Te.end;xt++){var Gr=ve[xt],kn=re[xt];if(Gr&1?kn&(I|Y|L)&&ve[xt]++:kn&B?ve[xt]++:kn&(L|Y)&&(ve[xt]+=2),kn&a&&(ve[xt]=xt===0?Te.level:ve[xt-1]),xt===Te.end||y(le[xt])&(te|K))for(var er=xt;er>=0&&y(le[er])&h;er--)ve[er]=Te.level}}return{levels:ve,paragraphs:Ae};function br(Et,Wt){for(var dt=Et;dt<le.length;dt++){var ht=re[dt];if(ht&(B|z))return 1;if(ht&(K|I)||Wt&&ht===ee)return 0;if(ht&n){var ln=$i(dt);dt=ln===-1?le.length:ln}}return 0}function $i(Et){for(var Wt=1,dt=Et+1;dt<le.length;dt++){var ht=re[dt];if(ht&K)break;if(ht&ee){if(--Wt===0)return dt}else ht&n&&Wt++}return-1}}var fe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",J;function q(){if(!J){var le=T(fe,!0),_e=le.map,he=le.reverseMap;he.forEach(function(re,Pe){_e.set(Pe,re)}),J=_e}}function ye(le){return q(),J.get(le)||null}function Fe(le,_e,he,re){var Pe=le.length;he=Math.max(0,he==null?0:+he),re=Math.min(Pe-1,re==null?Pe-1:+re);for(var ge=new Map,Se=he;Se<=re;Se++)if(_e[Se]&1){var ve=ye(le[Se]);ve!==null&&ge.set(Se,ve)}return ge}function ue(le,_e,he,re){var Pe=le.length;he=Math.max(0,he==null?0:+he),re=Math.min(Pe-1,re==null?Pe-1:+re);var ge=[];return _e.paragraphs.forEach(function(Se){var ve=Math.max(he,Se.start),be=Math.min(re,Se.end);if(ve<be){for(var Ae=_e.levels.slice(ve,be+1),Te=be;Te>=ve&&y(le[Te])&h;Te--)Ae[Te]=Se.level;for(var Oe=Se.level,je=1/0,lt=0;lt<Ae.length;lt++){var Re=Ae[lt];Re>Oe&&(Oe=Re),Re<je&&(je=Re|1)}for(var Ke=Oe;Ke>=je;Ke--)for(var Be=0;Be<Ae.length;Be++)if(Ae[Be]>=Ke){for(var Me=Be;Be+1<Ae.length&&Ae[Be+1]>=Ke;)Be++;Be>Me&&ge.push([Me+ve,Be+ve])}}}),ge}function we(le,_e,he,re){var Pe=Ue(le,_e,he,re),ge=[].concat(le);return Pe.forEach(function(Se,ve){ge[ve]=(_e.levels[Se]&1?ye(le[Se]):null)||le[Se]}),ge.join("")}function Ue(le,_e,he,re){for(var Pe=ue(le,_e,he,re),ge=[],Se=0;Se<le.length;Se++)ge[Se]=Se;return Pe.forEach(function(ve){for(var be=ve[0],Ae=ve[1],Te=ge.slice(be,Ae+1),Oe=Te.length;Oe--;)ge[Ae-Oe]=Te[Oe]}),ge}return i.closingToOpeningBracket=F,i.getBidiCharType=y,i.getBidiCharTypeName=S,i.getCanonicalBracket=D,i.getEmbeddingLevels=se,i.getMirroredCharacter=ye,i.getMirroredCharactersMap=Fe,i.getReorderSegments=ue,i.getReorderedIndices=Ue,i.getReorderedString=we,i.openingToClosingBracket=R,Object.defineProperty(i,"__esModule",{value:!0}),i}({});return d}const Df=/\bvoid\s+main\s*\(\s*\)\s*{/g;function wa(d){const i=/^[ \t]*#include +<([\w\d./]+)>/gm;function p(g,o){let n=Bc[o];return n?wa(n):g}return d.replace(i,p)}const Dt=[];for(let d=0;d<256;d++)Dt[d]=(d<16?"0":"")+d.toString(16);function th(){const d=Math.random()*4294967295|0,i=Math.random()*4294967295|0,p=Math.random()*4294967295|0,g=Math.random()*4294967295|0;return(Dt[d&255]+Dt[d>>8&255]+Dt[d>>16&255]+Dt[d>>24&255]+"-"+Dt[i&255]+Dt[i>>8&255]+"-"+Dt[i>>16&15|64]+Dt[i>>24&255]+"-"+Dt[p&63|128]+Dt[p>>8&255]+"-"+Dt[p>>16&255]+Dt[p>>24&255]+Dt[g&255]+Dt[g>>8&255]+Dt[g>>16&255]+Dt[g>>24&255]).toUpperCase()}const Ur=Object.assign||function(){let d=arguments[0];for(let i=1,p=arguments.length;i<p;i++){let g=arguments[i];if(g)for(let o in g)Object.prototype.hasOwnProperty.call(g,o)&&(d[o]=g[o])}return d},nh=Date.now(),Ru=new WeakMap,Au=new Map;let rh=1e10;function _a(d,i){const p=ah(i);let g=Ru.get(d);if(g||Ru.set(d,g=Object.create(null)),g[p])return new g[p];const o=`_onBeforeCompile${p}`,n=function(h,c){d.onBeforeCompile.call(this,h,c);const m=this.customProgramCacheKey()+"|"+h.vertexShader+"|"+h.fragmentShader;let y=Au[m];if(!y){const S=ih(this,h,i,p);y=Au[m]=S}h.vertexShader=y.vertexShader,h.fragmentShader=y.fragmentShader,Ur(h.uniforms,this.uniforms),i.timeUniform&&(h.uniforms[i.timeUniform]={get value(){return Date.now()-nh}}),this[o]&&this[o](h)},s=function(){return u(i.chained?d:d.clone())},u=function(h){const c=Object.create(h,a);return Object.defineProperty(c,"baseMaterial",{value:d}),Object.defineProperty(c,"id",{value:rh++}),c.uuid=th(),c.uniforms=Ur({},h.uniforms,i.uniforms),c.defines=Ur({},h.defines,i.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${p}`]="",c.extensions=Ur({},h.extensions,i.extensions),c._listeners=void 0,c},a={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return d.customProgramCacheKey()+"|"+p}},onBeforeCompile:{get(){return n},set(h){this[o]=h}},copy:{writable:!0,configurable:!0,value:function(h){return d.copy.call(this,h),!d.isShaderMaterial&&!d.isDerivedMaterial&&(Ur(this.extensions,h.extensions),Ur(this.defines,h.defines),Ur(this.uniforms,da.clone(h.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const h=new d.constructor;return u(h).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let h=this._depthMaterial;return h||(h=this._depthMaterial=_a(d.isDerivedMaterial?d.getDepthMaterial():new Oc({depthPacking:zc}),i),h.defines.IS_DEPTH_MATERIAL="",h.uniforms=this.uniforms),h}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let h=this._distanceMaterial;return h||(h=this._distanceMaterial=_a(d.isDerivedMaterial?d.getDistanceMaterial():new Ic,i),h.defines.IS_DISTANCE_MATERIAL="",h.uniforms=this.uniforms),h}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:h,_distanceMaterial:c}=this;h&&h.dispose(),c&&c.dispose(),d.dispose.call(this)}}};return g[p]=s,new s}function ih(d,{vertexShader:i,fragmentShader:p},g,o){let{vertexDefs:n,vertexMainIntro:s,vertexMainOutro:u,vertexTransform:a,fragmentDefs:h,fragmentMainIntro:c,fragmentMainOutro:m,fragmentColorTransform:y,customRewriter:S,timeUniform:E}=g;if(n=n||"",s=s||"",u=u||"",h=h||"",c=c||"",m=m||"",(a||S)&&(i=wa(i)),(y||S)&&(p=p.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),p=wa(p)),S){let T=S({vertexShader:i,fragmentShader:p});i=T.vertexShader,p=T.fragmentShader}if(y){let T=[];p=p.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(T.push(x),"")),m=`${y}
${T.join(`
`)}
${m}`}if(E){const T=`
uniform float ${E};
`;n=T+n,h=T+h}return a&&(i=`vec3 troika_position_${o};
vec3 troika_normal_${o};
vec2 troika_uv_${o};
${i}
`,n=`${n}
void troikaVertexTransform${o}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${a}
}
`,s=`
troika_position_${o} = vec3(position);
troika_normal_${o} = vec3(normal);
troika_uv_${o} = vec2(uv);
troikaVertexTransform${o}(troika_position_${o}, troika_normal_${o}, troika_uv_${o});
${s}
`,i=i.replace(/\b(position|normal|uv)\b/g,(T,x,k,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,k))?x:`troika_${x}_${o}`),d.map&&d.map.channel>0||(i=i.replace(/\bMAP_UV\b/g,`troika_uv_${o}`))),i=Ou(i,o,n,s,u),p=Ou(p,o,h,c,m),{vertexShader:i,fragmentShader:p}}function Ou(d,i,p,g,o){return(g||o||p)&&(d=d.replace(Df,`
${p}
void troikaOrigMain${i}() {`),d+=`
void main() {
  ${g}
  troikaOrigMain${i}();
  ${o}
}`),d}function oh(d,i){return d==="uniforms"?void 0:typeof i=="function"?i.toString():i}let lh=0;const zu=new Map;function ah(d){const i=JSON.stringify(d,oh);let p=zu.get(i);return p==null&&zu.set(i,p=++lh),p}function sh(d,i,p){const{defaultFontURL:g}=p,o=Object.create(null),n=1/0,s=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,u="[^\\S\\u00A0]",a=new RegExp(`${u}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function h(w,U){function R(){const F=D=>{console.error(`Failure loading font ${w}${w===g?"":"; trying fallback"}`,D),w!==g&&(w=g,R())};try{const D=new XMLHttpRequest;D.open("get",w,!0),D.responseType="arraybuffer",D.onload=function(){if(D.status>=400)F(new Error(D.statusText));else if(D.status>0)try{const I=d(D.response);U(I)}catch(I){F(I)}},D.onerror=F,D.send()}catch(D){F(D)}}R()}function c(w,U){w||(w=g);let R=o[w];R?R.pending?R.pending.push(U):U(R):(o[w]={pending:[U]},h(w,F=>{let D=o[w].pending;o[w]=F,D.forEach(I=>I(F))}))}function m({text:w="",font:U=g,sdfGlyphSize:R=64,fontSize:F=1,letterSpacing:D=0,lineHeight:I="normal",maxWidth:B=n,direction:Y,textAlign:ie="left",textIndent:G=0,whiteSpace:L="normal",overflowWrap:$="normal",anchorX:K=0,anchorY:te=0,includeCaretPositions:oe=!1,chunkedBoundsSize:pe=8192,colorRanges:H=null},z,b=!1){const P=T(),O={fontLoad:0,typesetting:0};w.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),w=w.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),F=+F,D=+D,B=+B,I=I||"normal",G=+G,c(U,V=>{const X=isFinite(B);let j=null,ne=null,Q=null,ee=null,se=null,fe=null,J=null,q=0,ye=0,Fe=L!=="nowrap";const{ascender:ue,descender:we,unitsPerEm:Ue,lineGap:le,capHeight:_e,xHeight:he}=V;O.fontLoad=T()-P;const re=T(),Pe=F/Ue;I==="normal"&&(I=(ue-we+le)/Ue),I=I*F;const ge=(I-(ue-we)*Pe)/2,Se=-(ue*Pe+ge),ve=Math.min(I,(ue-we)*Pe),be=(ue+we)/2*Pe-ve/2;let Ae=G,Te=new x;const Oe=[Te];V.forEachGlyph(w,F,D,(Re,Ke,Be)=>{const Me=w.charAt(Be),Ve=Re.advanceWidth*Pe,Ye=Te.count;let at;if("isEmpty"in Re||(Re.isWhitespace=!!Me&&new RegExp(u).test(Me),Re.canBreakAfter=!!Me&&a.test(Me),Re.isEmpty=Re.xMin===Re.xMax||Re.yMin===Re.yMax||s.test(Me)),!Re.isWhitespace&&!Re.isEmpty&&ye++,Fe&&X&&!Re.isWhitespace&&Ke+Ve+Ae>B&&Ye){if(Te.glyphAt(Ye-1).glyphObj.canBreakAfter)at=new x,Ae=-Ke;else for(let qe=Ye;qe--;)if(qe===0&&$==="break-word"){at=new x,Ae=-Ke;break}else if(Te.glyphAt(qe).glyphObj.canBreakAfter){at=Te.splitAt(qe+1);const Ut=at.glyphAt(0).x;Ae-=Ut;for(let wn=at.count;wn--;)at.glyphAt(wn).x-=Ut;break}at&&(Te.isSoftWrapped=!0,Te=at,Oe.push(Te),q=B)}let ze=Te.glyphAt(Te.count);ze.glyphObj=Re,ze.x=Ke+Ae,ze.width=Ve,ze.charIndex=Be,Me===`
`&&(Te=new x,Oe.push(Te),Ae=-(Ke+Ve+D*F)+G)}),Oe.forEach(Re=>{for(let Ke=Re.count;Ke--;){let{glyphObj:Be,x:Me,width:Ve}=Re.glyphAt(Ke);if(!Be.isWhitespace){Re.width=Me+Ve,Re.width>q&&(q=Re.width);return}}});let je=0,lt=0;if(K&&(typeof K=="number"?je=-K:typeof K=="string"&&(je=-q*(K==="left"?0:K==="center"?.5:K==="right"?1:S(K)))),te){if(typeof te=="number")lt=-te;else if(typeof te=="string"){let Re=Oe.length*I;lt=te==="top"?0:te==="top-baseline"?-Se:te==="top-cap"?-Se-_e*Pe:te==="top-ex"?-Se-he*Pe:te==="middle"?Re/2:te==="bottom"?Re:te==="bottom-baseline"?Re-ge+we*Pe:S(te)*Re}}if(!b){const Re=i.getEmbeddingLevels(w,Y);j=new Uint16Array(ye),ne=new Float32Array(ye*2),Q={},fe=[n,n,-n,-n],J=[];let Ke=Se;oe&&(se=new Float32Array(w.length*3)),H&&(ee=new Uint8Array(ye*3));let Be=0,Me=-1,Ve=-1,Ye,at;if(Oe.forEach((ze,qe)=>{let{count:Ut,width:wn}=ze;if(Ut>0){let Nn=0;for(let tt=Ut;tt--&&ze.glyphAt(tt).glyphObj.isWhitespace;)Nn++;let _n=0,It=0;if(ie==="center")_n=(q-wn)/2;else if(ie==="right")_n=q-wn;else if(ie==="justify"&&ze.isSoftWrapped){let tt=0;for(let nt=Ut-Nn;nt--;)ze.glyphAt(nt).glyphObj.isWhitespace&&tt++;It=(q-wn)/tt}if(It||_n){let tt=0;for(let nt=0;nt<Ut;nt++){let Zt=ze.glyphAt(nt);const Nt=Zt.glyphObj;Zt.x+=_n+tt,It!==0&&Nt.isWhitespace&&nt<Ut-Nn&&(tt+=It,Zt.width+=It)}}const Bt=i.getReorderSegments(w,Re,ze.glyphAt(0).charIndex,ze.glyphAt(ze.count-1).charIndex);for(let tt=0;tt<Bt.length;tt++){const[nt,Zt]=Bt[tt];let Nt=1/0,Qe=-1/0;for(let ct=0;ct<Ut;ct++)if(ze.glyphAt(ct).charIndex>=nt){let Qt=ct,st=ct;for(;st<Ut;st++){let vt=ze.glyphAt(st);if(vt.charIndex>Zt)break;st<Ut-Nn&&(Nt=Math.min(Nt,vt.x),Qe=Math.max(Qe,vt.x+vt.width))}for(let vt=Qt;vt<st;vt++){const Pt=ze.glyphAt(vt);Pt.x=Qe-(Pt.x+Pt.width-Nt)}break}}let $e;const Zn=tt=>$e=tt;for(let tt=0;tt<Ut;tt++){let nt=ze.glyphAt(tt);$e=nt.glyphObj;const Zt=$e.index,Nt=Re.levels[nt.charIndex]&1;if(Nt){const Qe=i.getMirroredCharacter(w[nt.charIndex]);Qe&&V.forEachGlyph(Qe,0,0,Zn)}if(oe){const{charIndex:Qe}=nt,ct=nt.x+je,Qt=nt.x+nt.width+je;se[Qe*3]=Nt?Qt:ct,se[Qe*3+1]=Nt?ct:Qt,se[Qe*3+2]=Ke+be+lt;const st=Qe-Me;st>1&&E(se,Me,st),Me=Qe}if(H){const{charIndex:Qe}=nt;for(;Qe>Ve;)Ve++,H.hasOwnProperty(Ve)&&(at=H[Ve])}if(!$e.isWhitespace&&!$e.isEmpty){const Qe=Be++;Q[Zt]||(Q[Zt]={path:$e.path,pathBounds:[$e.xMin,$e.yMin,$e.xMax,$e.yMax]});const ct=nt.x+je,Qt=Ke+lt;ne[Qe*2]=ct,ne[Qe*2+1]=Qt;const st=ct+$e.xMin*Pe,vt=Qt+$e.yMin*Pe,Pt=ct+$e.xMax*Pe,Un=Qt+$e.yMax*Pe;st<fe[0]&&(fe[0]=st),vt<fe[1]&&(fe[1]=vt),Pt>fe[2]&&(fe[2]=Pt),Un>fe[3]&&(fe[3]=Un),Qe%pe===0&&(Ye={start:Qe,end:Qe,rect:[n,n,-n,-n]},J.push(Ye)),Ye.end++;const qt=Ye.rect;if(st<qt[0]&&(qt[0]=st),vt<qt[1]&&(qt[1]=vt),Pt>qt[2]&&(qt[2]=Pt),Un>qt[3]&&(qt[3]=Un),j[Qe]=Zt,H){const Gn=Qe*3;ee[Gn]=at>>16&255,ee[Gn+1]=at>>8&255,ee[Gn+2]=at&255}}}}Ke-=I}),se){const ze=w.length-Me;ze>1&&E(se,Me,ze)}}O.typesetting=T()-re,z({glyphIds:j,glyphPositions:ne,glyphData:Q,caretPositions:se,caretHeight:ve,glyphColors:ee,chunkedBounds:J,fontSize:F,unitsPerEm:Ue,ascender:ue*Pe,descender:we*Pe,capHeight:_e*Pe,xHeight:he*Pe,lineHeight:I,topBaseline:Se,blockBounds:[je,lt-Oe.length*I,je+q,lt],visibleBounds:fe,timings:O})})}function y(w,U){m(w,R=>{const[F,D,I,B]=R.blockBounds;U({width:I-F,height:B-D})},{metricsOnly:!0})}function S(w){let U=w.match(/^([\d.]+)%$/),R=U?parseFloat(U[1]):NaN;return isNaN(R)?0:R/100}function E(w,U,R){const F=w[U*3],D=w[U*3+1],I=w[U*3+2],B=(D-F)/R;for(let Y=0;Y<R;Y++){const ie=(U+Y)*3;w[ie]=F+B*Y,w[ie+1]=F+B*(Y+1),w[ie+2]=I}}function T(){return(self.performance||Date).now()}function x(){this.data=[]}const k=["glyphObj","x","width","charIndex"];return x.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/k.length)},glyphAt(w){let U=x.flyweight;return U.data=this.data,U.index=w,U},splitAt(w){let U=new x;return U.data=this.data.splice(w*k.length),U}},x.flyweight=k.reduce((w,U,R,F)=>(Object.defineProperty(w,U,{get(){return this.data[this.index*k.length+R]},set(D){this.data[this.index*k.length+R]=D}}),w),{data:null,index:0}),{typeset:m,measure:y,loadFont:c}}const Mr=()=>(self.performance||Date).now(),qo=Ff();let Iu;function uh(d,i,p,g,o,n,s,u,a,h,c=!0){return c?ch(d,i,p,g,o,n,s,u,a,h).then(null,m=>(Iu||(console.warn("WebGL SDF generation failed, falling back to JS",m),Iu=!0),Nu(d,i,p,g,o,n,s,u,a,h))):Nu(d,i,p,g,o,n,s,u,a,h)}const Yo=[],fh=5;let xa=0;function Lf(){const d=Mr();for(;Yo.length&&Mr()-d<fh;)Yo.shift()();xa=Yo.length?setTimeout(Lf,0):0}const ch=(...d)=>new Promise((i,p)=>{Yo.push(()=>{const g=Mr();try{qo.webgl.generateIntoCanvas(...d),i({timing:Mr()-g})}catch(o){p(o)}}),xa||(xa=setTimeout(Lf,0))}),dh=4,hh=2e3,Bu={};let ph=0;function Nu(d,i,p,g,o,n,s,u,a,h){const c="TroikaTextSDFGenerator_JS_"+ph++%dh;let m=Bu[c];return m||(m=Bu[c]={workerModule:Vi({name:c,workerId:c,dependencies:[Ff,Mr],init(y,S){const E=y().javascript.generate;return function(...T){const x=S();return{textureData:E(...T),timing:S()-x}}},getTransferables(y){return[y.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(d,i,p,g,o,n).then(({textureData:y,timing:S})=>{const E=Mr(),T=new Uint8Array(y.length*4);for(let x=0;x<y.length;x++)T[x*4+h]=y[x];return qo.webglUtils.renderImageData(s,T,u,a,d,i,1<<3-h),S+=Mr()-E,--m.requests===0&&(m.idleTimer=setTimeout(()=>{qd(c)},hh)),{timing:S}})}function vh(d){d._warm||(qo.webgl.isSupported(d),d._warm=!0)}const mh=qo.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function gh(){return typeof window>"u"&&(self.window=self),function(d){var i={parse:function(o){var n=i._bin,s=new Uint8Array(o);if(n.readASCII(s,0,4)=="ttcf"){var u=4;n.readUshort(s,u),u+=2,n.readUshort(s,u),u+=2;var a=n.readUint(s,u);u+=4;for(var h=[],c=0;c<a;c++){var m=n.readUint(s,u);u+=4,h.push(i._readFont(s,m))}return h}return[i._readFont(s,0)]},_readFont:function(o,n){var s=i._bin,u=n;s.readFixed(o,n),n+=4;var a=s.readUshort(o,n);n+=2,s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2;for(var h=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:o,_offset:u},m={},y=0;y<a;y++){var S=s.readASCII(o,n,4);n+=4,s.readUint(o,n),n+=4;var E=s.readUint(o,n);n+=4;var T=s.readUint(o,n);n+=4,m[S]={offset:E,length:T}}for(y=0;y<h.length;y++){var x=h[y];m[x]&&(c[x.trim()]=i[x.trim()].parse(o,m[x].offset,m[x].length,c))}return c},_tabOffset:function(o,n,s){for(var u=i._bin,a=u.readUshort(o,s+4),h=s+12,c=0;c<a;c++){var m=u.readASCII(o,h,4);h+=4,u.readUint(o,h),h+=4;var y=u.readUint(o,h);if(h+=4,u.readUint(o,h),h+=4,m==n)return y}return 0}};i._bin={readFixed:function(o,n){return(o[n]<<8|o[n+1])+(o[n+2]<<8|o[n+3])/65540},readF2dot14:function(o,n){return i._bin.readShort(o,n)/16384},readInt:function(o,n){return i._bin._view(o).getInt32(n)},readInt8:function(o,n){return i._bin._view(o).getInt8(n)},readShort:function(o,n){return i._bin._view(o).getInt16(n)},readUshort:function(o,n){return i._bin._view(o).getUint16(n)},readUshorts:function(o,n,s){for(var u=[],a=0;a<s;a++)u.push(i._bin.readUshort(o,n+2*a));return u},readUint:function(o,n){return i._bin._view(o).getUint32(n)},readUint64:function(o,n){return 4294967296*i._bin.readUint(o,n)+i._bin.readUint(o,n+4)},readASCII:function(o,n,s){for(var u="",a=0;a<s;a++)u+=String.fromCharCode(o[n+a]);return u},readUnicode:function(o,n,s){for(var u="",a=0;a<s;a++){var h=o[n++]<<8|o[n++];u+=String.fromCharCode(h)}return u},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(o,n,s){var u=i._bin._tdec;return u&&n==0&&s==o.length?u.decode(o):i._bin.readASCII(o,n,s)},readBytes:function(o,n,s){for(var u=[],a=0;a<s;a++)u.push(o[n+a]);return u},readASCIIArray:function(o,n,s){for(var u=[],a=0;a<s;a++)u.push(String.fromCharCode(o[n+a]));return u},_view:function(o){return o._dataView||(o._dataView=o.buffer?new DataView(o.buffer,o.byteOffset,o.byteLength):new DataView(new Uint8Array(o).buffer))}},i._lctf={},i._lctf.parse=function(o,n,s,u,a){var h=i._bin,c={},m=n;h.readFixed(o,n),n+=4;var y=h.readUshort(o,n);n+=2;var S=h.readUshort(o,n);n+=2;var E=h.readUshort(o,n);return n+=2,c.scriptList=i._lctf.readScriptList(o,m+y),c.featureList=i._lctf.readFeatureList(o,m+S),c.lookupList=i._lctf.readLookupList(o,m+E,a),c},i._lctf.readLookupList=function(o,n,s){var u=i._bin,a=n,h=[],c=u.readUshort(o,n);n+=2;for(var m=0;m<c;m++){var y=u.readUshort(o,n);n+=2;var S=i._lctf.readLookupTable(o,a+y,s);h.push(S)}return h},i._lctf.readLookupTable=function(o,n,s){var u=i._bin,a=n,h={tabs:[]};h.ltype=u.readUshort(o,n),n+=2,h.flag=u.readUshort(o,n),n+=2;var c=u.readUshort(o,n);n+=2;for(var m=h.ltype,y=0;y<c;y++){var S=u.readUshort(o,n);n+=2;var E=s(o,m,a+S,h);h.tabs.push(E)}return h},i._lctf.numOfOnes=function(o){for(var n=0,s=0;s<32;s++)o>>>s&1&&n++;return n},i._lctf.readClassDef=function(o,n){var s=i._bin,u=[],a=s.readUshort(o,n);if(n+=2,a==1){var h=s.readUshort(o,n);n+=2;var c=s.readUshort(o,n);n+=2;for(var m=0;m<c;m++)u.push(h+m),u.push(h+m),u.push(s.readUshort(o,n)),n+=2}if(a==2){var y=s.readUshort(o,n);for(n+=2,m=0;m<y;m++)u.push(s.readUshort(o,n)),n+=2,u.push(s.readUshort(o,n)),n+=2,u.push(s.readUshort(o,n)),n+=2}return u},i._lctf.getInterval=function(o,n){for(var s=0;s<o.length;s+=3){var u=o[s],a=o[s+1];if(o[s+2],u<=n&&n<=a)return s}return-1},i._lctf.readCoverage=function(o,n){var s=i._bin,u={};u.fmt=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);return n+=2,u.fmt==1&&(u.tab=s.readUshorts(o,n,a)),u.fmt==2&&(u.tab=s.readUshorts(o,n,3*a)),u},i._lctf.coverageIndex=function(o,n){var s=o.tab;if(o.fmt==1)return s.indexOf(n);if(o.fmt==2){var u=i._lctf.getInterval(s,n);if(u!=-1)return s[u+2]+(n-s[u])}return-1},i._lctf.readFeatureList=function(o,n){var s=i._bin,u=n,a=[],h=s.readUshort(o,n);n+=2;for(var c=0;c<h;c++){var m=s.readASCII(o,n,4);n+=4;var y=s.readUshort(o,n);n+=2;var S=i._lctf.readFeatureTable(o,u+y);S.tag=m.trim(),a.push(S)}return a},i._lctf.readFeatureTable=function(o,n){var s=i._bin,u=n,a={},h=s.readUshort(o,n);n+=2,h>0&&(a.featureParams=u+h);var c=s.readUshort(o,n);n+=2,a.tab=[];for(var m=0;m<c;m++)a.tab.push(s.readUshort(o,n+2*m));return a},i._lctf.readScriptList=function(o,n){var s=i._bin,u=n,a={},h=s.readUshort(o,n);n+=2;for(var c=0;c<h;c++){var m=s.readASCII(o,n,4);n+=4;var y=s.readUshort(o,n);n+=2,a[m.trim()]=i._lctf.readScriptTable(o,u+y)}return a},i._lctf.readScriptTable=function(o,n){var s=i._bin,u=n,a={},h=s.readUshort(o,n);n+=2,a.default=i._lctf.readLangSysTable(o,u+h);var c=s.readUshort(o,n);n+=2;for(var m=0;m<c;m++){var y=s.readASCII(o,n,4);n+=4;var S=s.readUshort(o,n);n+=2,a[y.trim()]=i._lctf.readLangSysTable(o,u+S)}return a},i._lctf.readLangSysTable=function(o,n){var s=i._bin,u={};s.readUshort(o,n),n+=2,u.reqFeature=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);return n+=2,u.features=s.readUshorts(o,n,a),u},i.CFF={},i.CFF.parse=function(o,n,s){var u=i._bin;(o=new Uint8Array(o.buffer,n,s))[n=0],o[++n],o[++n],o[++n],n++;var a=[];n=i.CFF.readIndex(o,n,a);for(var h=[],c=0;c<a.length-1;c++)h.push(u.readASCII(o,n+a[c],a[c+1]-a[c]));n+=a[a.length-1];var m=[];n=i.CFF.readIndex(o,n,m);var y=[];for(c=0;c<m.length-1;c++)y.push(i.CFF.readDict(o,n+m[c],n+m[c+1]));n+=m[m.length-1];var S=y[0],E=[];n=i.CFF.readIndex(o,n,E);var T=[];for(c=0;c<E.length-1;c++)T.push(u.readASCII(o,n+E[c],E[c+1]-E[c]));if(n+=E[E.length-1],i.CFF.readSubrs(o,n,S),S.CharStrings){n=S.CharStrings,E=[],n=i.CFF.readIndex(o,n,E);var x=[];for(c=0;c<E.length-1;c++)x.push(u.readBytes(o,n+E[c],E[c+1]-E[c]));S.CharStrings=x}if(S.ROS){n=S.FDArray;var k=[];for(n=i.CFF.readIndex(o,n,k),S.FDArray=[],c=0;c<k.length-1;c++){var w=i.CFF.readDict(o,n+k[c],n+k[c+1]);i.CFF._readFDict(o,w,T),S.FDArray.push(w)}n+=k[k.length-1],n=S.FDSelect,S.FDSelect=[];var U=o[n];if(n++,U!=3)throw U;var R=u.readUshort(o,n);for(n+=2,c=0;c<R+1;c++)S.FDSelect.push(u.readUshort(o,n),o[n+2]),n+=3}return S.Encoding&&(S.Encoding=i.CFF.readEncoding(o,S.Encoding,S.CharStrings.length)),S.charset&&(S.charset=i.CFF.readCharset(o,S.charset,S.CharStrings.length)),i.CFF._readFDict(o,S,T),S},i.CFF._readFDict=function(o,n,s){var u;for(var a in n.Private&&(u=n.Private[1],n.Private=i.CFF.readDict(o,u,u+n.Private[0]),n.Private.Subrs&&i.CFF.readSubrs(o,u+n.Private.Subrs,n.Private)),n)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)!=-1&&(n[a]=s[n[a]-426+35])},i.CFF.readSubrs=function(o,n,s){var u=i._bin,a=[];n=i.CFF.readIndex(o,n,a);var h,c=a.length;h=c<1240?107:c<33900?1131:32768,s.Bias=h,s.Subrs=[];for(var m=0;m<a.length-1;m++)s.Subrs.push(u.readBytes(o,n+a[m],a[m+1]-a[m]))},i.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],i.CFF.glyphByUnicode=function(o,n){for(var s=0;s<o.charset.length;s++)if(o.charset[s]==n)return s;return-1},i.CFF.glyphBySE=function(o,n){return n<0||n>255?-1:i.CFF.glyphByUnicode(o,i.CFF.tableSE[n])},i.CFF.readEncoding=function(o,n,s){i._bin;var u=[".notdef"],a=o[n];if(n++,a!=0)throw"error: unknown encoding format: "+a;var h=o[n];n++;for(var c=0;c<h;c++)u.push(o[n+c]);return u},i.CFF.readCharset=function(o,n,s){var u=i._bin,a=[".notdef"],h=o[n];if(n++,h==0)for(var c=0;c<s;c++){var m=u.readUshort(o,n);n+=2,a.push(m)}else{if(h!=1&&h!=2)throw"error: format: "+h;for(;a.length<s;){m=u.readUshort(o,n),n+=2;var y=0;for(h==1?(y=o[n],n++):(y=u.readUshort(o,n),n+=2),c=0;c<=y;c++)a.push(m),m++}}return a},i.CFF.readIndex=function(o,n,s){var u=i._bin,a=u.readUshort(o,n)+1,h=o[n+=2];if(n++,h==1)for(var c=0;c<a;c++)s.push(o[n+c]);else if(h==2)for(c=0;c<a;c++)s.push(u.readUshort(o,n+2*c));else if(h==3)for(c=0;c<a;c++)s.push(16777215&u.readUint(o,n+3*c-1));else if(a!=1)throw"unsupported offset size: "+h+", count: "+a;return(n+=a*h)-1},i.CFF.getCharString=function(o,n,s){var u=i._bin,a=o[n],h=o[n+1];o[n+2],o[n+3],o[n+4];var c=1,m=null,y=null;a<=20&&(m=a,c=1),a==12&&(m=100*a+h,c=2),21<=a&&a<=27&&(m=a,c=1),a==28&&(y=u.readShort(o,n+1),c=3),29<=a&&a<=31&&(m=a,c=1),32<=a&&a<=246&&(y=a-139,c=1),247<=a&&a<=250&&(y=256*(a-247)+h+108,c=2),251<=a&&a<=254&&(y=256*-(a-251)-h-108,c=2),a==255&&(y=u.readInt(o,n+1)/65535,c=5),s.val=y??"o"+m,s.size=c},i.CFF.readCharString=function(o,n,s){for(var u=n+s,a=i._bin,h=[];n<u;){var c=o[n],m=o[n+1];o[n+2],o[n+3],o[n+4];var y=1,S=null,E=null;c<=20&&(S=c,y=1),c==12&&(S=100*c+m,y=2),c!=19&&c!=20||(S=c,y=2),21<=c&&c<=27&&(S=c,y=1),c==28&&(E=a.readShort(o,n+1),y=3),29<=c&&c<=31&&(S=c,y=1),32<=c&&c<=246&&(E=c-139,y=1),247<=c&&c<=250&&(E=256*(c-247)+m+108,y=2),251<=c&&c<=254&&(E=256*-(c-251)-m-108,y=2),c==255&&(E=a.readInt(o,n+1)/65535,y=5),h.push(E??"o"+S),n+=y}return h},i.CFF.readDict=function(o,n,s){for(var u=i._bin,a={},h=[];n<s;){var c=o[n],m=o[n+1];o[n+2],o[n+3],o[n+4];var y=1,S=null,E=null;if(c==28&&(E=u.readShort(o,n+1),y=3),c==29&&(E=u.readInt(o,n+1),y=5),32<=c&&c<=246&&(E=c-139,y=1),247<=c&&c<=250&&(E=256*(c-247)+m+108,y=2),251<=c&&c<=254&&(E=256*-(c-251)-m-108,y=2),c==255)throw E=u.readInt(o,n+1)/65535,y=5,"unknown number";if(c==30){var T=[];for(y=1;;){var x=o[n+y];y++;var k=x>>4,w=15&x;if(k!=15&&T.push(k),w!=15&&T.push(w),w==15)break}for(var U="",R=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],F=0;F<T.length;F++)U+=R[T[F]];E=parseFloat(U)}c<=21&&(S=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],y=1,c==12&&(S=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],y=2)),S!=null?(a[S]=h.length==1?h[0]:h,h=[]):h.push(E),n+=y}return a},i.cmap={},i.cmap.parse=function(o,n,s){o=new Uint8Array(o.buffer,n,s),n=0;var u=i._bin,a={};u.readUshort(o,n),n+=2;var h=u.readUshort(o,n);n+=2;var c=[];a.tables=[];for(var m=0;m<h;m++){var y=u.readUshort(o,n);n+=2;var S=u.readUshort(o,n);n+=2;var E=u.readUint(o,n);n+=4;var T="p"+y+"e"+S,x=c.indexOf(E);if(x==-1){var k;x=a.tables.length,c.push(E);var w=u.readUshort(o,E);w==0?k=i.cmap.parse0(o,E):w==4?k=i.cmap.parse4(o,E):w==6?k=i.cmap.parse6(o,E):w==12?k=i.cmap.parse12(o,E):console.debug("unknown format: "+w,y,S,E),a.tables.push(k)}if(a[T]!=null)throw"multiple tables for one platform+encoding";a[T]=x}return a},i.cmap.parse0=function(o,n){var s=i._bin,u={};u.format=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);n+=2,s.readUshort(o,n),n+=2,u.map=[];for(var h=0;h<a-6;h++)u.map.push(o[n+h]);return u},i.cmap.parse4=function(o,n){var s=i._bin,u=n,a={};a.format=s.readUshort(o,n),n+=2;var h=s.readUshort(o,n);n+=2,s.readUshort(o,n),n+=2;var c=s.readUshort(o,n);n+=2;var m=c/2;a.searchRange=s.readUshort(o,n),n+=2,a.entrySelector=s.readUshort(o,n),n+=2,a.rangeShift=s.readUshort(o,n),n+=2,a.endCount=s.readUshorts(o,n,m),n+=2*m,n+=2,a.startCount=s.readUshorts(o,n,m),n+=2*m,a.idDelta=[];for(var y=0;y<m;y++)a.idDelta.push(s.readShort(o,n)),n+=2;for(a.idRangeOffset=s.readUshorts(o,n,m),n+=2*m,a.glyphIdArray=[];n<u+h;)a.glyphIdArray.push(s.readUshort(o,n)),n+=2;return a},i.cmap.parse6=function(o,n){var s=i._bin,u={};u.format=s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2,s.readUshort(o,n),n+=2,u.firstCode=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);n+=2,u.glyphIdArray=[];for(var h=0;h<a;h++)u.glyphIdArray.push(s.readUshort(o,n)),n+=2;return u},i.cmap.parse12=function(o,n){var s=i._bin,u={};u.format=s.readUshort(o,n),n+=2,n+=2,s.readUint(o,n),n+=4,s.readUint(o,n),n+=4;var a=s.readUint(o,n);n+=4,u.groups=[];for(var h=0;h<a;h++){var c=n+12*h,m=s.readUint(o,c+0),y=s.readUint(o,c+4),S=s.readUint(o,c+8);u.groups.push([m,y,S])}return u},i.glyf={},i.glyf.parse=function(o,n,s,u){for(var a=[],h=0;h<u.maxp.numGlyphs;h++)a.push(null);return a},i.glyf._parseGlyf=function(o,n){var s=i._bin,u=o._data,a=i._tabOffset(u,"glyf",o._offset)+o.loca[n];if(o.loca[n]==o.loca[n+1])return null;var h={};if(h.noc=s.readShort(u,a),a+=2,h.xMin=s.readShort(u,a),a+=2,h.yMin=s.readShort(u,a),a+=2,h.xMax=s.readShort(u,a),a+=2,h.yMax=s.readShort(u,a),a+=2,h.xMin>=h.xMax||h.yMin>=h.yMax)return null;if(h.noc>0){h.endPts=[];for(var c=0;c<h.noc;c++)h.endPts.push(s.readUshort(u,a)),a+=2;var m=s.readUshort(u,a);if(a+=2,u.length-a<m)return null;h.instructions=s.readBytes(u,a,m),a+=m;var y=h.endPts[h.noc-1]+1;for(h.flags=[],c=0;c<y;c++){var S=u[a];if(a++,h.flags.push(S),(8&S)!=0){var E=u[a];a++;for(var T=0;T<E;T++)h.flags.push(S),c++}}for(h.xs=[],c=0;c<y;c++){var x=(2&h.flags[c])!=0,k=(16&h.flags[c])!=0;x?(h.xs.push(k?u[a]:-u[a]),a++):k?h.xs.push(0):(h.xs.push(s.readShort(u,a)),a+=2)}for(h.ys=[],c=0;c<y;c++)x=(4&h.flags[c])!=0,k=(32&h.flags[c])!=0,x?(h.ys.push(k?u[a]:-u[a]),a++):k?h.ys.push(0):(h.ys.push(s.readShort(u,a)),a+=2);var w=0,U=0;for(c=0;c<y;c++)w+=h.xs[c],U+=h.ys[c],h.xs[c]=w,h.ys[c]=U}else{var R;h.parts=[];do{R=s.readUshort(u,a),a+=2;var F={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(h.parts.push(F),F.glyphIndex=s.readUshort(u,a),a+=2,1&R){var D=s.readShort(u,a);a+=2;var I=s.readShort(u,a);a+=2}else D=s.readInt8(u,a),a++,I=s.readInt8(u,a),a++;2&R?(F.m.tx=D,F.m.ty=I):(F.p1=D,F.p2=I),8&R?(F.m.a=F.m.d=s.readF2dot14(u,a),a+=2):64&R?(F.m.a=s.readF2dot14(u,a),a+=2,F.m.d=s.readF2dot14(u,a),a+=2):128&R&&(F.m.a=s.readF2dot14(u,a),a+=2,F.m.b=s.readF2dot14(u,a),a+=2,F.m.c=s.readF2dot14(u,a),a+=2,F.m.d=s.readF2dot14(u,a),a+=2)}while(32&R);if(256&R){var B=s.readUshort(u,a);for(a+=2,h.instr=[],c=0;c<B;c++)h.instr.push(u[a]),a++}}return h},i.GPOS={},i.GPOS.parse=function(o,n,s,u){return i._lctf.parse(o,n,s,u,i.GPOS.subt)},i.GPOS.subt=function(o,n,s,u){var a=i._bin,h=s,c={};if(c.fmt=a.readUshort(o,s),s+=2,n==1||n==2||n==3||n==7||n==8&&c.fmt<=2){var m=a.readUshort(o,s);s+=2,c.coverage=i._lctf.readCoverage(o,m+h)}if(n==1&&c.fmt==1){var y=a.readUshort(o,s);s+=2;var S=i._lctf.numOfOnes(y);y!=0&&(c.pos=i.GPOS.readValueRecord(o,s,y))}else if(n==2&&c.fmt>=1&&c.fmt<=2){y=a.readUshort(o,s),s+=2;var E=a.readUshort(o,s);s+=2,S=i._lctf.numOfOnes(y);var T=i._lctf.numOfOnes(E);if(c.fmt==1){c.pairsets=[];var x=a.readUshort(o,s);s+=2;for(var k=0;k<x;k++){var w=h+a.readUshort(o,s);s+=2;var U=a.readUshort(o,w);w+=2;for(var R=[],F=0;F<U;F++){var D=a.readUshort(o,w);w+=2,y!=0&&(L=i.GPOS.readValueRecord(o,w,y),w+=2*S),E!=0&&($=i.GPOS.readValueRecord(o,w,E),w+=2*T),R.push({gid2:D,val1:L,val2:$})}c.pairsets.push(R)}}if(c.fmt==2){var I=a.readUshort(o,s);s+=2;var B=a.readUshort(o,s);s+=2;var Y=a.readUshort(o,s);s+=2;var ie=a.readUshort(o,s);for(s+=2,c.classDef1=i._lctf.readClassDef(o,h+I),c.classDef2=i._lctf.readClassDef(o,h+B),c.matrix=[],k=0;k<Y;k++){var G=[];for(F=0;F<ie;F++){var L=null,$=null;y!=0&&(L=i.GPOS.readValueRecord(o,s,y),s+=2*S),E!=0&&($=i.GPOS.readValueRecord(o,s,E),s+=2*T),G.push({val1:L,val2:$})}c.matrix.push(G)}}}else{if(n==9&&c.fmt==1){var K=a.readUshort(o,s);s+=2;var te=a.readUint(o,s);if(s+=4,u.ltype==9)u.ltype=K;else if(u.ltype!=K)throw"invalid extension substitution";return i.GPOS.subt(o,u.ltype,h+te)}console.debug("unsupported GPOS table LookupType",n,"format",c.fmt)}return c},i.GPOS.readValueRecord=function(o,n,s){var u=i._bin,a=[];return a.push(1&s?u.readShort(o,n):0),n+=1&s?2:0,a.push(2&s?u.readShort(o,n):0),n+=2&s?2:0,a.push(4&s?u.readShort(o,n):0),n+=4&s?2:0,a.push(8&s?u.readShort(o,n):0),n+=8&s?2:0,a},i.GSUB={},i.GSUB.parse=function(o,n,s,u){return i._lctf.parse(o,n,s,u,i.GSUB.subt)},i.GSUB.subt=function(o,n,s,u){var a=i._bin,h=s,c={};if(c.fmt=a.readUshort(o,s),s+=2,n!=1&&n!=4&&n!=5&&n!=6)return null;if(n==1||n==4||n==5&&c.fmt<=2||n==6&&c.fmt<=2){var m=a.readUshort(o,s);s+=2,c.coverage=i._lctf.readCoverage(o,h+m)}if(n==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=a.readShort(o,s),s+=2;else if(c.fmt==2){var y=a.readUshort(o,s);s+=2,c.newg=a.readUshorts(o,s,y),s+=2*c.newg.length}}else if(n==4){c.vals=[],y=a.readUshort(o,s),s+=2;for(var S=0;S<y;S++){var E=a.readUshort(o,s);s+=2,c.vals.push(i.GSUB.readLigatureSet(o,h+E))}}else if(n==5&&c.fmt==2){if(c.fmt==2){var T=a.readUshort(o,s);s+=2,c.cDef=i._lctf.readClassDef(o,h+T),c.scset=[];var x=a.readUshort(o,s);for(s+=2,S=0;S<x;S++){var k=a.readUshort(o,s);s+=2,c.scset.push(k==0?null:i.GSUB.readSubClassSet(o,h+k))}}}else if(n==6&&c.fmt==3){if(c.fmt==3){for(S=0;S<3;S++){y=a.readUshort(o,s),s+=2;for(var w=[],U=0;U<y;U++)w.push(i._lctf.readCoverage(o,h+a.readUshort(o,s+2*U)));s+=2*y,S==0&&(c.backCvg=w),S==1&&(c.inptCvg=w),S==2&&(c.ahedCvg=w)}y=a.readUshort(o,s),s+=2,c.lookupRec=i.GSUB.readSubstLookupRecords(o,s,y)}}else{if(n==7&&c.fmt==1){var R=a.readUshort(o,s);s+=2;var F=a.readUint(o,s);if(s+=4,u.ltype==9)u.ltype=R;else if(u.ltype!=R)throw"invalid extension substitution";return i.GSUB.subt(o,u.ltype,h+F)}console.debug("unsupported GSUB table LookupType",n,"format",c.fmt)}return c},i.GSUB.readSubClassSet=function(o,n){var s=i._bin.readUshort,u=n,a=[],h=s(o,n);n+=2;for(var c=0;c<h;c++){var m=s(o,n);n+=2,a.push(i.GSUB.readSubClassRule(o,u+m))}return a},i.GSUB.readSubClassRule=function(o,n){var s=i._bin.readUshort,u={},a=s(o,n),h=s(o,n+=2);n+=2,u.input=[];for(var c=0;c<a-1;c++)u.input.push(s(o,n)),n+=2;return u.substLookupRecords=i.GSUB.readSubstLookupRecords(o,n,h),u},i.GSUB.readSubstLookupRecords=function(o,n,s){for(var u=i._bin.readUshort,a=[],h=0;h<s;h++)a.push(u(o,n),u(o,n+2)),n+=4;return a},i.GSUB.readChainSubClassSet=function(o,n){var s=i._bin,u=n,a=[],h=s.readUshort(o,n);n+=2;for(var c=0;c<h;c++){var m=s.readUshort(o,n);n+=2,a.push(i.GSUB.readChainSubClassRule(o,u+m))}return a},i.GSUB.readChainSubClassRule=function(o,n){for(var s=i._bin,u={},a=["backtrack","input","lookahead"],h=0;h<a.length;h++){var c=s.readUshort(o,n);n+=2,h==1&&c--,u[a[h]]=s.readUshorts(o,n,c),n+=2*u[a[h]].length}return c=s.readUshort(o,n),n+=2,u.subst=s.readUshorts(o,n,2*c),n+=2*u.subst.length,u},i.GSUB.readLigatureSet=function(o,n){var s=i._bin,u=n,a=[],h=s.readUshort(o,n);n+=2;for(var c=0;c<h;c++){var m=s.readUshort(o,n);n+=2,a.push(i.GSUB.readLigature(o,u+m))}return a},i.GSUB.readLigature=function(o,n){var s=i._bin,u={chain:[]};u.nglyph=s.readUshort(o,n),n+=2;var a=s.readUshort(o,n);n+=2;for(var h=0;h<a-1;h++)u.chain.push(s.readUshort(o,n)),n+=2;return u},i.head={},i.head.parse=function(o,n,s){var u=i._bin,a={};return u.readFixed(o,n),n+=4,a.fontRevision=u.readFixed(o,n),n+=4,u.readUint(o,n),n+=4,u.readUint(o,n),n+=4,a.flags=u.readUshort(o,n),n+=2,a.unitsPerEm=u.readUshort(o,n),n+=2,a.created=u.readUint64(o,n),n+=8,a.modified=u.readUint64(o,n),n+=8,a.xMin=u.readShort(o,n),n+=2,a.yMin=u.readShort(o,n),n+=2,a.xMax=u.readShort(o,n),n+=2,a.yMax=u.readShort(o,n),n+=2,a.macStyle=u.readUshort(o,n),n+=2,a.lowestRecPPEM=u.readUshort(o,n),n+=2,a.fontDirectionHint=u.readShort(o,n),n+=2,a.indexToLocFormat=u.readShort(o,n),n+=2,a.glyphDataFormat=u.readShort(o,n),n+=2,a},i.hhea={},i.hhea.parse=function(o,n,s){var u=i._bin,a={};return u.readFixed(o,n),n+=4,a.ascender=u.readShort(o,n),n+=2,a.descender=u.readShort(o,n),n+=2,a.lineGap=u.readShort(o,n),n+=2,a.advanceWidthMax=u.readUshort(o,n),n+=2,a.minLeftSideBearing=u.readShort(o,n),n+=2,a.minRightSideBearing=u.readShort(o,n),n+=2,a.xMaxExtent=u.readShort(o,n),n+=2,a.caretSlopeRise=u.readShort(o,n),n+=2,a.caretSlopeRun=u.readShort(o,n),n+=2,a.caretOffset=u.readShort(o,n),n+=2,n+=8,a.metricDataFormat=u.readShort(o,n),n+=2,a.numberOfHMetrics=u.readUshort(o,n),n+=2,a},i.hmtx={},i.hmtx.parse=function(o,n,s,u){for(var a=i._bin,h={aWidth:[],lsBearing:[]},c=0,m=0,y=0;y<u.maxp.numGlyphs;y++)y<u.hhea.numberOfHMetrics&&(c=a.readUshort(o,n),n+=2,m=a.readShort(o,n),n+=2),h.aWidth.push(c),h.lsBearing.push(m);return h},i.kern={},i.kern.parse=function(o,n,s,u){var a=i._bin,h=a.readUshort(o,n);if(n+=2,h==1)return i.kern.parseV1(o,n-2,s,u);var c=a.readUshort(o,n);n+=2;for(var m={glyph1:[],rval:[]},y=0;y<c;y++){n+=2,s=a.readUshort(o,n),n+=2;var S=a.readUshort(o,n);n+=2;var E=S>>>8;if((E&=15)!=0)throw"unknown kern table format: "+E;n=i.kern.readFormat0(o,n,m)}return m},i.kern.parseV1=function(o,n,s,u){var a=i._bin;a.readFixed(o,n),n+=4;var h=a.readUint(o,n);n+=4;for(var c={glyph1:[],rval:[]},m=0;m<h;m++){a.readUint(o,n),n+=4;var y=a.readUshort(o,n);n+=2,a.readUshort(o,n),n+=2;var S=y>>>8;if((S&=15)!=0)throw"unknown kern table format: "+S;n=i.kern.readFormat0(o,n,c)}return c},i.kern.readFormat0=function(o,n,s){var u=i._bin,a=-1,h=u.readUshort(o,n);n+=2,u.readUshort(o,n),n+=2,u.readUshort(o,n),n+=2,u.readUshort(o,n),n+=2;for(var c=0;c<h;c++){var m=u.readUshort(o,n);n+=2;var y=u.readUshort(o,n);n+=2;var S=u.readShort(o,n);n+=2,m!=a&&(s.glyph1.push(m),s.rval.push({glyph2:[],vals:[]}));var E=s.rval[s.rval.length-1];E.glyph2.push(y),E.vals.push(S),a=m}return n},i.loca={},i.loca.parse=function(o,n,s,u){var a=i._bin,h=[],c=u.head.indexToLocFormat,m=u.maxp.numGlyphs+1;if(c==0)for(var y=0;y<m;y++)h.push(a.readUshort(o,n+(y<<1))<<1);if(c==1)for(y=0;y<m;y++)h.push(a.readUint(o,n+(y<<2)));return h},i.maxp={},i.maxp.parse=function(o,n,s){var u=i._bin,a={},h=u.readUint(o,n);return n+=4,a.numGlyphs=u.readUshort(o,n),n+=2,h==65536&&(a.maxPoints=u.readUshort(o,n),n+=2,a.maxContours=u.readUshort(o,n),n+=2,a.maxCompositePoints=u.readUshort(o,n),n+=2,a.maxCompositeContours=u.readUshort(o,n),n+=2,a.maxZones=u.readUshort(o,n),n+=2,a.maxTwilightPoints=u.readUshort(o,n),n+=2,a.maxStorage=u.readUshort(o,n),n+=2,a.maxFunctionDefs=u.readUshort(o,n),n+=2,a.maxInstructionDefs=u.readUshort(o,n),n+=2,a.maxStackElements=u.readUshort(o,n),n+=2,a.maxSizeOfInstructions=u.readUshort(o,n),n+=2,a.maxComponentElements=u.readUshort(o,n),n+=2,a.maxComponentDepth=u.readUshort(o,n),n+=2),a},i.name={},i.name.parse=function(o,n,s){var u=i._bin,a={};u.readUshort(o,n),n+=2;var h=u.readUshort(o,n);n+=2,u.readUshort(o,n);for(var c,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],y=n+=2,S=0;S<h;S++){var E=u.readUshort(o,n);n+=2;var T=u.readUshort(o,n);n+=2;var x=u.readUshort(o,n);n+=2;var k=u.readUshort(o,n);n+=2;var w=u.readUshort(o,n);n+=2;var U=u.readUshort(o,n);n+=2;var R,F=m[k],D=y+12*h+U;if(E==0)R=u.readUnicode(o,D,w/2);else if(E==3&&T==0)R=u.readUnicode(o,D,w/2);else if(T==0)R=u.readASCII(o,D,w);else if(T==1)R=u.readUnicode(o,D,w/2);else if(T==3)R=u.readUnicode(o,D,w/2);else{if(E!=1)throw"unknown encoding "+T+", platformID: "+E;R=u.readASCII(o,D,w),console.debug("reading unknown MAC encoding "+T+" as ASCII")}var I="p"+E+","+x.toString(16);a[I]==null&&(a[I]={}),a[I][F!==void 0?F:k]=R,a[I]._lang=x}for(var B in a)if(a[B].postScriptName!=null&&a[B]._lang==1033)return a[B];for(var B in a)if(a[B].postScriptName!=null&&a[B]._lang==0)return a[B];for(var B in a)if(a[B].postScriptName!=null&&a[B]._lang==3084)return a[B];for(var B in a)if(a[B].postScriptName!=null)return a[B];for(var B in a){c=B;break}return console.debug("returning name table with languageID "+a[c]._lang),a[c]},i["OS/2"]={},i["OS/2"].parse=function(o,n,s){var u=i._bin.readUshort(o,n);n+=2;var a={};if(u==0)i["OS/2"].version0(o,n,a);else if(u==1)i["OS/2"].version1(o,n,a);else if(u==2||u==3||u==4)i["OS/2"].version2(o,n,a);else{if(u!=5)throw"unknown OS/2 table version: "+u;i["OS/2"].version5(o,n,a)}return a},i["OS/2"].version0=function(o,n,s){var u=i._bin;return s.xAvgCharWidth=u.readShort(o,n),n+=2,s.usWeightClass=u.readUshort(o,n),n+=2,s.usWidthClass=u.readUshort(o,n),n+=2,s.fsType=u.readUshort(o,n),n+=2,s.ySubscriptXSize=u.readShort(o,n),n+=2,s.ySubscriptYSize=u.readShort(o,n),n+=2,s.ySubscriptXOffset=u.readShort(o,n),n+=2,s.ySubscriptYOffset=u.readShort(o,n),n+=2,s.ySuperscriptXSize=u.readShort(o,n),n+=2,s.ySuperscriptYSize=u.readShort(o,n),n+=2,s.ySuperscriptXOffset=u.readShort(o,n),n+=2,s.ySuperscriptYOffset=u.readShort(o,n),n+=2,s.yStrikeoutSize=u.readShort(o,n),n+=2,s.yStrikeoutPosition=u.readShort(o,n),n+=2,s.sFamilyClass=u.readShort(o,n),n+=2,s.panose=u.readBytes(o,n,10),n+=10,s.ulUnicodeRange1=u.readUint(o,n),n+=4,s.ulUnicodeRange2=u.readUint(o,n),n+=4,s.ulUnicodeRange3=u.readUint(o,n),n+=4,s.ulUnicodeRange4=u.readUint(o,n),n+=4,s.achVendID=[u.readInt8(o,n),u.readInt8(o,n+1),u.readInt8(o,n+2),u.readInt8(o,n+3)],n+=4,s.fsSelection=u.readUshort(o,n),n+=2,s.usFirstCharIndex=u.readUshort(o,n),n+=2,s.usLastCharIndex=u.readUshort(o,n),n+=2,s.sTypoAscender=u.readShort(o,n),n+=2,s.sTypoDescender=u.readShort(o,n),n+=2,s.sTypoLineGap=u.readShort(o,n),n+=2,s.usWinAscent=u.readUshort(o,n),n+=2,s.usWinDescent=u.readUshort(o,n),n+=2},i["OS/2"].version1=function(o,n,s){var u=i._bin;return n=i["OS/2"].version0(o,n,s),s.ulCodePageRange1=u.readUint(o,n),n+=4,s.ulCodePageRange2=u.readUint(o,n),n+=4},i["OS/2"].version2=function(o,n,s){var u=i._bin;return n=i["OS/2"].version1(o,n,s),s.sxHeight=u.readShort(o,n),n+=2,s.sCapHeight=u.readShort(o,n),n+=2,s.usDefault=u.readUshort(o,n),n+=2,s.usBreak=u.readUshort(o,n),n+=2,s.usMaxContext=u.readUshort(o,n),n+=2},i["OS/2"].version5=function(o,n,s){var u=i._bin;return n=i["OS/2"].version2(o,n,s),s.usLowerOpticalPointSize=u.readUshort(o,n),n+=2,s.usUpperOpticalPointSize=u.readUshort(o,n),n+=2},i.post={},i.post.parse=function(o,n,s){var u=i._bin,a={};return a.version=u.readFixed(o,n),n+=4,a.italicAngle=u.readFixed(o,n),n+=4,a.underlinePosition=u.readShort(o,n),n+=2,a.underlineThickness=u.readShort(o,n),n+=2,a},i==null&&(i={}),i.U==null&&(i.U={}),i.U.codeToGlyph=function(o,n){var s=o.cmap,u=-1;if(s.p0e4!=null?u=s.p0e4:s.p3e1!=null?u=s.p3e1:s.p1e0!=null?u=s.p1e0:s.p0e3!=null&&(u=s.p0e3),u==-1)throw"no familiar platform and encoding!";var a=s.tables[u];if(a.format==0)return n>=a.map.length?0:a.map[n];if(a.format==4){for(var h=-1,c=0;c<a.endCount.length;c++)if(n<=a.endCount[c]){h=c;break}return h==-1||a.startCount[h]>n?0:65535&(a.idRangeOffset[h]!=0?a.glyphIdArray[n-a.startCount[h]+(a.idRangeOffset[h]>>1)-(a.idRangeOffset.length-h)]:n+a.idDelta[h])}if(a.format==12){if(n>a.groups[a.groups.length-1][1])return 0;for(c=0;c<a.groups.length;c++){var m=a.groups[c];if(m[0]<=n&&n<=m[1])return m[2]+(n-m[0])}return 0}throw"unknown cmap table format "+a.format},i.U.glyphToPath=function(o,n){var s={cmds:[],crds:[]};if(o.SVG&&o.SVG.entries[n]){var u=o.SVG.entries[n];return u==null?s:(typeof u=="string"&&(u=i.SVG.toPath(u),o.SVG.entries[n]=u),u)}if(o.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:o.CFF.Private?o.CFF.Private.defaultWidthX:0,open:!1},h=o.CFF,c=o.CFF.Private;if(h.ROS){for(var m=0;h.FDSelect[m+2]<=n;)m+=2;c=h.FDArray[h.FDSelect[m+1]].Private}i.U._drawCFF(o.CFF.CharStrings[n],a,h,c,s)}else o.glyf&&i.U._drawGlyf(n,o,s);return s},i.U._drawGlyf=function(o,n,s){var u=n.glyf[o];u==null&&(u=n.glyf[o]=i.glyf._parseGlyf(n,o)),u!=null&&(u.noc>-1?i.U._simpleGlyph(u,s):i.U._compoGlyph(u,n,s))},i.U._simpleGlyph=function(o,n){for(var s=0;s<o.noc;s++){for(var u=s==0?0:o.endPts[s-1]+1,a=o.endPts[s],h=u;h<=a;h++){var c=h==u?a:h-1,m=h==a?u:h+1,y=1&o.flags[h],S=1&o.flags[c],E=1&o.flags[m],T=o.xs[h],x=o.ys[h];if(h==u)if(y){if(!S){i.U.P.moveTo(n,T,x);continue}i.U.P.moveTo(n,o.xs[c],o.ys[c])}else S?i.U.P.moveTo(n,o.xs[c],o.ys[c]):i.U.P.moveTo(n,(o.xs[c]+T)/2,(o.ys[c]+x)/2);y?S&&i.U.P.lineTo(n,T,x):E?i.U.P.qcurveTo(n,T,x,o.xs[m],o.ys[m]):i.U.P.qcurveTo(n,T,x,(T+o.xs[m])/2,(x+o.ys[m])/2)}i.U.P.closePath(n)}},i.U._compoGlyph=function(o,n,s){for(var u=0;u<o.parts.length;u++){var a={cmds:[],crds:[]},h=o.parts[u];i.U._drawGlyf(h.glyphIndex,n,a);for(var c=h.m,m=0;m<a.crds.length;m+=2){var y=a.crds[m],S=a.crds[m+1];s.crds.push(y*c.a+S*c.b+c.tx),s.crds.push(y*c.c+S*c.d+c.ty)}for(m=0;m<a.cmds.length;m++)s.cmds.push(a.cmds[m])}},i.U._getGlyphClass=function(o,n){var s=i._lctf.getInterval(n,o);return s==-1?0:n[s+2]},i.U.getPairAdjustment=function(o,n,s){var u=!1;if(o.GPOS)for(var a=o.GPOS,h=a.lookupList,c=a.featureList,m=[],y=0;y<c.length;y++){var S=c[y];if(S.tag=="kern"){u=!0;for(var E=0;E<S.tab.length;E++)if(!m[S.tab[E]]){m[S.tab[E]]=!0;for(var T=h[S.tab[E]],x=0;x<T.tabs.length;x++)if(T.tabs[x]!=null){var k,w=T.tabs[x];if((!w.coverage||(k=i._lctf.coverageIndex(w.coverage,n))!=-1)&&T.ltype!=1){if(T.ltype==2){var U=null;if(w.fmt==1){var R=w.pairsets[k];for(y=0;y<R.length;y++)R[y].gid2==s&&(U=R[y])}else if(w.fmt==2){var F=i.U._getGlyphClass(n,w.classDef1),D=i.U._getGlyphClass(s,w.classDef2);U=w.matrix[F][D]}if(U){var I=0;return U.val1&&U.val1[2]&&(I+=U.val1[2]),U.val2&&U.val2[0]&&(I+=U.val2[0]),I}}}}}}}if(o.kern&&!u){var B=o.kern.glyph1.indexOf(n);if(B!=-1){var Y=o.kern.rval[B].glyph2.indexOf(s);if(Y!=-1)return o.kern.rval[B].vals[Y]}}return 0},i.U._applySubs=function(o,n,s,u){for(var a=o.length-n-1,h=0;h<s.tabs.length;h++)if(s.tabs[h]!=null){var c,m=s.tabs[h];if(!m.coverage||(c=i._lctf.coverageIndex(m.coverage,o[n]))!=-1){if(s.ltype==1)o[n],m.fmt==1?o[n]=o[n]+m.delta:o[n]=m.newg[c];else if(s.ltype==4)for(var y=m.vals[c],S=0;S<y.length;S++){var E=y[S],T=E.chain.length;if(!(T>a)){for(var x=!0,k=0,w=0;w<T;w++){for(;o[n+k+(1+w)]==-1;)k++;E.chain[w]!=o[n+k+(1+w)]&&(x=!1)}if(x){for(o[n]=E.nglyph,w=0;w<T+k;w++)o[n+w+1]=-1;break}}}else if(s.ltype==5&&m.fmt==2)for(var U=i._lctf.getInterval(m.cDef,o[n]),R=m.cDef[U+2],F=m.scset[R],D=0;D<F.length;D++){var I=F[D],B=I.input;if(!(B.length>a)){for(x=!0,w=0;w<B.length;w++){var Y=i._lctf.getInterval(m.cDef,o[n+1+w]);if(U==-1&&m.cDef[Y+2]!=B[w]){x=!1;break}}if(x){var ie=I.substLookupRecords;for(S=0;S<ie.length;S+=2)ie[S],ie[S+1]}}}else if(s.ltype==6&&m.fmt==3){if(!i.U._glsCovered(o,m.backCvg,n-m.backCvg.length)||!i.U._glsCovered(o,m.inptCvg,n)||!i.U._glsCovered(o,m.ahedCvg,n+m.inptCvg.length))continue;var G=m.lookupRec;for(D=0;D<G.length;D+=2){U=G[D];var L=u[G[D+1]];i.U._applySubs(o,n+U,L,u)}}}}},i.U._glsCovered=function(o,n,s){for(var u=0;u<n.length;u++)if(i._lctf.coverageIndex(n[u],o[s+u])==-1)return!1;return!0},i.U.glyphsToPath=function(o,n,s){for(var u={cmds:[],crds:[]},a=0,h=0;h<n.length;h++){var c=n[h];if(c!=-1){for(var m=h<n.length-1&&n[h+1]!=-1?n[h+1]:0,y=i.U.glyphToPath(o,c),S=0;S<y.crds.length;S+=2)u.crds.push(y.crds[S]+a),u.crds.push(y.crds[S+1]);for(s&&u.cmds.push(s),S=0;S<y.cmds.length;S++)u.cmds.push(y.cmds[S]);s&&u.cmds.push("X"),a+=o.hmtx.aWidth[c],h<n.length-1&&(a+=i.U.getPairAdjustment(o,c,m))}}return u},i.U.P={},i.U.P.moveTo=function(o,n,s){o.cmds.push("M"),o.crds.push(n,s)},i.U.P.lineTo=function(o,n,s){o.cmds.push("L"),o.crds.push(n,s)},i.U.P.curveTo=function(o,n,s,u,a,h,c){o.cmds.push("C"),o.crds.push(n,s,u,a,h,c)},i.U.P.qcurveTo=function(o,n,s,u,a){o.cmds.push("Q"),o.crds.push(n,s,u,a)},i.U.P.closePath=function(o){o.cmds.push("Z")},i.U._drawCFF=function(o,n,s,u,a){for(var h=n.stack,c=n.nStems,m=n.haveWidth,y=n.width,S=n.open,E=0,T=n.x,x=n.y,k=0,w=0,U=0,R=0,F=0,D=0,I=0,B=0,Y=0,ie=0,G={val:0,size:0};E<o.length;){i.CFF.getCharString(o,E,G);var L=G.val;if(E+=G.size,L=="o1"||L=="o18")h.length%2!=0&&!m&&(y=h.shift()+u.nominalWidthX),c+=h.length>>1,h.length=0,m=!0;else if(L=="o3"||L=="o23")h.length%2!=0&&!m&&(y=h.shift()+u.nominalWidthX),c+=h.length>>1,h.length=0,m=!0;else if(L=="o4")h.length>1&&!m&&(y=h.shift()+u.nominalWidthX,m=!0),S&&i.U.P.closePath(a),x+=h.pop(),i.U.P.moveTo(a,T,x),S=!0;else if(L=="o5")for(;h.length>0;)T+=h.shift(),x+=h.shift(),i.U.P.lineTo(a,T,x);else if(L=="o6"||L=="o7")for(var $=h.length,K=L=="o6",te=0;te<$;te++){var oe=h.shift();K?T+=oe:x+=oe,K=!K,i.U.P.lineTo(a,T,x)}else if(L=="o8"||L=="o24"){$=h.length;for(var pe=0;pe+6<=$;)k=T+h.shift(),w=x+h.shift(),U=k+h.shift(),R=w+h.shift(),T=U+h.shift(),x=R+h.shift(),i.U.P.curveTo(a,k,w,U,R,T,x),pe+=6;L=="o24"&&(T+=h.shift(),x+=h.shift(),i.U.P.lineTo(a,T,x))}else{if(L=="o11")break;if(L=="o1234"||L=="o1235"||L=="o1236"||L=="o1237")L=="o1234"&&(w=x,U=(k=T+h.shift())+h.shift(),ie=R=w+h.shift(),D=R,B=x,T=(I=(F=(Y=U+h.shift())+h.shift())+h.shift())+h.shift(),i.U.P.curveTo(a,k,w,U,R,Y,ie),i.U.P.curveTo(a,F,D,I,B,T,x)),L=="o1235"&&(k=T+h.shift(),w=x+h.shift(),U=k+h.shift(),R=w+h.shift(),Y=U+h.shift(),ie=R+h.shift(),F=Y+h.shift(),D=ie+h.shift(),I=F+h.shift(),B=D+h.shift(),T=I+h.shift(),x=B+h.shift(),h.shift(),i.U.P.curveTo(a,k,w,U,R,Y,ie),i.U.P.curveTo(a,F,D,I,B,T,x)),L=="o1236"&&(k=T+h.shift(),w=x+h.shift(),U=k+h.shift(),ie=R=w+h.shift(),D=R,I=(F=(Y=U+h.shift())+h.shift())+h.shift(),B=D+h.shift(),T=I+h.shift(),i.U.P.curveTo(a,k,w,U,R,Y,ie),i.U.P.curveTo(a,F,D,I,B,T,x)),L=="o1237"&&(k=T+h.shift(),w=x+h.shift(),U=k+h.shift(),R=w+h.shift(),Y=U+h.shift(),ie=R+h.shift(),F=Y+h.shift(),D=ie+h.shift(),I=F+h.shift(),B=D+h.shift(),Math.abs(I-T)>Math.abs(B-x)?T=I+h.shift():x=B+h.shift(),i.U.P.curveTo(a,k,w,U,R,Y,ie),i.U.P.curveTo(a,F,D,I,B,T,x));else if(L=="o14"){if(h.length>0&&!m&&(y=h.shift()+s.nominalWidthX,m=!0),h.length==4){var H=h.shift(),z=h.shift(),b=h.shift(),P=h.shift(),O=i.CFF.glyphBySE(s,b),V=i.CFF.glyphBySE(s,P);i.U._drawCFF(s.CharStrings[O],n,s,u,a),n.x=H,n.y=z,i.U._drawCFF(s.CharStrings[V],n,s,u,a)}S&&(i.U.P.closePath(a),S=!1)}else if(L=="o19"||L=="o20")h.length%2!=0&&!m&&(y=h.shift()+u.nominalWidthX),c+=h.length>>1,h.length=0,m=!0,E+=c+7>>3;else if(L=="o21")h.length>2&&!m&&(y=h.shift()+u.nominalWidthX,m=!0),x+=h.pop(),T+=h.pop(),S&&i.U.P.closePath(a),i.U.P.moveTo(a,T,x),S=!0;else if(L=="o22")h.length>1&&!m&&(y=h.shift()+u.nominalWidthX,m=!0),T+=h.pop(),S&&i.U.P.closePath(a),i.U.P.moveTo(a,T,x),S=!0;else if(L=="o25"){for(;h.length>6;)T+=h.shift(),x+=h.shift(),i.U.P.lineTo(a,T,x);k=T+h.shift(),w=x+h.shift(),U=k+h.shift(),R=w+h.shift(),T=U+h.shift(),x=R+h.shift(),i.U.P.curveTo(a,k,w,U,R,T,x)}else if(L=="o26")for(h.length%2&&(T+=h.shift());h.length>0;)k=T,w=x+h.shift(),T=U=k+h.shift(),x=(R=w+h.shift())+h.shift(),i.U.P.curveTo(a,k,w,U,R,T,x);else if(L=="o27")for(h.length%2&&(x+=h.shift());h.length>0;)w=x,U=(k=T+h.shift())+h.shift(),R=w+h.shift(),T=U+h.shift(),x=R,i.U.P.curveTo(a,k,w,U,R,T,x);else if(L=="o10"||L=="o29"){var X=L=="o10"?u:s;if(h.length==0)console.debug("error: empty stack");else{var j=h.pop(),ne=X.Subrs[j+X.Bias];n.x=T,n.y=x,n.nStems=c,n.haveWidth=m,n.width=y,n.open=S,i.U._drawCFF(ne,n,s,u,a),T=n.x,x=n.y,c=n.nStems,m=n.haveWidth,y=n.width,S=n.open}}else if(L=="o30"||L=="o31"){var Q=h.length,ee=(pe=0,L=="o31");for(pe+=Q-($=-3&Q);pe<$;)ee?(w=x,U=(k=T+h.shift())+h.shift(),x=(R=w+h.shift())+h.shift(),$-pe==5?(T=U+h.shift(),pe++):T=U,ee=!1):(k=T,w=x+h.shift(),U=k+h.shift(),R=w+h.shift(),T=U+h.shift(),$-pe==5?(x=R+h.shift(),pe++):x=R,ee=!0),i.U.P.curveTo(a,k,w,U,R,T,x),pe+=4}else{if((L+"").charAt(0)=="o")throw console.debug("Unknown operation: "+L,o),L;h.push(L)}}}n.x=T,n.y=x,n.nStems=c,n.haveWidth=m,n.width=y,n.open=S};var p=i,g={Typr:p};return d.Typr=p,d.default=g,Object.defineProperty(d,"__esModule",{value:!0}),d}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function yh(){return function(d){var i=Uint8Array,p=Uint16Array,g=Uint32Array,o=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(L,$){for(var K=new p(31),te=0;te<31;++te)K[te]=$+=1<<L[te-1];var oe=new g(K[30]);for(te=1;te<30;++te)for(var pe=K[te];pe<K[te+1];++pe)oe[pe]=pe-K[te]<<5|te;return[K,oe]},a=u(o,2),h=a[0],c=a[1];h[28]=258,c[258]=28;for(var m=u(n,0)[0],y=new p(32768),S=0;S<32768;++S){var E=(43690&S)>>>1|(21845&S)<<1;E=(61680&(E=(52428&E)>>>2|(13107&E)<<2))>>>4|(3855&E)<<4,y[S]=((65280&E)>>>8|(255&E)<<8)>>>1}var T=function(L,$,K){for(var te=L.length,oe=0,pe=new p($);oe<te;++oe)++pe[L[oe]-1];var H,z=new p($);for(oe=0;oe<$;++oe)z[oe]=z[oe-1]+pe[oe-1]<<1;if(K){H=new p(1<<$);var b=15-$;for(oe=0;oe<te;++oe)if(L[oe])for(var P=oe<<4|L[oe],O=$-L[oe],V=z[L[oe]-1]++<<O,X=V|(1<<O)-1;V<=X;++V)H[y[V]>>>b]=P}else for(H=new p(te),oe=0;oe<te;++oe)L[oe]&&(H[oe]=y[z[L[oe]-1]++]>>>15-L[oe]);return H},x=new i(288);for(S=0;S<144;++S)x[S]=8;for(S=144;S<256;++S)x[S]=9;for(S=256;S<280;++S)x[S]=7;for(S=280;S<288;++S)x[S]=8;var k=new i(32);for(S=0;S<32;++S)k[S]=5;var w=T(x,9,1),U=T(k,5,1),R=function(L){for(var $=L[0],K=1;K<L.length;++K)L[K]>$&&($=L[K]);return $},F=function(L,$,K){var te=$/8|0;return(L[te]|L[te+1]<<8)>>(7&$)&K},D=function(L,$){var K=$/8|0;return(L[K]|L[K+1]<<8|L[K+2]<<16)>>(7&$)},I=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],B=function(L,$,K){var te=new Error($||I[L]);if(te.code=L,Error.captureStackTrace&&Error.captureStackTrace(te,B),!K)throw te;return te},Y=function(L,$,K){var te=L.length;if(!te||K&&!K.l&&te<5)return $||new i(0);var oe=!$||K,pe=!K||K.i;K||(K={}),$||($=new i(3*te));var H,z=function(Me){var Ve=$.length;if(Me>Ve){var Ye=new i(Math.max(2*Ve,Me));Ye.set($),$=Ye}},b=K.f||0,P=K.p||0,O=K.b||0,V=K.l,X=K.d,j=K.m,ne=K.n,Q=8*te;do{if(!V){K.f=b=F(L,P,1);var ee=F(L,P+1,3);if(P+=3,!ee){var se=L[(he=((H=P)/8|0)+(7&H&&1)+4)-4]|L[he-3]<<8,fe=he+se;if(fe>te){pe&&B(0);break}oe&&z(O+se),$.set(L.subarray(he,fe),O),K.b=O+=se,K.p=P=8*fe;continue}if(ee==1)V=w,X=U,j=9,ne=5;else if(ee==2){var J=F(L,P,31)+257,q=F(L,P+10,15)+4,ye=J+F(L,P+5,31)+1;P+=14;for(var Fe=new i(ye),ue=new i(19),we=0;we<q;++we)ue[s[we]]=F(L,P+3*we,7);P+=3*q;var Ue=R(ue),le=(1<<Ue)-1,_e=T(ue,Ue,1);for(we=0;we<ye;){var he,re=_e[F(L,P,le)];if(P+=15&re,(he=re>>>4)<16)Fe[we++]=he;else{var Pe=0,ge=0;for(he==16?(ge=3+F(L,P,3),P+=2,Pe=Fe[we-1]):he==17?(ge=3+F(L,P,7),P+=3):he==18&&(ge=11+F(L,P,127),P+=7);ge--;)Fe[we++]=Pe}}var Se=Fe.subarray(0,J),ve=Fe.subarray(J);j=R(Se),ne=R(ve),V=T(Se,j,1),X=T(ve,ne,1)}else B(1);if(P>Q){pe&&B(0);break}}oe&&z(O+131072);for(var be=(1<<j)-1,Ae=(1<<ne)-1,Te=P;;Te=P){var Oe=(Pe=V[D(L,P)&be])>>>4;if((P+=15&Pe)>Q){pe&&B(0);break}if(Pe||B(2),Oe<256)$[O++]=Oe;else{if(Oe==256){Te=P,V=null;break}var je=Oe-254;if(Oe>264){var lt=o[we=Oe-257];je=F(L,P,(1<<lt)-1)+h[we],P+=lt}var Re=X[D(L,P)&Ae],Ke=Re>>>4;if(Re||B(3),P+=15&Re,ve=m[Ke],Ke>3&&(lt=n[Ke],ve+=D(L,P)&(1<<lt)-1,P+=lt),P>Q){pe&&B(0);break}oe&&z(O+131072);for(var Be=O+je;O<Be;O+=4)$[O]=$[O-ve],$[O+1]=$[O+1-ve],$[O+2]=$[O+2-ve],$[O+3]=$[O+3-ve];O=Be}}K.l=V,K.p=Te,K.b=O,V&&(b=1,K.m=j,K.d=X,K.n=ne)}while(!b);return O==$.length?$:function(Me,Ve,Ye){(Ve==null||Ve<0)&&(Ve=0),(Ye==null||Ye>Me.length)&&(Ye=Me.length);var at=new(Me instanceof p?p:Me instanceof g?g:i)(Ye-Ve);return at.set(Me.subarray(Ve,Ye)),at}($,0,O)},ie=new i(0),G=typeof TextDecoder<"u"&&new TextDecoder;try{G.decode(ie,{stream:!0})}catch{}return d.convert_streams=function(L){var $=new DataView(L),K=0;function te(){var J=$.getUint16(K);return K+=2,J}function oe(){var J=$.getUint32(K);return K+=4,J}function pe(J){se.setUint16(fe,J),fe+=2}function H(J){se.setUint32(fe,J),fe+=4}for(var z={signature:oe(),flavor:oe(),length:oe(),numTables:te(),reserved:te(),totalSfntSize:oe(),majorVersion:te(),minorVersion:te(),metaOffset:oe(),metaLength:oe(),metaOrigLength:oe(),privOffset:oe(),privLength:oe()},b=0;Math.pow(2,b)<=z.numTables;)b++;b--;for(var P=16*Math.pow(2,b),O=16*z.numTables-P,V=12,X=[],j=0;j<z.numTables;j++)X.push({tag:oe(),offset:oe(),compLength:oe(),origLength:oe(),origChecksum:oe()}),V+=16;var ne,Q=new Uint8Array(12+16*X.length+X.reduce(function(J,q){return J+q.origLength+4},0)),ee=Q.buffer,se=new DataView(ee),fe=0;return H(z.flavor),pe(z.numTables),pe(P),pe(b),pe(O),X.forEach(function(J){H(J.tag),H(J.origChecksum),H(V),H(J.origLength),J.outOffset=V,(V+=J.origLength)%4!=0&&(V+=4-V%4)}),X.forEach(function(J){var q,ye=L.slice(J.offset,J.offset+J.compLength);if(J.compLength!=J.origLength){var Fe=new Uint8Array(J.origLength);q=new Uint8Array(ye,2),Y(q,Fe)}else Fe=new Uint8Array(ye);Q.set(Fe,J.outOffset);var ue=0;(V=J.outOffset+J.origLength)%4!=0&&(ue=4-V%4),Q.set(new Uint8Array(ue).buffer,J.outOffset+J.origLength),ne=V+ue}),ee.slice(0,ne)},Object.defineProperty(d,"__esModule",{value:!0}),d}({}).convert_streams}function Sh(d,i){const p={M:2,L:2,Q:4,C:6,Z:0},g={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},o=1,n=2,s=4,u=8,a=16,h=32;let c;function m(F){if(!c){const D={R:n,L:o,D:s,C:a,U:h,T:u};c=new Map;for(let I in g){let B=0;g[I].split(",").forEach(Y=>{let[ie,G]=Y.split("+");ie=parseInt(ie,36),G=G?parseInt(G,36):0,c.set(B+=ie,D[I]);for(let L=G;L--;)c.set(++B,D[I])})}}return c.get(F)||h}const y=1,S=2,E=3,T=4,x=[null,"isol","init","fina","medi"];function k(F){const D=new Uint8Array(F.length);let I=h,B=y,Y=-1;for(let ie=0;ie<F.length;ie++){const G=F.codePointAt(ie);let L=m(G)|0,$=y;L&u||(I&(o|s|a)?L&(n|s|a)?($=E,(B===y||B===E)&&D[Y]++):L&(o|h)&&(B===S||B===T)&&D[Y]--:I&(n|h)&&(B===S||B===T)&&D[Y]--,B=D[ie]=$,I=L,Y=ie,G>65535&&ie++)}return D}function w(F,D){const I=[];for(let Y=0;Y<D.length;Y++){const ie=D.codePointAt(Y);ie>65535&&Y++,I.push(d.U.codeToGlyph(F,ie))}const B=F.GSUB;if(B){const{lookupList:Y,featureList:ie}=B;let G;const L=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,$=[];ie.forEach(K=>{if(L.test(K.tag))for(let te=0;te<K.tab.length;te++){if($[K.tab[te]])continue;$[K.tab[te]]=!0;const oe=Y[K.tab[te]],pe=/^(isol|init|fina|medi)$/.test(K.tag);pe&&!G&&(G=k(D));for(let H=0;H<I.length;H++)(!G||!pe||x[G[H]]===K.tag)&&d.U._applySubs(I,H,oe,Y)}})}return I}function U(...F){for(let D=0;D<F.length;D++)if(typeof F[D]=="number")return F[D]}function R(F){const D=Object.create(null),I=F["OS/2"],B=F.hhea,Y=F.head.unitsPerEm,ie=U(I&&I.sTypoAscender,B&&B.ascender,Y),G={unitsPerEm:Y,ascender:ie,descender:U(I&&I.sTypoDescender,B&&B.descender,0),capHeight:U(I&&I.sCapHeight,ie),xHeight:U(I&&I.sxHeight,ie),lineGap:U(I&&I.sTypoLineGap,B&&B.lineGap),forEachGlyph(L,$,K,te){let oe=0;const pe=1/G.unitsPerEm*$,H=w(F,L);let z=0,b=-1;return H.forEach((P,O)=>{if(P!==-1){let V=D[P];if(!V){const{cmds:X,crds:j}=d.U.glyphToPath(F,P);let ne="",Q=0;for(let q=0,ye=X.length;q<ye;q++){const Fe=p[X[q]];ne+=X[q];for(let ue=1;ue<=Fe;ue++)ne+=(ue>1?",":"")+j[Q++]}let ee,se,fe,J;if(j.length){ee=se=1/0,fe=J=-1/0;for(let q=0,ye=j.length;q<ye;q+=2){let Fe=j[q],ue=j[q+1];Fe<ee&&(ee=Fe),ue<se&&(se=ue),Fe>fe&&(fe=Fe),ue>J&&(J=ue)}}else ee=fe=se=J=0;V=D[P]={index:P,advanceWidth:F.hmtx.aWidth[P],xMin:ee,yMin:se,xMax:fe,yMax:J,path:ne,pathCommandCount:X.length}}b!==-1&&(oe+=d.U.getPairAdjustment(F,b,P)*pe),te.call(null,V,oe,z),V.advanceWidth&&(oe+=V.advanceWidth*pe),K&&(oe+=K*$),b=P}z+=L.codePointAt(z)>65535?2:1}),oe}};return G}return function(D){const I=new Uint8Array(D,0,4),B=d._bin.readASCII(I,0,4);if(B==="wOFF")D=i(D);else if(B==="wOF2")throw new Error("woff2 fonts not supported");return R(d.parse(D)[0])}}const wh=Vi({name:"Typr Font Parser",dependencies:[gh,yh,Sh],init(d,i,p){const g=d(),o=i();return p(g,o)}}),oi={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},_h=new Wi;function ei(){return(self.performance||Date).now()}const Gu=Object.create(null);function Rf(d,i){d=kh({},d);const p=ei();if(d.font=Th(d.font||oi.defaultFontURL),d.text=""+d.text,d.sdfGlyphSize=d.sdfGlyphSize||oi.sdfGlyphSize,d.colorRanges!=null){let m={};for(let y in d.colorRanges)if(d.colorRanges.hasOwnProperty(y)){let S=d.colorRanges[y];typeof S!="number"&&(S=_h.set(S).getHex()),m[y]=S}d.colorRanges=m}Object.freeze(d);const{textureWidth:g,sdfExponent:o}=oi,{sdfGlyphSize:n}=d,s=g/n*4;let u=Gu[n];if(!u){const m=document.createElement("canvas");m.width=g,m.height=n*256/s,u=Gu[n]={glyphCount:0,sdfGlyphSize:n,sdfCanvas:m,sdfTexture:new Xu(m,void 0,void 0,void 0,cu,cu),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,xh(u)}const{sdfTexture:a,sdfCanvas:h}=u;let c=u.glyphsByFont.get(d.font);c||u.glyphsByFont.set(d.font,c=new Map),Ph(d).then(m=>{const{glyphIds:y,glyphPositions:S,fontSize:E,unitsPerEm:T,timings:x}=m,k=[],w=new Float32Array(y.length*4),U=E/T;let R=0,F=0;const D=ei();y.forEach((G,L)=>{let $=c.get(G);if(!$){const{path:pe,pathBounds:H}=m.glyphData[G],z=Math.max(H[2]-H[0],H[3]-H[1])/n*(oi.sdfMargin*n+.5),b=u.glyphCount++,P=[H[0]-z,H[1]-z,H[2]+z,H[3]+z];c.set(G,$={path:pe,atlasIndex:b,sdfViewBox:P}),k.push($)}const{sdfViewBox:K}=$,te=S[F++],oe=S[F++];w[R++]=te+K[0]*U,w[R++]=oe+K[1]*U,w[R++]=te+K[2]*U,w[R++]=oe+K[3]*U,y[L]=$.atlasIndex}),x.quads=(x.quads||0)+(ei()-D);const I=ei();x.sdf={};const B=h.height,Y=Math.ceil(u.glyphCount/s),ie=Math.pow(2,Math.ceil(Math.log2(Y*n)));ie>B&&(console.info(`Increasing SDF texture size ${B}->${ie}`),mh(h,g,ie),a.dispose()),Promise.all(k.map(G=>Af(G,u,d.gpuAccelerateSDF).then(({timing:L})=>{x.sdf[G.atlasIndex]=L}))).then(()=>{k.length&&!u.contextLost&&(Of(u),a.needsUpdate=!0),x.sdfTotal=ei()-I,x.total=ei()-p,i(Object.freeze({parameters:d,sdfTexture:a,sdfGlyphSize:n,sdfExponent:o,glyphBounds:w,glyphAtlasIndices:y,glyphColors:m.glyphColors,caretPositions:m.caretPositions,caretHeight:m.caretHeight,chunkedBounds:m.chunkedBounds,ascender:m.ascender,descender:m.descender,lineHeight:m.lineHeight,capHeight:m.capHeight,xHeight:m.xHeight,topBaseline:m.topBaseline,blockBounds:m.blockBounds,visibleBounds:m.visibleBounds,timings:m.timings}))})}),Promise.resolve().then(()=>{u.contextLost||vh(h)})}function Af({path:d,atlasIndex:i,sdfViewBox:p},{sdfGlyphSize:g,sdfCanvas:o,contextLost:n},s){if(n)return Promise.resolve({timing:-1});const{textureWidth:u,sdfExponent:a}=oi,h=Math.max(p[2]-p[0],p[3]-p[1]),c=Math.floor(i/4),m=c%(u/g)*g,y=Math.floor(c/(u/g))*g,S=i%4;return uh(g,g,d,p,h,a,o,m,y,S,s)}function xh(d){const i=d.sdfCanvas;i.addEventListener("webglcontextlost",p=>{console.log("Context Lost",p),p.preventDefault(),d.contextLost=!0}),i.addEventListener("webglcontextrestored",p=>{console.log("Context Restored",p),d.contextLost=!1;const g=[];d.glyphsByFont.forEach(o=>{o.forEach(n=>{g.push(Af(n,d,!0))})}),Promise.all(g).then(()=>{Of(d),d.sdfTexture.needsUpdate=!0})})}function Eh({font:d,characters:i,sdfGlyphSize:p},g){let o=Array.isArray(i)?i.join(`
`):""+i;Rf({font:d,sdfGlyphSize:p,text:o},g)}function kh(d,i){for(let p in i)i.hasOwnProperty(p)&&(d[p]=i[p]);return d}let Ho;function Th(d){return Ho||(Ho=typeof document>"u"?{}:document.createElement("a")),Ho.href=d,Ho.href}function Of(d){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:i,sdfTexture:p}=d,{width:g,height:o}=i,n=d.sdfCanvas.getContext("webgl");let s=p.image.data;(!s||s.length!==g*o*4)&&(s=new Uint8Array(g*o*4),p.image={width:g,height:o,data:s},p.flipY=!1,p.isDataTexture=!0),n.readPixels(0,0,g,o,n.RGBA,n.UNSIGNED_BYTE,s)}}const Uh=Vi({name:"Typesetter",dependencies:[oi,wh,sh,eh],init(d,i,p,g){const{defaultFontURL:o}=d;return p(i,g(),{defaultFontURL:o})}}),Ph=Vi({name:"Typesetter",dependencies:[Uh],init(d){return function(i){return new Promise(p=>{d.typeset(i,p)})}},getTransferables(d){const i=[d.glyphPositions.buffer,d.glyphIds.buffer];return d.caretPositions&&i.push(d.caretPositions.buffer),d.glyphColors&&i.push(d.glyphColors.buffer),i}}),bu={};function Ch(d){let i=bu[d];if(!i){const p=new Pa(1,1,d,d),g=p.clone(),o=p.attributes,n=g.attributes,s=new Yu,u=o.uv.count;for(let a=0;a<u;a++)n.position.array[a*3]*=-1,n.normal.array[a*3+2]*=-1;["position","normal","uv"].forEach(a=>{s.setAttribute(a,new fa([...o[a].array,...n[a].array],o[a].itemSize))}),s.setIndex([...p.index.array,...g.index.array.map(a=>a+u)]),s.translate(.5,.5,0),i=bu[d]=s}return i}const Mh="aTroikaGlyphBounds",ju="aTroikaGlyphIndex",Fh="aTroikaGlyphColor";class Dh extends Ju{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ua,this.boundingBox=new Ko}computeBoundingSphere(){}computeBoundingBox(){}setSide(i){const p=this.getIndex().count;this.setDrawRange(i===Gc?p/2:0,i===Ta?p:p/2)}set detail(i){if(i!==this._detail){this._detail=i,(typeof i!="number"||i<1)&&(i=1);let p=Ch(i);["position","normal","uv"].forEach(g=>{this.attributes[g]=p.attributes[g].clone()}),this.setIndex(p.getIndex().clone())}}get detail(){return this._detail}set curveRadius(i){i!==this._curveRadius&&(this._curveRadius=i,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(i,p,g,o,n){aa(this,Mh,i,4),aa(this,ju,p,1),aa(this,Fh,n,3),this._blockBounds=g,this._chunkedBounds=o,this.instanceCount=p.length,this._updateBounds()}_updateBounds(){const i=this._blockBounds;if(i){const{curveRadius:p,boundingBox:g}=this;if(p){const{PI:o,floor:n,min:s,max:u,sin:a,cos:h}=Math,c=o/2,m=o*2,y=Math.abs(p),S=i[0]/y,E=i[2]/y,T=n((S+c)/m)!==n((E+c)/m)?-y:s(a(S)*y,a(E)*y),x=n((S-c)/m)!==n((E-c)/m)?y:u(a(S)*y,a(E)*y),k=n((S+o)/m)!==n((E+o)/m)?y*2:u(y-h(S)*y,y-h(E)*y);g.min.set(T,i[1],p<0?-k:0),g.max.set(x,i[3],p<0?0:k)}else g.min.set(i[0],i[1],0),g.max.set(i[2],i[3],0);g.getBoundingSphere(this.boundingSphere)}}applyClipRect(i){let p=this.getAttribute(ju).count,g=this._chunkedBounds;if(g)for(let o=g.length;o--;){p=g[o].end;let n=g[o].rect;if(n[1]<i.w&&n[3]>i.y&&n[0]<i.z&&n[2]>i.x)break}this.instanceCount=p}}function aa(d,i,p,g){const o=d.getAttribute(i);p?o&&o.array.length===p.length?(o.array.set(p),o.needsUpdate=!0):(d.setAttribute(i,new bc(p,g)),delete d._maxInstanceCount,d.dispose()):o&&d.deleteAttribute(i)}const Lh=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Rh=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Ah=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Oh=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function zh(d){const i=_a(d,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Fr},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ai(0,0,0,0)},uTroikaClipRect:{value:new ai(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Fr},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Wi},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new jc},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Lh,vertexTransform:Rh,fragmentDefs:Ah,fragmentColorTransform:Oh,customRewriter({vertexShader:p,fragmentShader:g}){let o=/\buniform\s+vec3\s+diffuse\b/;return o.test(g)&&(g=g.replace(o,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),o.test(p)||(p=p.replace(Df,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:p,fragmentShader:g}}});return i.transparent=!0,Object.defineProperties(i,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),i}const Oa=new Wc({color:16777215,side:Ta,transparent:!0}),Wu=8421504,Hu=new Ku,Vo=new ft,sa=new ft,Gi=[],Ih=new ft,ua="+x+y";function Vu(d){return Array.isArray(d)?d[0]:d}let zf=()=>{const d=new Zo(new Pa(1,1),Oa);return zf=()=>d,d},If=()=>{const d=new Zo(new Pa(1,1,32,1),Oa);return If=()=>d,d};const Bh={type:"syncstart"},Nh={type:"synccomplete"},Bf=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Gh=Bf.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Nf=class extends Zo{constructor(){const i=new Dh;super(i,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Wu,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=ua,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(i){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(i):(this._isSyncing=!0,this.dispatchEvent(Bh),Rf({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},p=>{this._isSyncing=!1,this._textRenderInfo=p,this.geometry.updateGlyphs(p.glyphBounds,p.glyphAtlasIndices,p.blockBounds,p.chunkedBounds,p.glyphColors);const g=this._queuedSyncs;g&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{g.forEach(o=>o&&o())})),this.dispatchEvent(Nh),i&&i()})))}onBeforeRender(i,p,g,o,n,s){this.sync(),n.isTroikaTextMaterial&&this._prepareForRender(n),n._hadOwnSide=n.hasOwnProperty("side"),this.geometry.setSide(n._actualSide=n.side),n.side=Nc}onAfterRender(i,p,g,o,n,s){n._hadOwnSide?n.side=n._actualSide:delete n.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let i=this._derivedMaterial;const p=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Oa.clone());if((!i||i.baseMaterial!==p)&&(i=this._derivedMaterial=zh(p),p.addEventListener("dispose",function g(){p.removeEventListener("dispose",g),i.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let g=i._outlineMtl;return g||(g=i._outlineMtl=Object.create(i,{id:{value:i.id+.1}}),g.isTextOutlineMaterial=!0,g.depthWrite=!1,g.map=null,i.addEventListener("dispose",function o(){i.removeEventListener("dispose",o),g.dispose()})),[g,i]}else return i}set material(i){i&&i.isTroikaTextMaterial?(this._derivedMaterial=i,this._baseMaterial=i.baseMaterial):this._baseMaterial=i}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(i){this.geometry.detail=i}get curveRadius(){return this.geometry.curveRadius}set curveRadius(i){this.geometry.curveRadius=i}get customDepthMaterial(){return Vu(this.material).getDepthMaterial()}get customDistanceMaterial(){return Vu(this.material).getDistanceMaterial()}_prepareForRender(i){const p=i.isTextOutlineMaterial,g=i.uniforms,o=this.textRenderInfo;if(o){const{sdfTexture:u,blockBounds:a}=o;g.uTroikaSDFTexture.value=u,g.uTroikaSDFTextureSize.value.set(u.image.width,u.image.height),g.uTroikaSDFGlyphSize.value=o.sdfGlyphSize,g.uTroikaSDFExponent.value=o.sdfExponent,g.uTroikaTotalBounds.value.fromArray(a),g.uTroikaUseGlyphColors.value=!p&&!!o.glyphColors;let h=0,c=0,m=0,y,S,E,T=0,x=0;if(p){let{outlineWidth:w,outlineOffsetX:U,outlineOffsetY:R,outlineBlur:F,outlineOpacity:D}=this;h=this._parsePercent(w)||0,c=Math.max(0,this._parsePercent(F)||0),y=D,T=this._parsePercent(U)||0,x=this._parsePercent(R)||0}else m=Math.max(0,this._parsePercent(this.strokeWidth)||0),m&&(E=this.strokeColor,g.uTroikaStrokeColor.value.set(E??Wu),S=this.strokeOpacity,S==null&&(S=1)),y=this.fillOpacity;g.uTroikaDistanceOffset.value=h,g.uTroikaPositionOffset.value.set(T,x),g.uTroikaBlurRadius.value=c,g.uTroikaStrokeWidth.value=m,g.uTroikaStrokeOpacity.value=S,g.uTroikaFillOpacity.value=y??1,g.uTroikaCurveRadius.value=this.curveRadius||0;let k=this.clipRect;if(k&&Array.isArray(k)&&k.length===4)g.uTroikaClipRect.value.fromArray(k);else{const w=(this.fontSize||.1)*100;g.uTroikaClipRect.value.set(a[0]-w,a[1]-w,a[2]+w,a[3]+w)}this.geometry.applyClipRect(g.uTroikaClipRect.value)}g.uTroikaSDFDebug.value=!!this.debugSDF,i.polygonOffset=!!this.depthOffset,i.polygonOffsetFactor=i.polygonOffsetUnits=this.depthOffset||0;const n=p?this.outlineColor||0:this.color;if(n==null)delete i.color;else{const u=i.hasOwnProperty("color")?i.color:i.color=new Wi;(n!==u._input||typeof n=="object")&&u.set(u._input=n)}let s=this.orientation||ua;if(s!==i._orientation){let u=g.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let a=s!==ua&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(a){let[,h,c,m,y]=a;Vo.set(0,0,0)[c]=h==="-"?1:-1,sa.set(0,0,0)[y]=m==="-"?-1:1,Hu.lookAt(Ih,Vo.cross(sa),sa),u.setFromMatrix4(Hu)}else u.identity();i._orientation=s}}_parsePercent(i){if(typeof i=="string"){let p=i.match(/^(-?[\d.]+)%$/),g=p?parseFloat(p[1]):NaN;i=(isNaN(g)?0:g/100)*this.fontSize}return i}localPositionToTextCoords(i,p=new Fr){p.copy(i);const g=this.curveRadius;return g&&(p.x=Math.atan2(i.x,Math.abs(g)-Math.abs(i.z))*Math.abs(g)),p}worldPositionToTextCoords(i,p=new Fr){return Vo.copy(i),this.localPositionToTextCoords(this.worldToLocal(Vo),p)}raycast(i,p){const{textRenderInfo:g,curveRadius:o}=this;if(g){const n=g.blockBounds,s=o?If():zf(),u=s.geometry,{position:a,uv:h}=u.attributes;for(let c=0;c<h.count;c++){let m=n[0]+h.getX(c)*(n[2]-n[0]);const y=n[1]+h.getY(c)*(n[3]-n[1]);let S=0;o&&(S=o-Math.cos(m/o)*o,m=Math.sin(m/o)*o),a.setXYZ(c,m,y,S)}u.boundingSphere=this.geometry.boundingSphere,u.boundingBox=this.geometry.boundingBox,s.matrixWorld=this.matrixWorld,s.material.side=this.material.side,Gi.length=0,s.raycast(i,Gi);for(let c=0;c<Gi.length;c++)Gi[c].object=this,p.push(Gi[c])}}copy(i){const p=this.geometry;return super.copy(i),this.geometry=p,Gh.forEach(g=>{this[g]=i[g]}),this}clone(){return new this.constructor().copy(this)}};Bf.forEach(d=>{const i="_private_"+d;Object.defineProperty(Nf.prototype,d,{get(){return this[i]},set(p){p!==this[i]&&(this[i]=p,this._needsSync=!0)}})});function bh(d,i,p=(g,o)=>g===o){if(d===i)return!0;if(!d||!i)return!1;const g=d.length;if(i.length!==g)return!1;for(let o=0;o<g;o++)if(!p(d[o],i[o]))return!1;return!0}const Qo=[];function jh(d,i,p=!1,g={}){for(const n of Qo)if(bh(i,n.keys,n.equal)){if(p)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return n.response;if(!p)throw n.promise}const o={keys:i,equal:g.equal,promise:d(...i).then(n=>o.response=n).then(()=>{g.lifespan&&g.lifespan>0&&setTimeout(()=>{const n=Qo.indexOf(o);n!==-1&&Qo.splice(n,1)},g.lifespan)}).catch(n=>o.error=n)};if(Qo.push(o),!p)throw o.promise}const Wh=(d,i,p)=>jh(d,i,!1,p),np=Z.forwardRef(({anchorX:d="center",anchorY:i="middle",font:p,fontSize:g=1,children:o,characters:n,onSync:s,...u},a)=>{const h=Fa(({invalidate:S})=>S),[c]=Z.useState(()=>new Nf),[m,y]=Z.useMemo(()=>{const S=[];let E="";return Z.Children.forEach(o,T=>{typeof T=="string"||typeof T=="number"?E+=T:S.push(T)}),[S,E]},[o]);return Wh(()=>new Promise(S=>Eh({font:p,characters:n},S)),["troika-text",p,n]),Z.useLayoutEffect(()=>void c.sync(()=>{h(),s&&s(c)})),Z.useEffect(()=>()=>c.dispose(),[c]),Z.createElement("primitive",li({object:c,ref:a,font:p,text:y,anchorX:d,anchorY:i,fontSize:g},u),m)}),rp=5e3,Hh={show:"#FF723C",clip:"#FFFF00",episode:"#FF7F50",guest:"#E066FF",topic:"#F8F8FF",Topic:"#F8F8FF",Organization:"#FF7F50"},ip=(d,i)=>{const p=Hh[d]||"#F8F8FF";return i?p:parseInt(p.replace("#","0x"),16)};export{Zh as C,Hh as D,qh as H,ep as L,np as T,rp as U,Sf as a,pd as b,Qh as c,Xh as d,ed as e,Yh as f,ip as g,Xd as h,Aa as i,Ra as j,Jh as k,$h as m,Fa as u};
